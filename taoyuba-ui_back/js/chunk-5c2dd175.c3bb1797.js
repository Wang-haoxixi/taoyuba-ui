(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c2dd175","chunk-2d0d7ac3","chunk-2d0d7ac3"],{"12d1":function(e,t,a){},"5aa1":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("page-header",{attrs:{title:e.formData.contractName,backOption:e.backOption}},[a("div",{staticClass:"tags",attrs:{slot:"sub"},slot:"sub"},[a("iep-tag-detail",{model:{value:e.formData.tagKeyWords,callback:function(t){e.$set(e.formData,"tagKeyWords",t)},expression:"formData.tagKeyWords"}})],1)]),a("el-row",{staticClass:"info"},[e._l(e.infoList,(function(t,r){return a("el-col",{key:r,staticClass:"item",attrs:{span:12}},[a("label",[e._v(e._s(t.name)+"：")]),"dict"==t.type?a("span",[e._v(e._s(e.dictsMap[t.value][e.formData[t.value]]))]):"date"==t.type?a("span",[e._v(e._s(e.formatYear(e.formData[t.value])))]):a("span",[e._v(e._s(e.formData[t.value]))])])})),a("el-col",{staticClass:"item remark"},[a("div",{staticClass:"remark-title"},[e._v("合同说明/收款方式：")]),a("div",{staticClass:"remark-content"},[e._v(e._s(e.formData.contractExpl))])]),a("el-col",{staticClass:"item file"},[a("el-col",{staticClass:"item",attrs:{span:12}},[a("label",[e._v("合同附件：")]),e._l(e.formData.contractFileList,(function(t,r){return a("span",{key:r},[a("i",{staticClass:"icon-fujian"}),e._v(e._s(t.name)+" "),a("iep-button",{attrs:{type:"text"},on:{click:function(a){return e.downloadFile(t)}}},[e._v("下载")])],1)}))],2)],1)],2),a("el-row",{staticClass:"clause"},[a("el-col",{staticClass:"name"},[e._v("合同/项目款项")]),a("el-row",{staticClass:"list"},[a("el-col",{staticClass:"title"},[e._v("关联项目：")]),a("el-col",{staticClass:"content"},[a("label",[e._v("金额")]),a("span",[e._v("50,000")])])],1),a("el-row",{staticClass:"list"},[a("el-col",{staticClass:"title"},[e._v("回款率：")]),a("el-col",{staticClass:"content"},[a("label",[e._v("40%")])])],1),a("el-row",{staticClass:"list"},[a("el-col",{staticClass:"title"},[e._v("集团项目管理费：")]),a("el-col",{staticClass:"content"},[a("label",[e._v("金额")]),a("span",[e._v("10,000")]),a("label",[e._v("费率")]),a("span",[e._v("5%")])])],1),a("el-row",{staticClass:"list"},[a("el-col",{staticClass:"title"},[e._v("开票费：")]),a("el-col",{staticClass:"content"},[a("label",[e._v("金额")]),a("span",[e._v("1000")]),a("label",[e._v("费率")]),a("span",[e._v("1%")])])],1),a("el-row",{staticClass:"list"},[a("el-col",{staticClass:"title"},[e._v("税费：")]),a("el-col",{staticClass:"content"},[a("label",[e._v("金额")]),a("span",[e._v("2,300")]),a("label",[e._v("费率")]),a("span",[e._v("6.34%")])])],1),a("el-row",{staticClass:"list"},[a("el-col",{staticClass:"title"},[e._v("合同收款：")]),a("el-col",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.contractMoney,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"date",label:"到账时间"}}),a("el-table-column",{attrs:{prop:"money",label:"到账金额"}}),a("el-table-column",{attrs:{prop:"const",label:"累计到账"}}),a("el-table-column",{attrs:{prop:"icon",label:"到账比例"}})],1)],1)],1),a("el-row",{staticClass:"list"},[a("el-col",{staticClass:"title"},[e._v("项目主要支付：")]),a("el-col",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.payList,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"waibao",label:"项目外包费用"}}),a("el-table-column",{attrs:{prop:"pingshen",label:"项目评审费用（专家费等）"}}),a("el-table-column",{attrs:{prop:"fuwu",label:"项目服务费用（中标费用、佣金等）"}})],1)],1)],1)],1)],1)},n=[],i=(a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("6b54"),a("8e6e"),a("ac6a"),a("456d"),a("28a5"),a("7f7f"),a("ade3")),s=(a("788d"),a("a44a")),o=a("c23e"),c=a("2f62"),l=a("2934");function u(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=p(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw i}}}}function p(e,t){if(e){if("string"===typeof e)return g(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function f(e){return e>9?""+e:"0"+e}function v(e){var t=new Date(e),a=[t.getFullYear(),f(t.getMonth()+1),f(t.getDate())],r=["-","-","-"];return String.raw.apply(String,[{raw:a}].concat(r))}var b={data:function(){var e=this;return{formData:{},dictsMap:o["a"],backOption:{isBack:!0,backPath:null,backFunction:function(){var t=e.$route.params;t.id?e.$router.go(-1):e.$emit("load-page",!0)}},infoList:[{name:"关联项目",value:"projectName"},{name:"市场经理",value:"directorRealName"},{name:"合同类型",value:"contractType",type:"dict"},{name:"业务类型",value:"businessTypeList"},{name:"签订日期",value:"signTime",type:"date"},{name:"完结日期",value:"finishTime",type:"date"},{name:"委托单位",value:"companyName"},{name:"签署单位",value:"signCompanyRealName"},{name:"签署组织",value:"signDeptOrgNames"},{name:"承接部门",value:"underTakeDeptNames"},{name:"合同金额",value:"contractAmount"},{name:"合同级别",value:"contractLevel",type:"dict"},{name:"保证金",value:"deposit"}],contractMoney:[{date:"2019-03-22",money:"22,000",const:"22,000",icon:"9.0%"}],payList:[{waibao:"8000",pingshen:"20000",fuwu:"3000"}],formatYear:v}},computed:m({},Object(c["c"])(["dictGroup"])),methods:{open:function(e){var t=this;Object(s["d"])(e).then((function(e){var a=e.data.data;a.signDeptOrgNames=a.signDeptOrgName.name;var r,n="",i=u(a.underTakeDeptName);try{for(i.s();!(r=i.n()).done;){var s=r.value;n+=s.name+"、"}}catch(h){i.e(h)}finally{i.f()}a.underTakeDeptNames=n.slice(0,n.length-1),a.projectName=a.projectRelation?a.projectRelation.name:"无",console.log("data: ",a);var o,c=a.businessType.split(","),l=[],p=u(c);try{for(p.s();!(o=p.n()).done;){var g,d=o.value,m=u(t.dictGroup.prms_business_type);try{for(m.s();!(g=m.n()).done;){var f,v=g.value,b=u(v.children);try{for(b.s();!(f=b.n()).done;){var y=f.value;y.value==d&&l.push(y.label)}}catch(h){b.e(h)}finally{b.f()}}}catch(h){m.e(h)}finally{m.f()}}}catch(h){p.e(h)}finally{p.f()}a.businessTypeList=l.toString(),t.formData=a}))},downloadFile:function(e){Object(l["a"])({url:e.url,name:e.name})}},created:function(){var e=this.$route.params;e.id&&this.open(e.id)}},y=b,h=(a("6d9e"),a("2877")),w=Object(h["a"])(y,r,n,!1,null,"0678b5c3",null);t["default"]=w.exports},"6d9e":function(e,t,a){"use strict";a("12d1")},"788d":function(e,t,a){var r=a("5ca1"),n=a("6821"),i=a("9def");r(r.S,"String",{raw:function(e){var t=n(e.raw),a=i(t.length),r=arguments.length,s=[],o=0;while(a>o)s.push(String(t[o++])),o<r&&s.push(String(arguments[o]));return s.join("")}})},c23e:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"f",(function(){return u})),a.d(t,"b",(function(){return p})),a.d(t,"e",(function(){return f})),a.d(t,"d",(function(){return v})),a.d(t,"c",(function(){return b}));a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("6b54"),a("7f7f");var r=a("e3c4");function n(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=i(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,s=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw s}}}}function i(e,t){if(e){if("string"===typeof e)return s(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var o=Object(r["a"])({name:"dictGroup"}),c=function(e){var t,a={},r=n(o[e]);try{for(r.s();!(t=r.n()).done;){var i=t.value;a[i.value]=i.label}}catch(s){r.e(s)}finally{r.f()}return a},l={contractType:{0:"内部合同",1:"外部合同"},businessType:c("mlms_business_type"),contractStatus:c("mlms_contract_status"),contractLevel:c("mlms_contract_level")},u=[{label:"合同类型",prop:"contractType",type:"dict",width:"180px"},{label:"合同金额",prop:"contractAmount",width:"180px"},{label:"合同状态",prop:"contractStatus",type:"dict",width:"180px"},{label:"回款率",prop:"",minWidth:"100px"}],p=function(){return{contractName:"",contractExpl:"",contractType:"",businessType:"",tagKeyWords:[],signTime:"",finishTime:"",companyOrgId:"",companyOrgObj:{},signCompanyOrgId:"",signCompanyOrgObj:{},signDeptOrgId:"",signDeptName:"",underTakeDeptId:[],underTakeDeptList:[],directorId:"",directorName:"",directorList:{id:"",name:""},contractAmount:"",contractLevel:"",contractStatus:"",deposit:"",projectName:"",projectId:"",contractFile:[],contractFileList:[]}},g=function(e,t,a){/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/.test(t)||""===t?a():a(new Error)},d=function(e,t,a){/^\d+(\.\d{1,2})?$/.test(t)||""===t?a():a(new Error)},m=function(e,t,a){void 0==t.id?a(new Error):a()},f={contractName:[{required:!0,message:"必填",trigger:"blur"}],contractExpl:[{required:!0,message:"必填",trigger:"blur"}],contractType:[{required:!0,message:"必填",trigger:"change"}],businessType:[{required:!0,message:"必填",trigger:"change"}],tagKeyWords:[{required:!0,message:"必填",trigger:"change"}],signTime:[{required:!0,message:"必填",trigger:"blur"}],finishTime:[{required:!0,message:"必填",trigger:"blur"}],companyOrgId:[{required:!0,message:"必填",trigger:"change"}],companyOrgObj:[{validator:m,message:"必填",trigger:"change"}],signCompanyOrgId:[{required:!0,message:"必填",trigger:"change"}],signCompanyOrgObj:[{validator:m,message:"必填",trigger:"change"}],signDeptOrgId:[{required:!0,message:"必填",trigger:"change"}],signDeptName:[{required:!0,message:"必填",trigger:"change"}],underTakeDeptId:[{required:!0,message:"必填",trigger:"change"}],underTakeDeptList:[{required:!0,message:"必填",trigger:"change"}],directorId:[{required:!0,message:"必填",trigger:"change"}],directorName:[{required:!0,message:"必填",trigger:"change"}],directorList:[{required:!0,message:"必填",trigger:"change"}],contractAmount:[{required:!0,message:"必填",trigger:"change"},{validator:g,message:"请输入正数",trigger:"change"},{validator:d,message:"小数位最多为2位",trigger:"change"}],contractLevel:[{required:!0,message:"必填",trigger:"change"}],contractStatus:[{required:!0,message:"必填",trigger:"change"}],deposit:[{validator:g,message:"请输入正数",trigger:"change"},{validator:d,message:"小数位最多为2位",trigger:"change"}],projectId:[{required:!0,message:"必填",trigger:"change"}]},v=[{label:"项目名称",prop:"projectName"},{label:"项目预算",prop:"projectBudget"},{label:"发布人",prop:"publisherName"}];function b(){return{contractName:"",director:"",businessTypeFirst:"",businessType:"",contractLevel:"",contractStatus:"",signDeptName:"",signTime:"",contractType:""}}}}]);