(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c5f1b2f0"],{"0f1e":function(t,e,n){"use strict";n.d(e,"k",(function(){return c})),n.d(e,"j",(function(){return u})),n.d(e,"m",(function(){return s})),n.d(e,"e",(function(){return d})),n.d(e,"a",(function(){return l})),n.d(e,"i",(function(){return f})),n.d(e,"l",(function(){return m})),n.d(e,"f",(function(){return p})),n.d(e,"h",(function(){return h})),n.d(e,"d",(function(){return b})),n.d(e,"g",(function(){return g})),n.d(e,"n",(function(){return v})),n.d(e,"c",(function(){return y})),n.d(e,"b",(function(){return w}));var r=n("b5c6"),a=n("2f9e"),o="tybhrms/resume",i="tmlms/shipownerRecruit";function c(t){return Object(r["a"])({url:"".concat(o,"/getPage"),method:"get",params:t})}function u(t){return Object(r["a"])({url:"".concat(o,"/getMyCerts"),method:"get",params:t})}function s(t,e){return Object(r["a"])({url:"".concat(o,"/review?status=").concat(t,"&resumeId=").concat(e),method:"post"})}function d(t){return Object(r["a"])({url:"".concat(o,"/delete/")+t,method:"post",data:t})}function l(t){return Object(r["a"])({url:"".concat(o,"/add"),method:"post",data:t})}function f(t){return Object(r["a"])({url:"".concat(o,"/")+t,method:"get",params:t})}function m(t,e){return Object(r["a"])({url:"".concat(o,"/update"),method:"put",params:{publish:e},data:t})}function p(t){return Object(a["a"])({url:"tybhrms/tybExcelExport/resume",data:t,title:"简历信息"})}function h(t){return Object(r["a"])({url:"".concat(i,"/page"),method:"get",params:t})}function b(t){return Object(r["a"])({url:"".concat(i,"/delete/")+t,method:"post",data:t})}function g(t){return Object(r["a"])({url:"".concat(i,"/")+t,method:"get",dparamsata:t})}function v(t){return Object(r["a"])({url:"".concat(i,"/update"),method:"post",data:t})}function y(t){return Object(r["a"])({url:"".concat(i,"/create"),method:"post",data:t})}function w(t){return Object(r["a"])({url:"tybship/tybship/findmyship/"+t,method:"get"})}},"2f9e":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("ac6a"),n("28a5"),n("a481");var r=n("b5c6");function a(t){var e=t.url,n=t.method,a=void 0===n?"post":n,i=t.data,c=void 0===i?{}:i,u=t.title,s=void 0===u?"":u;return new Promise((function(t){return Object(r["a"])({url:e,method:a,headers:{responseType:"arraybuffer"},data:c,responseType:"blob"}).then((function(e){o({title:s,response:e}).then((function(){t()}))}))}))}function o(t){var e=t.title,n=void 0===e?"":e,r=t.response,a=i(r.headers["content-disposition"].replace(/"/g,""));return new Promise((function(t){var e=r.headers,o=new Blob([r.data],{type:e["content-type"]});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(o,n);else{var i=document.createElement("a");i.href=window.URL.createObjectURL(o),i.download=n?"".concat(n,".").concat(a.suffix):a.filename,document.body.appendChild(i),i.style.display="none",i.click()}t()}))}function i(t){var e={},n=t.split(";");return n.forEach((function(t){var n=t.replace(/^\s+|\s+$/g,""),r=n.split("=");r[1]?e[r[0]]=r[1]:e[r[0]]=r[0]})),e.suffix=e.filename.split(".")[1],e}},4917:function(t,e,n){"use strict";var r=n("cb7c"),a=n("9def"),o=n("0390"),i=n("5f1b");n("214f")("match",1,(function(t,e,n,c){return[function(n){var r=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=c(n,t,this);if(e.done)return e.value;var u=r(t),s=String(this);if(!u.global)return i(u,s);var d=u.unicode;u.lastIndex=0;var l,f=[],m=0;while(null!==(l=i(u,s))){var p=String(l[0]);f[m]=p,""===p&&(u.lastIndex=o(s,a(u.lastIndex),d)),m++}return 0===m?null:f}]}))},"7cdf":function(t,e,n){var r=n("5ca1");r(r.S,"Number",{isInteger:n("9c12")})},"84df":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("c1df"),a=n.n(r),o=function(){return a()().format("YYYY-MM-DD HH:mm:ss")}},"9c12":function(t,e,n){var r=n("d3f4"),a=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&a(t)===t}},b0a06:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"f",(function(){return l})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return p})),n.d(e,"e",(function(){return f})),n.d(e,"g",(function(){return h}));n("c5f6"),n("7cdf"),n("4917");var r=n("0e0b"),a=n("84df"),o={isTrain:{0:"否",1:"是"}},i=[{prop:"shipName",label:"渔船名"},{prop:"shipowner",label:"持证人"},{prop:"driverQuantity",label:"驾驶类数量"},{prop:"engineQuantity",label:"轮机类数量"},{prop:"normalQuantity",label:"普通船员数量"},{prop:"phone",label:"电话号码"}],c=function(){return{realName:"",gender:"",idcard:"",birthday:"",address:"",phone:"",contactName:"",contactPhone:"",crewCert:"",certExpDate:"",createTime:Object(a["a"])(),updateTime:Object(a["a"])(),remark:"",fourSmallCard:"",provinceId:"",cityId:"",districtId:"",villageId:"",positionId:"",shipId:0,userId:"",nationality:"中国",nation:"",applyType:1,isTrain:0}},u=function(){return{realName:"",gender:"",idcard:"",birthday:"",address:"",phone:"",contactName:"",contactPhone:"",crewCert:"",certExpDate:"",createTime:Object(a["a"])(),updateTime:Object(a["a"])(),remark:"",fourSmallCard:"",provinceId:"",cityId:"",districtId:"",villageId:"",positionId:"",shipId:0,userId:"",nationality:"",nation:"",applyType:1,isTrain:0}},s=function(t,e,n){""===e?n(new Error("请输入联系电话")):e.match(/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/)?n():n(new Error("请输入正确的手机号码!"))},d=function(t,e,n){Number.isInteger(Number(e))&&Number(e)>0&&Number(e)<999?n():n(new Error("请输入1-999的正整数"))},l={shipName:[{required:!0,message:"请填写完整渔船名",trigger:"blur"}],shipowner:[{required:!0,message:"请填写持证人姓名",trigger:"blur"}],driverQuantity:[{required:!0,message:"请填写驾驶类数量",trigger:"blur"},{validator:d,trigger:"blur"}],normalQuantity:[{required:!0,message:"请填写普通船员数量",trigger:"blur"},{validator:d,trigger:"blur"}],engineQuantity:[{required:!0,message:"请填写轮机类数量",trigger:"blur"},{validator:d,trigger:"blur"}],phone:[{required:!0,message:"请填写联系电话",trigger:"blur"},{validator:s,trigger:"blur"}]},f=function(){return{contactName:"",positionName:""}},m=function(){return{contactName:"",positionName:""}},p=function(t){var e=Object(r["g"])(u(),t);return e},h=function(t){var e=Object(r["g"])(m(),t);return e.contactName=t.contactName?t.contactName:null,e.positionName=t.positionName?t.positionName:null,e}},e420:function(t,e,n){"use strict";n("7f7f");var r=n("7ded");e["a"]={data:function(){return{haveInfo:{}}},methods:{getInformation:function(t,e){var n=this;Object(r["c"])().then((function(r){-1===r.data.data.roles.indexOf(1)&&-1===r.data.data.roles.indexOf(111)&&(r.data.data.sysUser.phone&&(n.$set(n.haveInfo,"phone",!0),n[t][e[0]]=r.data.data.sysUser.phone),r.data.data.sysUser.realName&&(n.$set(n.haveInfo,"realName",!0),n[t][e[1]]=r.data.data.sysUser.realName),r.data.data.sysUser.idCard&&[e[2]]&&(n.$set(n.haveInfo,"idcard",!0),n[t].idcard=r.data.data.sysUser.idCard))}))}}}},f2ec:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"iep-page-form"},[n("basic-container",[n("page-header",{attrs:{title:t.methodName+"招聘",backOption:t.backOption}}),n("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"140px",size:"small"}},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"渔船名：",prop:"shipName"}},[n("el-input",{on:{blur:function(e){return t.change()}},model:{value:t.form.shipName,callback:function(e){t.$set(t.form,"shipName",e)},expression:"form.shipName"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"联系电话：",prop:"phone"}},[n("el-input",{model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"持证人姓名：",prop:"shipowner"}},[n("el-input",{model:{value:t.form.shipowner,callback:function(e){t.$set(t.form,"shipowner",e)},expression:"form.shipowner"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"驾驶类数量：",prop:"driverQuantity"}},[n("el-input",{model:{value:t.form.driverQuantity,callback:function(e){t.$set(t.form,"driverQuantity",e)},expression:"form.driverQuantity"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"轮机类数量：",prop:"engineQuantity"}},[n("el-input",{model:{value:t.form.engineQuantity,callback:function(e){t.$set(t.form,"engineQuantity",e)},expression:"form.engineQuantity"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"普通船员数量：",prop:"normalQuantity"}},[n("el-input",{model:{value:t.form.normalQuantity,callback:function(e){t.$set(t.form,"normalQuantity",e)},expression:"form.normalQuantity"}})],1)],1)],1),n("el-form-item",{attrs:{label:""}},[n("operation-wrapper",[n("iep-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("保存")])],1)],1)],1)],1)],1)},a=[],o=n("0f1e"),i=n("b0a06"),c=n("e420"),u={mixins:[c["a"]],data:function(){var t=this;return{dictsMap:i["b"],backOption:{isBack:!0,backPath:null,backFunction:function(){t.onGoBack()}},pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()}},rules:i["f"],form:Object(i["d"])(),provinces:[],citys:[]}},computed:{id:function(){return+this.$route.params.id},methodName:function(){return this.id?"编辑":"发布"}},created:function(){var t=this;console.log(this.id),this.id&&Object(o["g"])(this.id).then((function(e){var n=e.data;t.form=n.data}))},mounted:function(){},methods:{change:function(){var t=this;Object(o["b"])(this.form.shipName).then((function(e){var n=e.data;if(0==n.data)return t.form={},t.$forceUpdate(),void t.$message({message:"未查询到此船",type:"warning"});n.data.shipowner&&(t.form.shipowner=n.data.shipowner),t.form.phone=n.data.mobile,t.form.shipId=n.data.shipId,t.$forceUpdate()}))},onGoBack:function(){this.$router.push({path:"/hrms_spa/bot_admin_list"})},handleSubmit:function(){var t=this;this.$refs["form"].validate((function(e){e&&(t.id?Object(o["n"])(t.form).then((function(e){var n=e.data;n.data&&(t.$message({message:"操作成功",type:"success"}),t.onGoBack())})):t.form.shipId?Object(o["c"])(t.form).then((function(e){var n=e.data;n.data&&(t.$message({message:"操作成功",type:"success"}),t.onGoBack())})):t.$message({message:"请填写完整数据",type:"warning"}))}))}}},s=u,d=n("2877"),l=Object(d["a"])(s,r,a,!1,null,null,null);e["default"]=l.exports}}]);