(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-584b5ac2","chunk-4eff66d9","chunk-f932db1e"],{"0b68":function(t,e,a){},"0fb3":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"contract-print"}},[a("div",{staticClass:"body-width",attrs:{id:"contract"}},[a("div",{staticClass:"con-cover"},[a("p",{staticClass:"cover-num"},[t._v("合同编号："+t._s(t.formData.contractNumber))]),a("h1",[t._v("渔船劳务（雇员）合同")]),t._m(0)]),a("table",{staticClass:"contract-table"},[a("tr",[t._m(1),t._m(2),a("td",[t._v(t._s(t.formData.shipName))]),t._m(3),a("td",[t._v(t._s(t.formData.shipLicenses))])]),a("tr",[t._m(4),a("td",{attrs:{colspan:"4"}},[t._l(t.shipAttrDict,(function(e){return a("span",{key:e.value},[e.value==t.formData.shipAttr?a("input",{attrs:{checked:"true",type:"checkbox"}}):a("input",{attrs:{type:"checkbox"}}),t._v("\n            "+t._s(e.label)+"\n          ")])})),a("span",[t._v('(请"√"选)')])],2)]),a("tr",[t._m(5),a("td",[t._v(t._s(t.formData.shipowner))]),t._m(6),a("td",[t._v(t._s(t.formData.shipownerIdcard))])]),a("tr",[t._m(7),a("td",[t._v(t._s(t.formData.shipownerPhone))]),t._m(8),a("td",[t._v(t._s(t.formData.shipownerAddr))])]),a("tr",[t._m(9),a("td",[t._v(t._s(t.formData.shipownerAgent))]),t._m(10),a("td",[t._v(t._s(t.formData.shipownerAgentIdcard))])]),a("tr",[t._m(11),a("td",[t._v(t._s(t.formData.shipownerAgentPhone))]),t._m(12),a("td",[t._v(t._s(t.formData.shipownerAgentAddr))])]),a("tr",[t._m(13),t._m(14),a("td",[t._v(t._s(t.formData.employeeName))]),t._m(15),a("td",[t._v(t._s(t.formData.employeeIdcard))])]),a("tr",[t._m(16),a("td",[t._v(t._s(t.formData.employeePhone))]),t._m(17),a("td",[t._v(t._s(t.formData.employeeCert))])]),a("tr",[t._m(18),a("td",[t._v(t._s(t.formData.employeeAddr))]),t._m(19),a("td",[t._v(t._s(t.formData.employeeLinkMan+"("+t.formData.employeeLinkPhone+")"))])]),a("tr",{staticClass:"paylist"},[t._m(20),a("td",{staticClass:"textL10",attrs:{colspan:"4"}},[t._l(t.employeePayTypeDict,(function(e){return a("span",{key:e.value},[e.value==t.formData.employeePayType?a("input",{attrs:{checked:"true",type:"checkbox"}}):a("input",{attrs:{type:"checkbox"}}),t._v("\n            "+t._s(e.label)+"\n          ")])})),a("span",[t._v("（请在选项“ □” 上打“ √” 并下面填写相关内容）")]),a("p",{staticClass:"margint10 textL10"},[t._v("支付账号：523653542")])],2)]),a("tr",[a("th",{attrs:{rowspan:"4"}},[t._v('合同期限(请"√"选)')]),a("td",{staticClass:"check",attrs:{rowspan:"2"}},[a("span",[1==t.formData.periodType?a("input",{attrs:{checked:"true",type:"checkbox"}}):a("input",{attrs:{type:"checkbox"}}),t._v("\n            期限\n          ")])]),a("td",[1==t.formData.periodType?a("div",[a("p",[t._v("开始时间")]),a("p",[t._v(t._s(t.formData.periodDateStart))])]):t._e()]),a("td",{staticClass:"check",attrs:{rowspan:"2",colspan:"2"}},[a("span",[2==t.formData.periodType?a("input",{attrs:{checked:"true",type:"checkbox"}}):a("input",{attrs:{type:"checkbox"}}),t._v("\n            航次\n          ")])]),a("td",{attrs:{rowspan:"2"}},[2==t.formData.periodType?a("div",[a("p",[t._v(t._s(t.formData.periodPortStart)+"登船起")]),a("p",[t._v(t._s(t.formData.periodPortEnd)+"下船止")])]):t._e()])]),a("tr",[a("td",[1==t.formData.periodType?a("div",[a("p",[t._v("结束时间")]),a("p",[t._v(t._s(t.formData.periodDateEnd))])]):t._e()])]),a("tr",[a("td",{staticClass:"check",attrs:{rowspan:"2"}},[a("span",[3==t.formData.periodType?a("input",{attrs:{checked:"true",type:"checkbox"}}):a("input",{attrs:{type:"checkbox"}}),t._v("\n            以工作任务计\n          ")])]),a("td",{attrs:{colspan:"2"}},[t._v("工作任务内容及时间")]),a("td",{attrs:{colspan:"2"}},[t._v("任务完成标志")])]),a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("\n          "+t._s(t.formData.periodWorkContent)+"\n        ")]),a("td",{attrs:{colspan:"2"}},[t._v("\n          "+t._s(t.formData.periodWorkSuccess)+"\n        ")])]),a("tr",[a("th",[t._v("工作内容")]),a("td",{attrs:{colspan:"5"}},[a("p",[t._v(t._s(t.formData.workContent))])])]),a("tr",[a("th",{attrs:{rowspan:"7"}},[t._v("劳务报酬")]),t._m(21),a("td",{staticClass:"check"},[a("span",[1==t.formData.payComputeType?a("input",{attrs:{checked:"true",type:"checkbox"}}):a("input",{attrs:{type:"checkbox"}}),t._v("\n            按自然月计算\n          ")])]),a("td",{staticClass:"check",attrs:{colspan:"3"}},[1==t.formData.payComputeType?a("span",[t._v("每月人民币"+t._s(t.formData.payMoney)+"元(大写："+t._s(t.moneyTransilate(t.formData.payMoney))+")")]):t._e()])]),a("tr",[a("td",{staticClass:"check"},[a("span",[2==t.formData.payComputeType?a("input",{attrs:{checked:"true",type:"checkbox"}}):a("input",{attrs:{type:"checkbox"}}),t._v("\n            按雇佣天数计算\n          ")])]),a("td",{staticClass:"check",attrs:{colspan:"3"}},[2==t.formData.payComputeType?a("span",[t._v("每天人民币"+t._s(t.formData.payMoney)+"元(大写："+t._s(t.moneyTransilate(t.formData.payMoney))+")")]):t._e()])]),a("tr",[a("td",{staticClass:"check"},[a("span",[3==t.formData.payComputeType?a("input",{attrs:{checked:"true",type:"checkbox"}}):a("input",{attrs:{type:"checkbox"}}),t._v("\n            按登船至下船日期计算\n          ")])]),a("td",{staticClass:"check",attrs:{colspan:"3"}},[3==t.formData.payComputeType?a("span",[t._v("每天人民币"+t._s(t.formData.payMoney)+"元(大写："+t._s(t.moneyTransilate(t.formData.payMoney))+")")]):t._e()])]),a("tr",[a("td",{staticClass:"check"},[a("span",[4==t.formData.payComputeType?a("input",{attrs:{checked:"true",type:"checkbox"}}):a("input",{attrs:{type:"checkbox"}}),t._v("\n            按工作任务计算\n          ")])]),a("td",{staticClass:"check set-width",attrs:{colspan:"3"}},[3==t.formData.payComputeType?a("span",[t._v(t._s(t.formData.payMoney)+"元(大写："+t._s(t.moneyTransilate(t.formData.payMoney))+")")]):t._e()])]),a("tr",[t._m(22),a("td",{staticClass:"check"},[a("span",[1==t.formData.payType?a("input",{attrs:{checked:"true",type:"checkbox"}}):a("input",{attrs:{type:"checkbox"}}),t._v("\n            定期支付\n          ")])]),a("td",{staticClass:"check set-width",attrs:{colspan:"3"}},[1==t.formData.payType?a("span",[t._v("\n            每月"+t._s(t.formData.payTypeValue)+"号支付\n          ")]):t._e()])]),a("tr",[a("td",{staticClass:"check"},[a("span",[2==t.formData.payType?a("input",{attrs:{checked:"true",type:"checkbox"}}):a("input",{attrs:{type:"checkbox"}}),t._v("\n            一次性支付\n          ")])]),a("td",{staticClass:"check",attrs:{colspan:"3"}},[2==t.formData.payType?a("span",[t._v("\n            期限结束、航次完成或工作任务完成后的"+t._s(t.formData.payTypeValue)+"日内支付\n          ")]):t._e()])]),a("tr",[a("td",{staticClass:"check"},[a("span",[3==t.formData.payType?a("input",{attrs:{checked:"true",type:"checkbox"}}):a("input",{attrs:{type:"checkbox"}}),t._v("\n            不定期支付\n          ")])]),a("td",{staticClass:"check",attrs:{colspan:"3"}})])]),a("div",{staticClass:"con-detail"},[a("h2",[t._v("一般条款")]),a("h3",[t._v("一、甲方权利与义务")]),a("p",[t._v("1.甲方营运渔船应具备船舶有效证件，并按照法律法规、行业规范配备救生、消防、无线电等应急设备，确保应急设备的正常使用和船舶的安全适航。")]),a("p",[t._v("2.甲方应依法依规组织航行、捕捞等生产作业，不得从事走私等违法违规\n        活动。如遇自然灾害等不可抗力事件、禁渔期等法定情形、或其他不适宜开展生\n        产作业的情形时，应当及时停止作业或返航。")]),a("p",[t._v("3.甲方应严格执行国家劳动安全规定和标准，为乙方提供符合国家、行业\n        规定的安全生产作业条件和必要的防护用品，并为乙方投保相应的人身伤害保险。")]),a("p",[t._v("4.甲方应告知乙方作业渔船和工作任务存在的足以影响乙方人身安全的危\n        险因素以及防范应急措施。甲方应当不定期组织开展技术和安全培训，为乙方提\n        供技术和安全指导。")]),a("p",[t._v("5.乙方在从事雇佣活动中遭受人身损害的，甲方应当承担赔偿责任。乙方\n        因本人故意造成的自身伤害，甲方不负赔偿责任。")]),a("p",[t._v("6.甲方应按照合同约定及时支付乙方现金劳务报酬或将乙方劳务报酬支付\n        乙方提供的劳务报酬支付账户。")]),a("h3",[t._v("二、乙方的权利和义务")]),a("p",[t._v("1.乙方有权按照合同约定领取劳务报酬。")]),a("p",[t._v("2.乙方在进行生产作业前，应具备船员四项基本技能证书（四小证）及相\n        应工作任务必备的适任证书，并确保提供的证件和信息的真实、准确、有效。乙\n        方如患有严重疾病的，应在签订本合同前，如实告知甲方。")]),a("p",[t._v("3.乙方同意根据甲方生产需求和自身技能情况从事船舶相应的工作任务。\n        乙方应当掌握生产作业技能，了解渔业生产工作环境特性，尽责完成捕捞生产及\n        甲方安排的其他生产作业。")]),a("p",[t._v("4.乙方在从事生产作业时，应穿戴相应防护用具。乙方有义务及时报告事\n        故隐患和不安全因素，对渔船存在的安全隐患提出改正意见。在安全隐患未排除\n        前，有权拒绝上船作业。对甲方违章指挥和强令冒险作业，发现直接危及人身安全的紧急情况时，可以停止作业。\n      ")]),a("p",[t._v("5.乙方在合同期间非经甲方同意、或非因合同约定、法律规定，不得擅自\n        旷工、离船或终止生产作业。如乙方有上述行为，给甲方造成损失的，应当予以\n        赔偿。")]),a("p",[t._v("6.乙方应当依法依规从事生产作业活动。在生产作业期间，不得从事酗酒、\n        赌博、盗窃、斗殴、擅自带无关人员上船及其他严重影响生产作业的活动。非经\n        甲方同意，不得要求停产回港，在船舶返航靠岸时不得擅自离船或上岸。")]),a("h3",[t._v("三、合同终止与解除")]),a("p",[t._v("1.当出现以下特殊情形时，甲方可以提前 10日通知乙方终止合同：（1）\n        甲方因故超过 30日不能继续投入生产的；（2）甲方难以继续经营的。")]),a("p",[t._v("2.当乙方出现下列情形之一时，甲方有权解除合同：（1）乙方不具备船员\n        四项基本技能证书（四小证）及相应工作任务必备的适任证书的； （2）乙方违规\n        操作，导致财产损失、人员伤亡的，或者经甲方提出，拒不改正的； （3）乙方无\n        法胜任相应工作任务的；（4）故意或重大过失，给甲方造成重大损失的；（5）\n        负有刑事责任尚未执行完毕或处于通缉中的； （6）在签订合同时，隐瞒足以影响\n        生产工作的病情的； （7）乙方从事酗酒、赌博、盗窃、斗殴、擅自带无关人员上\n        船及其他严重影响生产作业的活动；（8）乙方擅自旷工、离船或终止生产作业；\n        （9）其他对完成本合同约定的工作任务造成严重影响。")]),a("p",[t._v("3.当甲方出现以下情形之一时，乙方有权解除合同：（1）甲方以暴力、威\n        胁等其他足以强迫乙方劳动的手段强迫乙方劳动； （2）甲方强迫乙方从事非法活\n        动的；（3）甲方未按照合同约定支付劳务报酬或提供劳动条件；（4）甲方签订\n        合同时未告知乙方作业渔船和工作任务存在的足以影响乙方人身安全危险因素\n        以及防范应急措施。")]),a("h3",[t._v("四、其他约定")]),a("p",[t._v("1.本合同项下的通知和法律文书的送达，均应根据甲方和乙方在前表格中\n        记载的地址进行并应以书面通知的方式进行变更。任何非上述方式的通知、送达\n        均不视为本合同下有效的通知和/ 或送达。")]),a("p",[t._v("2.甲方应按照乙方提供的劳务报酬支付账户支付报酬，如乙方要求变更账\n        户信息，则应提前 5个工作日将账户信息变更情况书面通知甲方，否则甲方不承\n        担汇款失误的责任。")]),a("p",[t._v("3.凡因本合同引起的或与本合同有关的任何争议，双方应友好协商解决；\n        无法协商或协商不成的，任何一方均有权向宁波海事法院提起诉讼。\n      ")]),a("p",[t._v("4.本合同一式四份，甲、乙、见证人及主管部门各存一份，自甲乙双方或\n        其代理人签章或按指印之日起生效。\n      ")]),a("p",[t._v("5.本合同未尽事宜，可由双方在合同“ 特别约定” 处明示约定；如 “ 特别约定”\n        内容与本合同其他部分产生冲突，以 “ 特别约定” 为准。\n      ")]),a("h3",[t._v("五、特别约定")]),t.formData.content.length>0?a("p",{staticClass:"special"},[t._v(t._s(t.formData.content))]):a("p",[t._v(" 无 ")])]),t._m(23)])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cover-tip"},[a("p",[t._v("象山县渔业船员综合服务中心   编制")]),a("p",[t._v("2019年版")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{attrs:{rowspan:"6"}},[t._v("甲方"),a("p",[t._v("(雇主)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("label",[t._v("船名")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"2"}},[a("label",[t._v("所有权登记号")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("label",[t._v("性质")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("label",[t._v("船舶所有人")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"2"}},[a("label",[t._v("身份证号")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("label",[t._v("联系电话")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"2"}},[a("label",[t._v("家庭地址")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("label",[t._v("委托代理人")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"2"}},[a("label",[t._v("身份证号")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("label",[t._v("联系电话")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"2"}},[a("label",[t._v("家庭地址")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{attrs:{rowspan:"4"}},[t._v("乙方"),a("p",[t._v("(雇员)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("label",[t._v("姓名")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"2"}},[a("label",[t._v("身份证号")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("label",[t._v("联系电话")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"2"}},[a("label",[t._v("现有资格证书")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("label",[t._v("经常居住地/家庭地址")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"2"}},[a("label",[t._v("联系人及联系电话")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("label",[t._v("劳动报酬支付账户")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{rowspan:"4"}},[a("label",[t._v("计算方式")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{rowspan:"3"}},[a("label",[t._v("支付方式")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sign"},[a("h3",[t._v("签署：")]),a("ul",{staticClass:"sign-name"},[a("li",[t._v("甲方：")]),a("li",[t._v("乙方：")]),a("li",[t._v("签署日期："),a("span",[a("i",[t._v("年")]),a("i",[t._v("月")]),a("i",[t._v("日")])])]),a("li",[t._v("签署日期："),a("span",[a("i",[t._v("年")]),a("i",[t._v("月")]),a("i",[t._v("日")])])])]),a("ul",{staticClass:"sign-see"},[a("li",[t._v("见证人：")]),a("li",[t._v("签署日期："),a("span",[a("i",[t._v("年")]),a("i",[t._v("月")]),a("i",[t._v("日")])])])])])}],n=(a("a481"),{name:"print",props:{formData:{},shipAttrDict:{},employeePayTypeDict:{},periodTypeDict:{},payComputeTypeDict:{},payTypeDict:{}},methods:{moneyTransilate:function(t){if(""==t)return"";if(!/^(0|[1-9]\d*)(\.\d+)?$/.test(t))return"数据非法";var e="京亿万仟佰拾兆万仟佰拾亿仟佰拾万仟佰拾元角分",a="";t+="00";var r=t.indexOf(".");r>=0&&(t=t.substring(0,r)+t.substr(r+1,2)),e=e.substr(e.length-t.length);for(var o=0;o<t.length;o++)a+="零壹贰叁肆伍陆柒捌玖".charAt(t.charAt(o))+e.charAt(o);return a.replace(/零(仟|佰|拾|角)/g,"零").replace(/(零)+/g,"零").replace(/零(兆|万|亿|元)/g,"$1").replace(/(兆|亿)万/g,"$1").replace(/(京|兆)亿/g,"$1").replace(/(京)兆/g,"$1").replace(/(京|兆|亿|仟|佰|拾)(万?)(.)仟/g,"$1$2零$3仟").replace(/^元零?|零分/g,"").replace(/(元|角)$/g,"$1整")}}}),s=n,i=a("2877"),c=Object(i["a"])(s,r,o,!1,null,null,null);e["default"]=c.exports},"1ce3":function(t,e,a){},"1cf0":function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i})),a.d(e,"e",(function(){return c})),a.d(e,"b",(function(){return l}));var r=a("b5c6"),o="/tybship/tybshipmanager";function n(t){return Object(r["a"])({url:"/tmlms/tybshiphaver/otherpage",method:"get",params:t})}function s(t,e){return Object(r["a"])({url:"/tmlms/tybshiphaver/getShiphaver?shipName=".concat(t,"&bindType=").concat(e),method:"get"})}function i(t){return Object(r["a"])({url:"".concat(o,"/save"),method:"post",data:t})}function c(t){return Object(r["a"])({url:"".concat(o,"/update"),method:"post",data:t})}function l(t){return Object(r["a"])({url:"".concat(o,"/del/").concat(t),method:"post"})}},2128:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("8e6e"),core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("5df3"),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("456d"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__),E_taoyuba_ui_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("53ca"),E_taoyuba_ui_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("ade3"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("7f7f"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_7__),vuex__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("2f62"),lodash_debounce__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("b047"),lodash_debounce__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_9__),_store__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("4360"),_api_ships_index__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("ade36"),_api_ships_shipoperat_index__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("1cf0"),_api_tmlms_boatMan_index__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("5612"),vue_socket_io__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("5132"),vue_socket_io__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(vue_socket_io__WEBPACK_IMPORTED_MODULE_14__),vue__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("2b0e"),_api_tmlms_newContract__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("266e"),_api_mlms_index__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("9060");function ownKeys(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(a),!0).forEach((function(e){Object(E_taoyuba_ui_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_5__["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}vue__WEBPACK_IMPORTED_MODULE_15__["default"].use(new vue_socket_io__WEBPACK_IMPORTED_MODULE_14___default.a({debug:!0,connection:"http://localhost:5000"}));var checkTime=function(t,e,a){if(Array.isArray(e))e.map((function(t){if(""===t)return a("日期不能为空")}));else if(""===e)return a("日期不能为空");return a()};__webpack_exports__["a"]={props:{record:{},type:{}},data:function(){var t=this;return this.getShipNameList=lodash_debounce__WEBPACK_IMPORTED_MODULE_9___default()(this.getShipNameList,50),{akk:!0,formData:{shipownerName:"",shipownerIdcard:"",shipName:"",shipLicenses:"",shipownerPhone:"",shipownerAddr:"",employerName:"",employerIdcard:"",employerProp:1,employerPhone:"",shipJoint:0,shipJointYes:"",shipJointNo:"",employerAddr:"",employeeName:"",employeeIdcard:"",employeePhone:"",employeePosition:"",employeeAddr:"",employeeIsSick:0,employeeIsExp:0,employeePayType:1,employeePayBankAccount:"",employeePayAccount:"",employeePayBank:"",employeeLinkMan:"",employeeLinkPhone:"",activityType:"",workPosition:"",workSkill:"",workProbationTypeValue:"",workProbationType:1,workDateStart:"",workDateEnd:"",time:[],paySalaryType:2,paySalaryTypeValue:"",payType:3,payTypeValue:"",otherContent:"",employerBreakValue:"",employeeBreakValue:"",licensesOwnerShipImage:"",contractImage:"",contractImages:[],contactPhone:"",status:""},checked:!1,period:[],orgId:"",licensesImage:"",contractImageList:[],rules:{shipownerName:[{required:!0,message:"请输入持证人姓名",trigger:"blur"}],shipownerIdcard:[{required:!0,message:"请输入持证人身份证号",trigger:"blur"}],shipName:[{required:!0,message:"请输入持证人船名",trigger:"blur"}],shipLicenses:[{required:!0,message:"请输入持证人船舶登记号",trigger:"blur"}],shipownerPhone:[{required:!0,message:"请输入持证人联系电话",trigger:"blur"}],shipownerAddr:[{required:!0,message:"请输入持证人家庭地址",trigger:"blur"}],employerName:[{required:!0,message:"请输入甲方（雇主)姓名",trigger:"blur"}],employerIdcard:[{required:!0,message:"请输入甲方（雇主)身份证号",trigger:"blur"}],employerProp:[{required:!0,message:"请输入签约人身份性质",trigger:"blur"}],employerPhone:[{required:!0,message:"请输入甲方（雇主)联系电话",trigger:"blur"}],employerAddr:[{required:!0,message:"请输入甲方（雇主)地址",trigger:"blur"}],employeeName:[{required:!0,message:"请输入乙方（雇员)姓名",trigger:"blur"}],employeeIdcard:[{required:!0,message:"请输入乙方（雇员)身份证号",trigger:"blur"}],employeePhone:[{required:!0,message:"请输入乙方（雇员)联系电话",trigger:"blur"}],employeePosition:[{required:!0,message:"请输入现有资格证书",trigger:"blur"}],employeeAddr:[{required:!0,message:"请输入乙方（雇员)地址",trigger:"blur"}],contactName:[{required:!0,message:"请输入紧急联系人姓名",trigger:"blur"}],contactPhone:[{required:!0,message:"请输入紧急联系人电话",trigger:"blur"}],workDateStart:[{required:!0,message:"请选择生产周期开始日期",trigger:"blur"}],workDateEnd:[{required:!0,message:"请选择生产周期结束日期",trigger:"blur"}],time:[{required:!0,message:"时间不能为空"},{validator:checkTime,trigger:"blur"}]},shipNames:[],loading:!1,idcards:[],headers:{Authorization:"Bearer "+_store__WEBPACK_IMPORTED_MODULE_10__["a"].getters.access_token},isLicenses:!1,isContract:!1,shipowner:!1,employee:!1,checkEmployeeIdcard:!1,employer:!1,payValueLong:"",payValueOnce:"",expireTimeOption:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},pickerOptionsS:{disabledDate:function(e){if(""!=t.formData.workDateEnd)return e.getTime()>new Date(t.formData.workDateEnd).getTime()}},pickerOptionsE:{disabledDate:function(e){return e.getTime()<new Date(t.formData.workDateStart).getTime()-864e5}},timer:"",updateId:""}},beforeDestroy:function(){this.sockets.unsubscribe("card message")},destroyed:function(){},created:function(){this.record?this.getList():this.$route.query.idcard&&(this.$route.query.see&&(this.type="see"),this.getListByidcard()),this.$route.query.add&&(this.formData.employeeIdcard=this.$route.query.hdkId,this.getEmployee(),this.refreshShipName(JSON.parse(sessionStorage.getItem("hdkRow"))),this.type="add",this.akk=!1)},mounted:function mounted(){var _this2=this;function Base64(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";this.decode=function(a){var r,o,n,s,i,c,l,m="",p=0;a=a.replace(/[^A-Za-z0-9+/=]/g,"");while(p<a.length)s=t.indexOf(a.charAt(p++)),i=t.indexOf(a.charAt(p++)),c=t.indexOf(a.charAt(p++)),l=t.indexOf(a.charAt(p++)),r=s<<2|i>>4,o=(15&i)<<4|c>>2,n=(3&c)<<6|l,m+=String.fromCharCode(r),64!=c&&(m+=String.fromCharCode(o)),64!=l&&(m+=String.fromCharCode(n));return m=e(m),m};var e=function(t){var e="",a=0,r=0,o=0,n=0;while(a<t.length)r=t.charCodeAt(a),r<128?(e+=String.fromCharCode(r),a++):r>191&&r<224?(o=t.charCodeAt(a+1),e+=String.fromCharCode((31&r)<<6|63&o),a+=2):(o=t.charCodeAt(a+1),n=t.charCodeAt(a+2),e+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&n),a+=3);return e}}this.$socket.emit("connect"),this.$socket.emit("startRead"),console.log(this.sockets),this.sockets.subscribe("card message",(function(msg){var base=new Base64,result1=base.decode(msg),data=eval("("+result1+")");Object(_api_tmlms_newContract__WEBPACK_IMPORTED_MODULE_16__["j"])(data.cardno).then((function(t){!1===t.data.data&&(_this2.$message.error(t.data.msg),_this2.checkEmployeeIdcard=!0)})).then((function(){_this2.checkEmployeeIdcard||Object(_api_tmlms_boatMan_index__WEBPACK_IMPORTED_MODULE_13__["f"])(data.cardno).then((function(t){t.data.data&&(_this2.formData.employeeName=t.data.data.realName,_this2.formData.employeeIdcard=t.data.data.idcard,_this2.formData.employeeAddr=t.data.data.address,_this2.formData.provinceId=t.data.data.provinceId,_this2.formData.cityId=t.data.data.cityId,_this2.formData.districtId=t.data.data.districtId,_this2.formData.employeePhone=t.data.data.phone,_this2.formData.employeePosition=t.data.data.positionId,_this2.formData.contactName=t.data.data.contactName,_this2.formData.contactPhone=t.data.data.contactPhone,_this2.$set(_this2.formData,"time",[t.data.data.workDateStart,t.data.data.workDateEnd]),_this2.formData.employeeIdcard&&_this2.getEmployee())})).catch((function(){_this2.formData.employeeName=data.name,_this2.formData.employeeIdcard=data.cardno,_this2.formData.employeeAddr=data.address,_this2.formData.provinceId=parseInt(data.cardno.substring(0,2)+"0000000000"),_this2.formData.cityId=parseInt(data.cardno.substring(0,4)+"00000000"),_this2.formData.districtId=parseInt(data.cardno.substring(0,6)+"000000"),_this2.formData.employeeIdcard&&_this2.getEmployee()}))}))}))},computed:_objectSpread({getTitle:function(){return"add"===this.type?"合同新增":"edit"===this.type?"合同编辑":"renew"===this.type?"合同续签":"合同查看"}},Object(vuex__WEBPACK_IMPORTED_MODULE_8__["c"])(["dictGroup"])),methods:{changeType:function(){this.$set(this.formData,"workPosition",this.formData.employeePosition)},getEmployee:function(){var t=this;console.log("hddddk1"),this.formData.employeeIdcard=this.formData.employeeIdcard.replace(/\s*/g,""),18==this.formData.employeeIdcard.length?(console.log("hddddk2"),Object(_api_tmlms_newContract__WEBPACK_IMPORTED_MODULE_16__["j"])(this.formData.employeeIdcard).then((function(e){!1===e.data.data?(console.log("hddddk3"),t.$message.error(e.data.msg),t.checkEmployeeIdcard=!0,t.formData.employeeIdcard="",t.idcards=[]):(console.log("hddddk4"),""!==t.formData.employeeIdcard&&(console.log("hddddk5"),Object(_api_tmlms_boatMan_index__WEBPACK_IMPORTED_MODULE_13__["f"])(t.formData.employeeIdcard).then((function(e){var a=e.data,r=a.data;"0"!==r.positionId?(t.formData.employeePosition=r.positionId,t.formData.workPosition=t.formData.employeePosition):t.formData.employeePosition="",t.formData.employeeName=r.realName,t.formData.employeePhone=r.phone,t.formData.employeeAddr=r.address,t.formData.employeeLinkMan=r.contactName,t.formData.employeeLinkPhone=r.contactPhone,t.employee=!0}))),t.checkEmployeeIdcard=!1)}))):this.$message.error("请输入乙方18位身份证!")},selectMax:function(){var t=this.$refs.searchSelect.$children[0].$refs.input;t.setAttribute("maxlength",18),console.log(t)},payTypeChange:function(t){1==t?(this.formData.payTypeValue=this.payValueLong,this.payValueOnce=""):2==t?(this.formData.payTypeValue=this.payValueOnce,this.payValueLong=""):(this.payValueLong="",this.payValueOnce="")},getList:function(){var t=this;Object(_api_tmlms_newContract__WEBPACK_IMPORTED_MODULE_16__["f"])(this.record).then((function(e){t.formData=e.data.data,"0"===e.data.data.employeePosition&&(t.formData.employeePosition=""),t.formData.licensesOwnerShipImage&&(t.licensesImage=t.formData.licensesOwnerShipImage,t.isLicenses=!0),t.formData.contractImages?(t.contractImageList=t.formData.contractImages,t.isContract=!0):t.isContract=!1}))},getListByidcard:function(){var t=this;Object(_api_tmlms_newContract__WEBPACK_IMPORTED_MODULE_16__["e"])(this.$route.query.idcard).then((function(e){t.formData=e.data.data,t.$set(t.formData,"time",[e.data.data.workDateStart,e.data.data.workDateEnd]),"0"===e.data.data.employeePosition&&(t.formData.employeePosition=""),t.formData.licensesOwnerShipImage&&(t.licensesImage=t.formData.licensesOwnerShipImage,t.isLicenses=!0),t.formData.contractImages?(t.contractImageList=t.formData.contractImages,t.isContract=!0):t.isContract=!1,t.formData.employeeLinkMan&&(t.formData.contactName=t.formData.employeeLinkMan),t.formData.employeeLinkPhone&&(t.formData.contactPhone=t.formData.employeeLinkPhone)}))},handleBack:function(){this.$emit("onGoBack")},handleGo:function(){this.$router.go(-1)},shipNameChange:function(t){"object"===Object(E_taoyuba_ui_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_4__["a"])(t)?this.refreshShipName(t):this.refreshShipName({shipName:t}),""!=t.activityType&&(this.formData.activityType=this.dictGroup["tyb_resume_worktype"][t.activityType].value),this.shipNames=[]},refreshShipName:function(t){if(null!==t){console.log(t);var e=t.shipowner,a=void 0===e?"":e,r=t.shipownerIdcard,o=void 0===r?"":r,n=t.licensesOwnerShip,s=void 0===n?"":n,i=t.mobile,c=void 0===i?"":i,l=t.address,m=void 0===l?"":l,p=t.shipJointYes,d=void 0===p?"":p,u=t.shipShare,h=void 0===u?"":u;this.formData.shipownerName=a,this.formData.shipownerIdcard=o,this.formData.shipLicenses=s,this.formData.shipownerPhone=c,this.formData.shipownerAddr=m,this.formData.employerName=a,this.formData.employerIdcard=o,this.formData.employerPhone=c,this.formData.employerAddr=m,this.formData.employerProp=1,this.formData.shipName=t.shipName,this.employer=!0,""!=t.activityType&&(this.formData.activityType=this.dictGroup["tyb_resume_worktype"][t.activityType].value),1==h&&(this.formData.shipJoint=1,this.formData.shipJointYes=d+1),this.shipowner=!0}else this.formData.shipName="",this.formData.shipownerName="",this.formData.shipownerIdcard="",this.formData.shipLicenses="",this.formData.shipownerPhone="",this.formData.shipownerAddr="",this.shipowner=!1},getShipNameList:function(t){var e=this;this.loading=!0,""!==t&&5==t.length?Object(_api_ships_index__WEBPACK_IMPORTED_MODULE_11__["x"])(t).then((function(t){var a=t.data;a.data.length?a.data.forEach((function(t){e.shipNames.push(t)})):e.$message.error(a.msg)})):t.length>5&&(this.$message.error("请输入5位数字船名号"),this.shipNames=[]),this.loading=!1},employerPropChange:function(t){var e=this;1===t?(this.formData.employerName=this.formData.shipownerName,this.formData.employerIdcard=this.formData.shipownerIdcard,this.formData.employerPhone=this.formData.shipownerPhone,this.formData.employerAddr=this.formData.shipownerAddr,this.formData.shipJointYes&&(this.formData.shipJoint=1),this.employer=!0):2===t?(this.formData.employerName="",this.formData.employerIdcard="",this.formData.employerPhone="",this.formData.employerAddr="",Object(_api_ships_shipoperat_index__WEBPACK_IMPORTED_MODULE_12__["c"])(this.formData.shipName,2).then((function(t){t.data.data&&(e.formData.employerName=t.data.data.realname,e.formData.employerIdcard=t.data.data.idcard,e.formData.employerPhone=t.data.data.phone,e.formData.employerAddr=t.data.data.address)})),this.employer=!1):3===t&&(this.formData.employerName="",this.formData.employerIdcard="",this.formData.employerPhone="",this.formData.employerAddr="",Object(_api_ships_shipoperat_index__WEBPACK_IMPORTED_MODULE_12__["c"])(this.formData.shipName,3).then((function(t){t.data.data&&(e.formData.employerName=t.data.data.realname,e.formData.employerIdcard=t.data.data.idcard,e.formData.employerPhone=t.data.data.phone,e.formData.employerAddr=t.data.data.address)})),this.employer=!1)},idcardChange:function(t){"object"===Object(E_taoyuba_ui_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_4__["a"])(t)&&this.refreshCard(t),this.idcards=[]},refreshCard:function(t){if(null!==t){var e=t.realName,a=void 0===e?"":e,r=t.phone,o=void 0===r?"":r,n=t.address,s=void 0===n?"":n,i=t.contactName,c=void 0===i?"":i,l=t.contactPhone,m=void 0===l?"":l;"0"!==t.positionId?this.formData.employeePosition=t.positionId:this.formData.employeePosition="",this.formData.employeeName=a,this.formData.employeePhone=o,this.formData.employeeAddr=s,this.formData.contactName=c,this.formData.contactPhone=m,this.employee=!0}else this.formData.employeeName="",this.formData.employeePhone="",this.formData.employeeAddr="",this.formData.employeePosition="",this.formData.contactName="",this.formData.contactPhone="",this.employee=!1},getidcardList:function(t){var e=this;Object(_api_tmlms_newContract__WEBPACK_IMPORTED_MODULE_16__["j"])(t).then((function(a){!1===a.data.data?(e.$message.error("该船员已签订合同!"),e.checkEmployeeIdcard=!0,e.formData.employeeIdcard="",e.idcards=[]):(""!==t?Object(_api_tmlms_boatMan_index__WEBPACK_IMPORTED_MODULE_13__["f"])(t).then((function(t){var a=t.data;0!==Object.keys(a.data).length&&(e.idcards=[],e.idcards.push(a.data))})):e.idcards=[],e.checkEmployeeIdcard=!1),e.loading=!1}))},handleLicensesSuccessFront:function(t){this.licensesImage="",this.licensesImage=t.data.url,this.isLicenses=!1},handleContractSuccessFront:function(t){this.contractImageList.push(t.data.url)},handleContractimageSuccessFront:function(t){this.formData.contractImage=t.data.url},handleLicensesCardPreview:function(t){this.formData.licensesOwnerShipImage=t.url},handleContractCardPreview:function(t){this.formData.contractImages=t.url},handleLicensesRemove:function(){this.licensesImage="",this.formData.licensesOwnerShipImage=""},handleContractRemove:function(t,e){console.log(222),console.log(t,e)},handleContractimageRemove:function(){this.formData.contractImage=""},handleSubmitCaoGao:function(){var t=this;this.checked&&(this.formData.status=6),""!=this.updateId&&(this.formData.id=this.updateId),this.formData.shipJointNo=this.formData.shipownerName,this.formData.shipName.shipName&&(this.formData.shipName=this.formData.shipName.shipName),this.formData.employeeIdcard.idcard&&(this.formData.employeeIdcard=this.formData.employeeIdcard.idcard),this.contractImageList&&(this.formData.contractImages=this.contractImageList),this.licensesImage&&(this.formData.licensesOwnerShipImage=this.licensesImage),1==this.formData.payType?this.formData.payTypeValue=this.payValueLong:2==this.formData.payType&&(this.formData.payTypeValue=this.payValueOnce),1==this.formData.payType?this.formData.payTypeValue=this.payValueLong:2==this.formData.payType&&(this.formData.payTypeValue=this.payValueOnce);var e=new Promise((function(e){t.$refs["form"].validateField("shipownerName",(function(t){e(t)})),e()})),a=new Promise((function(e){t.$refs["form"].validateField("shipownerIdcard",(function(t){e(t)})),e()})),r=new Promise((function(e){t.$refs["form"].validateField("shipName",(function(t){e(t)})),e()})),o=new Promise((function(e){t.$refs["form"].validateField("shipLicenses",(function(t){e(t)})),e()})),n=new Promise((function(e){t.$refs["form"].validateField("shipownerPhone",(function(t){e(t)})),e()})),s=new Promise((function(e){t.$refs["form"].validateField("shipownerAddr",(function(t){e(t)})),e()})),i=new Promise((function(e){t.$refs["form"].validateField("employerName",(function(t){e(t)})),e()})),c=new Promise((function(e){t.$refs["form"].validateField("employerIdcard",(function(t){e(t)})),e()})),l=new Promise((function(e){t.$refs["form"].validateField("employerProp",(function(t){e(t)})),e()})),m=new Promise((function(e){t.$refs["form"].validateField("employerPhone",(function(t){e(t)})),e()})),p=new Promise((function(e){t.$refs["form"].validateField("employerAddr",(function(t){e(t)})),e()})),d=this;Promise.all([e,a,r,o,n,s,i,c,l,m,p]).then((function(e){console.log(e),e.join("")?t.$message.error("请确认已经填写了持证人和甲方信息！"):Object(_api_mlms_index__WEBPACK_IMPORTED_MODULE_17__["a"])(t.formData,!0).then((function(){t.$message.success("保存成功！"),"add"==d.type&&0==d.akk?d.$router.go(-1):d.$router.push("tybcontract_draft")})).catch((function(e){console.log(e),t.$message.error("保存失败,请联系管理员!")}))})).catch((function(){t.disableGetCode=!1}))},handleSubmit:function(){var t=this;this.formData.workMode=this.formData.activityType,this.checked&&(this.formData.status=6),this.formData.shipJointNo=this.formData.shipownerName,this.formData.shipName.shipName&&(this.formData.shipName=this.formData.shipName.shipName),this.formData.employeeIdcard.idcard&&(this.formData.employeeIdcard=this.formData.employeeIdcard.idcard),this.contractImageList&&(this.formData.contractImages=this.contractImageList),this.licensesImage&&(this.formData.licensesOwnerShipImage=this.licensesImage),1==this.formData.payType?this.formData.payTypeValue=this.payValueLong:2==this.formData.payType&&(this.formData.payTypeValue=this.payValueOnce);var e=this;this.$refs["form"].validate((function(a){console.log(a),a?"add"===t.type||"renew"===t.type?t.checkEmployeeIdcard?(t.$message.error("乙方船员已签订合同!请重新输入身份证号"),t.formData.employeeIdcard=""):t.$confirm("请确认当前合同信息是否正确，提交后将无法修改, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(_api_tmlms_newContract__WEBPACK_IMPORTED_MODULE_16__["a"])(t.formData).then((function(){t.$message.success("保存成功！"),"add"==e.type&&0==e.akk?e.$router.go(-1):e.$emit("onGoBack")})).catch((function(e){console.log(e),t.$message.error("新增失败,请联系管理员!")}))})).catch((function(){t.$message({type:"info",message:"已取消保存"})})):"edit"===t.type&&Object(_api_tmlms_newContract__WEBPACK_IMPORTED_MODULE_16__["n"])(t.formData).then((function(){t.$message.success("修改成功！"),"add"==e.type&&0==e.akk?e.$router.go(-1):e.$emit("onGoBack")})).catch((function(){t.$message.error("修改失败！")})):t.$message.error("请确认已经填写了所有必填信息！")}))},handleSaveCaoGao:function(){var t=this;this.checked&&(this.formData.status=6),""!=this.updateId&&(this.formData.id=this.updateId),this.formData.shipJointNo=this.formData.shipownerName,this.formData.shipName.shipName&&(this.formData.shipName=this.formData.shipName.shipName),this.formData.employeeIdcard.idcard&&(this.formData.employeeIdcard=this.formData.employeeIdcard.idcard),this.contractImageList&&(this.formData.contractImages=this.contractImageList),this.licensesImage&&(this.formData.licensesOwnerShipImage=this.licensesImage),1==this.formData.payType?this.formData.payTypeValue=this.payValueLong:2==this.formData.payType&&(this.formData.payTypeValue=this.payValueOnce),Object(_api_mlms_index__WEBPACK_IMPORTED_MODULE_17__["a"])(this.formData,!1).then((function(e){t.updateId=e.data.data}))}}}},"266e":function(t,e,a){"use strict";a.d(e,"g",(function(){return n})),a.d(e,"d",(function(){return s})),a.d(e,"e",(function(){return i})),a.d(e,"h",(function(){return c})),a.d(e,"a",(function(){return l})),a.d(e,"n",(function(){return m})),a.d(e,"f",(function(){return p})),a.d(e,"m",(function(){return d})),a.d(e,"b",(function(){return u})),a.d(e,"j",(function(){return h})),a.d(e,"c",(function(){return f})),a.d(e,"i",(function(){return _})),a.d(e,"l",(function(){return y})),a.d(e,"k",(function(){return b})),a.d(e,"o",(function(){return g})),a.d(e,"p",(function(){return v}));var r=a("b5c6"),o="/tmlms/tybcontract";function n(t){return Object(r["a"])({url:"".concat(o,"/page"),method:"get",params:t})}function s(t){return Object(r["a"])({url:"".concat(o,"/del/").concat(t),method:"post"})}function i(t){return Object(r["a"])({url:"".concat(o,"/shipcrew/").concat(t),method:"get"})}function c(t){return Object(r["a"])({url:"/admin/dict/type/".concat(t),method:"get"})}function l(t){return Object(r["a"])({url:"".concat(o,"/save"),method:"post",data:t})}function m(t){return Object(r["a"])({url:"".concat(o,"/update"),method:"post",data:t})}function p(t){return Object(r["a"])({url:"".concat(o,"/").concat(t),method:"get"})}function d(t){return Object(r["a"])({url:"".concat(o,"/review"),method:"post",params:t})}function u(t){return Object(r["a"])({url:"".concat(o,"/cancel"),method:"post",data:t})}function h(t){return Object(r["a"])({url:"".concat(o,"/checkIdcard"),method:"get",params:{employeeIdcard:t}})}function f(t){return Object(r["a"])({url:"".concat(o,"/complant"),method:"post",params:t})}function _(t){return Object(r["a"])({url:"".concat(o,"/villagePage"),method:"get",params:t})}function y(t){return Object(r["a"])({url:"".concat(o,"/refuse"),method:"post",params:{contractId:t}})}function b(t,e){return Object(r["a"])({url:"".concat(o,"/recall"),method:"post",params:{contractId:t,status:e}})}function g(t,e){return Object(r["a"])({url:"".concat(o,"/updateImage"),method:"post",params:{contractId:t,contractImage:e}})}function v(t,e){return Object(r["a"])({url:"".concat(o,"/createImages"),method:"post",params:{contractId:t,addPhoto:e}})}},"2f41":function(t,e,a){},"2f9e":function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));a("ac6a"),a("28a5"),a("a481");var r=a("b5c6");function o(t){var e=t.url,a=t.method,o=void 0===a?"post":a,s=t.data,i=void 0===s?{}:s,c=t.title,l=void 0===c?"":c;return new Promise((function(t){return Object(r["a"])({url:e,method:o,headers:{responseType:"arraybuffer"},data:i,responseType:"blob"}).then((function(e){n({title:l,response:e}).then((function(){t()}))}))}))}function n(t){var e=t.title,a=void 0===e?"":e,r=t.response,o=s(r.headers["content-disposition"].replace(/"/g,""));return new Promise((function(t){var e=r.headers,n=new Blob([r.data],{type:e["content-type"]});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,a);else{var s=document.createElement("a");s.href=window.URL.createObjectURL(n),s.download=a?"".concat(a,".").concat(o.suffix):o.filename,document.body.appendChild(s),s.style.display="none",s.click()}t()}))}function s(t){var e={},a=t.split(";");return a.forEach((function(t){var a=t.replace(/^\s+|\s+$/g,""),r=a.split("=");r[1]?e[r[0]]=r[1]:e[r[0]]=r[0]})),e.suffix=e.filename.split(".")[1],e}},3354:function(t,e,a){"use strict";a("5edd")},4475:function(t,e,a){},5595:function(t,e,a){"use strict";a("4475")},5612:function(t,e,a){"use strict";a.d(e,"i",(function(){return s})),a.d(e,"j",(function(){return i})),a.d(e,"l",(function(){return c})),a.d(e,"m",(function(){return l})),a.d(e,"r",(function(){return m})),a.d(e,"c",(function(){return p})),a.d(e,"t",(function(){return d})),a.d(e,"u",(function(){return u})),a.d(e,"d",(function(){return h})),a.d(e,"e",(function(){return f})),a.d(e,"g",(function(){return _})),a.d(e,"v",(function(){return y})),a.d(e,"f",(function(){return b})),a.d(e,"z",(function(){return g})),a.d(e,"k",(function(){return v})),a.d(e,"n",(function(){return D})),a.d(e,"h",(function(){return w})),a.d(e,"p",(function(){return k})),a.d(e,"x",(function(){return O})),a.d(e,"y",(function(){return P})),a.d(e,"w",(function(){return I})),a.d(e,"b",(function(){return x})),a.d(e,"q",(function(){return E})),a.d(e,"a",(function(){return C})),a.d(e,"s",(function(){return j})),a.d(e,"o",(function(){return T}));var r=a("b5c6"),o=a("2f9e"),n="/tmlms/crew";function s(t){return Object(r["a"])({url:"".concat(n,"/Page"),method:"get",params:t})}function i(t){return Object(r["a"])({url:"".concat(n,"/findByShipId?shipId=").concat(t),method:"get",params:t})}function c(t){return Object(r["a"])({url:"".concat(n,"/getHistoryByShipId?shipId=").concat(t.shipId),method:"get",params:t})}function l(t){return Object(r["a"])({url:"".concat(n,"/pageWithShip"),method:"get",params:t})}function m(t){return Object(r["a"])({url:"".concat(n,"/shipLogPage"),method:"get",params:t})}function p(t){return Object(r["a"])({url:"".concat(n,"/checkMoreRelations"),method:"post",data:t})}function d(t,e){return Object(r["a"])({url:"".concat(n,"/create?type=").concat(e),method:"post",data:t})}function u(t,e){return Object(r["a"])({url:"".concat(n,"/batchCreate?type=").concat(e),method:"post",data:t,timeout:3e5})}function h(t){return Object(r["a"])({url:"".concat(n,"/delete?idcard=").concat(t),method:"post"})}function f(t,e){return Object(r["a"])({url:"".concat(n,"/deleteRelation?idcard=").concat(t,"&&shipId=").concat(e),method:"post"})}function _(t,e){return Object(r["a"])({url:"".concat(n,"/edit?type=").concat(e),method:"post",data:t})}function y(t,e){return Object(r["a"])({url:"".concat(n,"/review?status=").concat(t,"&userId=").concat(e),method:"post"})}function b(t){return Object(r["a"])({url:"".concat(n,"/getCrewByidcard?idcard=").concat(t),method:"get"})}function g(t){return Object(r["a"])({url:"admin/file/upload/avatar",method:"post",data:t})}function v(t){return Object(r["a"])({url:"".concat(n,"/idcardcheck?idcard=").concat(t),method:"get"})}function D(t){return Object(r["a"])({url:"".concat(n,"/idcardcheck?idcard=").concat(t),method:"get"})}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"船员信息";return Object(o["a"])({url:"tmlms/tybmlmsExcelExport/downloadCrew",data:t,title:e})}function k(t){return Object(r["a"])({url:"".concat(n,"/badPage"),method:"get",params:t})}function O(t){return Object(r["a"])({url:"".concat(n,"/badUpdateBatch"),method:"post",data:t})}function P(t){return Object(r["a"])({url:"".concat(n,"/uploadBaseImage"),method:"post",data:t})}function I(t){return Object(r["a"])({url:"".concat(n,"/updateCertByIdcard"),method:"post",params:t})}function x(t){return Object(r["a"])({url:"".concat(n,"/changeShip"),method:"post",data:t})}function E(t){return Object(r["a"])({url:"".concat(n,"/getShipRelationByIdcard"),method:"get",params:t})}function C(t){return Object(r["a"])({url:"/tmlms/tybship/pageForChange",method:"get",params:t})}function j(t){return Object(r["a"])({url:"/tmlms/importTask/lookTask",method:"get",params:{taksId:t}})}function T(t){return Object(r["a"])({url:"/tmlms/crew_cert/newPage",method:"get",params:t})}},"5a00":function(t,e,a){"use strict";a("d9fd")},"5edd":function(t,e,a){},6609:function(t,e,a){},6649:function(t,e,a){},"707f":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(t.currentComponet,{tag:"component",attrs:{record:t.record,type:t.type},on:{"on-add":t.handleAdd,onDetail:t.handleDetail,onRenew:t.handleRenew,onEdit:t.handleEdit,onGoBack:t.handleGoBack,"on-record":t.handleRecord,"on-remove":t.handleRmove}})},o=[],n=a("d2ef"),s=a("8553"),i=a("0fb3"),c=a("c266"),l=a("efd9"),m={name:"TableListWrapper",components:{List:n["default"],Detail:s["default"],ContractPrint:i["default"],Record:c["default"],Remove:l["default"]},data:function(){return{currentComponet:"List",record:"",type:""}},methods:{handleAdd:function(){this.record=null,this.type="add",this.currentComponet="Detail"},handleEdit:function(t){this.record=t,this.type="edit",this.currentComponet="Detail"},handleDetail:function(t){this.record=t,this.type="view",this.currentComponet="Detail"},handleGoBack:function(){this.record="",this.type="",this.currentComponet="List",console.log("handleGoBack")},handleRecord:function(t){this.record=t,this.type="rec",this.currentComponet="Record"},handleRmove:function(t){this.record=t,this.type="rem",this.currentComponet="Remove"},handleRenew:function(t){this.record=t,this.type="renew",this.currentComponet="Detail"}},watch:{"$route.path":function(){this.record="",this.currentComponet="List"}}},p=m,d=a("2877"),u=Object(d["a"])(p,r,o,!1,null,null,null);e["default"]=u.exports},"7a8b":function(t,e,a){},8018:function(t,e,a){},"849d":function(t,e,a){"use strict";a("e5ea")},8553:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contract"},[a("basic-container",{attrs:{id:"pdfDom"}},[a("page-header",{attrs:{title:t.getTitle}}),a("el-form",{ref:"form",staticClass:"form",attrs:{disabled:"add"!==t.type&&"edit"!==t.type&&"renew"!==t.type,model:t.formData,size:"small","label-width":"120px",rules:t.rules}},[a("el-container",[a("el-aside",{staticClass:"side"},[a("div",{staticClass:"tex"},[t._v("持证人信息")])]),a("el-container",[a("el-header",{staticClass:"head"}),a("el-main",{staticClass:"mai"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"持证人姓名：",prop:"shipownerName"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"6",disabled:t.shipowner},model:{value:t.formData.shipownerName,callback:function(e){t.$set(t.formData,"shipownerName",e)},expression:"formData.shipownerName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"身份证号：",prop:"shipownerIdcard"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"18",disabled:t.shipowner},model:{value:t.formData.shipownerIdcard,callback:function(e){t.$set(t.formData,"shipownerIdcard",e)},expression:"formData.shipownerIdcard"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"船名：",prop:"shipName"}},[a("el-select",{staticStyle:{width:"380px!important"},attrs:{placeholder:"请选择",filterable:"",remote:"",maxlength:"20",loading:t.loading,clearable:"","remote-method":t.getShipNameList},on:{change:t.shipNameChange},model:{value:t.formData.shipName,callback:function(e){t.$set(t.formData,"shipName",e)},expression:"formData.shipName"}},t._l(t.shipNames,(function(t){return a("el-option",{key:t.shipId,attrs:{label:t.shipName,value:t}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"船舶登记号：",prop:"shipLicenses"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"20",disabled:t.shipowner},model:{value:t.formData.shipLicenses,callback:function(e){t.$set(t.formData,"shipLicenses",e)},expression:"formData.shipLicenses"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话：",prop:"shipownerPhone"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"11"},model:{value:t.formData.shipownerPhone,callback:function(e){t.$set(t.formData,"shipownerPhone",e)},expression:"formData.shipownerPhone"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"家庭地址：",prop:"shipownerAddr"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"100"},model:{value:t.formData.shipownerAddr,callback:function(e){t.$set(t.formData,"shipownerAddr",e)},expression:"formData.shipownerAddr"}})],1)],1)],1)],1)],1)],1),a("el-container",[a("el-aside",{staticClass:"sidea"},[a("div",{staticClass:"tex"},[t._v("甲方（雇主）")])]),a("el-container",[a("el-header",{staticClass:"head"}),a("el-main",{staticClass:"mai"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名：",prop:"employerName"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"6",disabled:t.employer},model:{value:t.formData.employerName,callback:function(e){t.$set(t.formData,"employerName",e)},expression:"formData.employerName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"身份证号：",prop:"employerIdcard"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"18",disabled:t.employer},model:{value:t.formData.employerIdcard,callback:function(e){t.$set(t.formData,"employerIdcard",e)},expression:"formData.employerIdcard"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"签约人身份性质：",prop:"employerProp"}},[a("el-radio-group",{on:{change:t.employerPropChange},model:{value:t.formData.employerProp,callback:function(e){t.$set(t.formData,"employerProp",e)},expression:"formData.employerProp"}},[a("el-radio",{attrs:{label:1}},[t._v("船舶持证人")]),a("el-radio",{attrs:{label:2}},[t._v("船舶承租人")]),a("el-radio",{attrs:{label:3}},[t._v("船长或授权代理人")])],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"船名及船舶登记号："}},[a("div",[!t.formData.shipName||t.formData.shipName instanceof Object?t._e():a("div",{staticStyle:{"font-size":"10px"}},[t._v("船名："+t._s(t.formData.shipName))]),t.formData.shipName.shipName?a("div",{staticStyle:{"font-size":"10px"}},[t._v("船名："+t._s(t.formData.shipName.shipName))]):t._e(),t.formData.shipName||t.formData.shipName.shipName?t._e():a("div",{staticStyle:{"font-size":"10px"}},[t._v("船名：")]),a("div",{staticStyle:{"font-size":"10px"}},[t._v("船舶登记号："+t._s(t.formData.shipLicenses))])])])],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话：",prop:"employerPhone"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"20",disabled:t.employer},model:{value:t.formData.employerPhone,callback:function(e){t.$set(t.formData,"employerPhone",e)},expression:"formData.employerPhone"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"船舶是否共有：",prop:"shipJoint"}},[a("el-radio-group",{model:{value:t.formData.shipJoint,callback:function(e){t.$set(t.formData,"shipJoint",e)},expression:"formData.shipJoint"}},[a("el-radio",{attrs:{label:1}},[t._v("是，"),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"人数（数字）",size:"mini",type:"number"},model:{value:t.formData.shipJointYes,callback:function(e){t.$set(t.formData,"shipJointYes",e)},expression:"formData.shipJointYes"}}),t._v("共有（权证附后）")],1),a("el-radio",{attrs:{label:0}},[t._v("否，"+t._s(t.formData.shipownerName)+" 独有")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"地址：",prop:"employerAddr"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"40",disabled:t.employer},model:{value:t.formData.employerAddr,callback:function(e){t.$set(t.formData,"employerAddr",e)},expression:"formData.employerAddr"}})],1)],1)],1)],1)],1)],1),a("el-container",[a("el-aside",{staticClass:"sideb"},[a("div",{staticClass:"tex"},[t._v("乙方（雇员）")])]),a("el-container",[a("el-header",{staticClass:"head"}),a("el-main",{staticClass:"mai"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名：",prop:"employeeName"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"6",disabled:t.employee},model:{value:t.formData.employeeName,callback:function(e){t.$set(t.formData,"employeeName",e)},expression:"formData.employeeName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"身份证号：",prop:"employeeIdcard"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"18"},on:{blur:t.getEmployee},model:{value:t.formData.employeeIdcard,callback:function(e){t.$set(t.formData,"employeeIdcard",e)},expression:"formData.employeeIdcard"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话：",prop:"employeePhone"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"11"},model:{value:t.formData.employeePhone,callback:function(e){t.$set(t.formData,"employeePhone",e)},expression:"formData.employeePhone"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"现有资格证书：",prop:"employeePosition"}},[a("iep-dict-select",{staticStyle:{width:"380px!important"},attrs:{"dict-name":"tyb_resume_position"},on:{change:t.changeType},model:{value:t.formData.employeePosition,callback:function(e){t.$set(t.formData,"employeePosition",e)},expression:"formData.employeePosition"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"地址：",prop:"employeeAddr"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"40"},model:{value:t.formData.employeeAddr,callback:function(e){t.$set(t.formData,"employeeAddr",e)},expression:"formData.employeeAddr"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"紧急联系人及电话："}},[a("div",[a("el-col",[a("el-form-item",{attrs:{label:"紧急联系人：",prop:"employeeLinkMan"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{maxlength:"20",size:"mini"},model:{value:t.formData.employeeLinkMan,callback:function(e){t.$set(t.formData,"employeeLinkMan",e)},expression:"formData.employeeLinkMan"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"联系电话：",prop:"employeeLinkPhone"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{maxlength:"11",size:"mini"},model:{value:t.formData.employeeLinkPhone,callback:function(e){t.$set(t.formData,"employeeLinkPhone",e)},expression:"formData.employeeLinkPhone"}})],1)],1)],1)])],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"有无晕船或身体缺陷：",prop:"employeeIsSick"}},[a("el-col",[a("el-radio-group",{model:{value:t.formData.employeeIsSick,callback:function(e){t.$set(t.formData,"employeeIsSick",e)},expression:"formData.employeeIsSick"}},[a("el-radio",{attrs:{label:1}},[t._v("有，"),a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:t.formData.employeeIsSickYes,callback:function(e){t.$set(t.formData,"employeeIsSickYes",e)},expression:"formData.employeeIsSickYes"}})],1),a("el-radio",{attrs:{label:0}},[t._v("无。")])],1)],1),a("el-col",[a("div",[t._v("（不适宜从事航海或海上作业的疾病）")])])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"有无海上经验：",prop:"employeeIsExp"}},[a("el-radio-group",{model:{value:t.formData.employeeIsExp,callback:function(e){t.$set(t.formData,"employeeIsExp",e)},expression:"formData.employeeIsExp"}},[a("el-radio",{attrs:{label:1}},[t._v("有，"),a("iep-dict-select",{staticStyle:{width:"150px!important"},attrs:{"dict-name":"tyb_resume_seniority"},model:{value:t.formData.employeeIsExpYes,callback:function(e){t.$set(t.formData,"employeeIsExpYes",e)},expression:"formData.employeeIsExpYes"}})],1),a("el-radio",{attrs:{label:0}},[t._v("无。")])],1)],1)],1)],1),a("el-row",[a("el-row",[a("el-form-item",{attrs:{label:"劳务报酬账户：",prop:"employeePayType"}},[a("el-radio-group",{model:{value:t.formData.employeePayType,callback:function(e){t.$set(t.formData,"employeePayType",e)},expression:"formData.employeePayType"}},[a("el-radio",{attrs:{label:1}},[t._v("现金")]),a("el-radio",{attrs:{label:2}},[t._v("银行转账")]),a("el-radio",{attrs:{label:3}},[t._v("微信")]),a("el-radio",{attrs:{label:4}},[t._v("支付宝")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.formData.employeePayType,expression:"formData.employeePayType == 2"}]},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"户名：",prop:"employeePayBankAccount"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"20"},model:{value:t.formData.employeePayBankAccount,callback:function(e){t.$set(t.formData,"employeePayBankAccount",e)},expression:"formData.employeePayBankAccount"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"账号：",prop:"employeePayAccount"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"20"},model:{value:t.formData.employeePayAccount,callback:function(e){t.$set(t.formData,"employeePayAccount",e)},expression:"formData.employeePayAccount"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"开户行：",prop:"employeePayBank"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"20"},model:{value:t.formData.employeePayBank,callback:function(e){t.$set(t.formData,"employeePayBank",e)},expression:"formData.employeePayBank"}})],1)],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:3==t.formData.employeePayType,expression:"formData.employeePayType == 3"}]},[a("el-form-item",{attrs:{label:"微信账号：",prop:"employeePayAccount"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"20"},model:{value:t.formData.employeePayAccount,callback:function(e){t.$set(t.formData,"employeePayAccount",e)},expression:"formData.employeePayAccount"}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:4==t.formData.employeePayType,expression:"formData.employeePayType == 4"}]},[a("el-form-item",{attrs:{label:"支付宝实名账号：",prop:"employeePayAccount"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"20"},model:{value:t.formData.employeePayAccount,callback:function(e){t.$set(t.formData,"employeePayAccount",e)},expression:"formData.employeePayAccount"}})],1)],1)],1)],1)],1)],1)],1),a("el-container",[a("el-aside",{staticClass:"sidec"},[a("div",{staticClass:"tex"},[t._v("劳务内容及试用")])]),a("el-container",[a("el-header",{staticClass:"head"}),a("el-main",{staticClass:"mai"},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{staticStyle:{width:"150px!important"},attrs:{label:"在",prop:"activityType"}},[a("iep-dict-select",{staticStyle:{width:"100px!important"},attrs:{"dict-name":"tyb_resume_worktype"},model:{value:t.formData.activityType,callback:function(e){t.$set(t.formData,"activityType",e)},expression:"formData.activityType"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{staticStyle:{width:"150px!important"},attrs:{label:"船担任",prop:"workPosition"}},[a("iep-dict-select",{staticStyle:{width:"100px!important"},attrs:{"dict-name":"tyb_resume_position"},model:{value:t.formData.workPosition,callback:function(e){t.$set(t.formData,"workPosition",e)},expression:"formData.workPosition"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"一职, 特长",prop:"workSkill"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{maxlength:"4"},model:{value:t.formData.workSkill,callback:function(e){t.$set(t.formData,"workSkill",e)},expression:"formData.workSkill"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"试用期",prop:"workProbationTypeValue"}},[a("el-col",{attrs:{span:6}},[a("el-input",{staticStyle:{width:"80px"},attrs:{type:"number",min:"0",oninput:"if(value.length>3)value=value.slice(0,3)"},model:{value:t.formData.workProbationTypeValue,callback:function(e){t.$set(t.formData,"workProbationTypeValue",e)},expression:"formData.workProbationTypeValue"}})],1),a("el-col",{attrs:{span:12}},[a("el-radio-group",{staticStyle:{"margin-left":"15px","margin-right":"auto",width:"300px"},model:{value:t.formData.workProbationType,callback:function(e){t.$set(t.formData,"workProbationType",e)},expression:"formData.workProbationType"}},[a("el-radio",{attrs:{label:1}},[t._v("天")]),a("el-radio",{attrs:{label:2}},[t._v("月")]),a("el-radio",{attrs:{label:3}},[t._v("航次")])],1)],1)],1)],1)],1)],1)],1)],1),a("el-container",[a("el-aside",{staticClass:"sided"},[a("div",{staticClass:"tex"},[t._v("合同期限、劳务报酬标准及支付方式")])]),a("el-container",[a("el-header",{staticClass:"head"}),a("el-main",{staticClass:"mai"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"按渔业生产周期：",prop:"workDateStart","label-width":"150px"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择开始日期","picker-options":t.pickerOptionsS},model:{value:t.formData.workDateStart,callback:function(e){t.$set(t.formData,"workDateStart",e)},expression:"formData.workDateStart"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"至",prop:"workDateEnd","label-width":"60px"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择结束日期","picker-options":t.pickerOptionsE},model:{value:t.formData.workDateEnd,callback:function(e){t.$set(t.formData,"workDateEnd",e)},expression:"formData.workDateEnd"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"薪水类型：",prop:"paySalaryType"}},[a("el-radio-group",{model:{value:t.formData.paySalaryType,callback:function(e){t.$set(t.formData,"paySalaryType",e)},expression:"formData.paySalaryType"}},[a("el-radio",{attrs:{label:1}},[t._v("日薪")]),a("el-radio",{attrs:{label:2}},[t._v("月薪")]),a("el-radio",{attrs:{label:3}},[t._v("年薪")])],1),a("el-input",{staticStyle:{width:"100px"},attrs:{maxlength:"6",oninput:"if(value.length>6)value=value.slice(0,6)",size:"mini",type:"number"},model:{value:t.formData.paySalaryTypeValue,callback:function(e){t.$set(t.formData,"paySalaryTypeValue",e)},expression:"formData.paySalaryTypeValue"}}),a("span",[t._v("元")])],1)],1)],1),a("el-row",[a("el-form-item",{attrs:{label:"支付方式：",prop:"payType"}},[a("el-radio-group",{staticStyle:{width:"800px","margin-top":"20px!important"},on:{change:t.payTypeChange},model:{value:t.formData.payType,callback:function(e){t.$set(t.formData,"payType",e)},expression:"formData.payType"}},[a("el-row",[a("el-col",{staticStyle:{"margin-top":"10px!important"},attrs:{span:4}},[a("el-radio",{attrs:{label:1}},[t._v("定期支付")])],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"劳务产生后次月",prop:"payTypeValue"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{disabled:2===t.formData.payType||3===t.formData.payType,maxlength:"4",oninput:"if(value.length>4)value=value.slice(0,4)",type:"number",size:"mini"},model:{value:t.payValueLong,callback:function(e){t.payValueLong=e},expression:"payValueLong"}}),t._v("日前支付报酬\n                        ")],1)],1)],1),a("el-row",[a("el-col",{staticStyle:{"margin-top":"10px!important"},attrs:{span:4}},[a("el-radio",{attrs:{label:2}},[t._v("一次性支付")])],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{staticClass:"spe",attrs:{label:"期限结束、航次结束后的",prop:"payTypeValue"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{disabled:1===t.formData.payType||3===t.formData.payType,maxlength:"4",oninput:"if(value.length>4)value=value.slice(0,4)",type:"number",size:"mini"},model:{value:t.payValueOnce,callback:function(e){t.payValueOnce=e},expression:"payValueOnce"}}),t._v("日内支付报酬\n                        ")],1)],1)],1),a("el-row",[a("el-radio",{attrs:{label:3}},[t._v("不定期支付")])],1)],1)],1)],1)],1)],1)],1),a("el-container",[a("el-aside",{staticClass:"sidee"},[a("div",{staticClass:"tex"},[t._v("其他约定")])]),a("el-container",[a("el-header",{staticClass:"head headno"}),a("el-main",{staticClass:"mai"},[a("el-row",[a("el-col",[a("span",{staticStyle:{margin:"40px"}},[t._v("本部分选填，可约定：1.其他未尽事宜；2.排除、变更适用背部条款。本处约定与"),a("span",{staticStyle:{color:"red"}},[t._v("其他部分冲突者，以本处约定为准")])])]),a("el-col",[a("el-input",{staticStyle:{width:"720px",margin:"10px 0 0 40px"},attrs:{type:"textarea",placeholder:"请输入内容","show-word-limit":""},model:{value:t.formData.otherContent,callback:function(e){t.$set(t.formData,"otherContent",e)},expression:"formData.otherContent"}})],1)],1),a("el-row",[a("el-col",[a("el-checkbox",{staticClass:"con-checkbox",model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("确认在岗，无纸质合同")])],1)],1)],1)],1)],1)],1),a("div",{staticStyle:{"text-align":"center",padding:"20px 0"}},[a("iep-button",{directives:[{name:"show",rawName:"v-show",value:"add"===t.type||"edit"===t.type||"renew"===t.type,expression:"type === 'add' || type === 'edit' || type === 'renew'"}],staticStyle:{"margin-right":"20px"},attrs:{disabeld:!1,type:"primary"},on:{click:t.handleSubmit}},[t._v("提交")]),a("iep-button",{directives:[{name:"show",rawName:"v-show",value:"add"===t.type,expression:"type === 'add'"}],staticStyle:{"margin-right":"20px"},attrs:{disabeld:!1,type:"primary"},on:{click:t.handleSubmitCaoGao}},[t._v("保存为草稿")]),!t.$route.query.see&&t.akk?a("iep-button",{attrs:{disabeld:!1},on:{click:t.handleBack}},[t._v("返回")]):a("iep-button",{attrs:{disabeld:!1},on:{click:t.handleGo}},[t._v("返回")])],1)],1)],1)},o=[],n=a("2128"),s=n["a"],i=(a("ccb2"),a("5595"),a("3354"),a("2877")),c=Object(i["a"])(s,r,o,!1,null,"0c292c72",null);e["default"]=c.exports},"8bc7":function(t,e,a){"use strict";a("2f41")},"97ea":function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return i}));var r=a("b5c6"),o="/tmlms/tybrate";function n(t){return Object(r["a"])({url:"".concat(o,"/save"),method:"post",data:t})}function s(t){return Object(r["a"])({url:"".concat(o,"/page"),method:"get",params:t})}function i(t){return Object(r["a"])({url:"".concat(o,"/del/").concat(t),method:"post"})}},a93f:function(t,e,a){"use strict";a("fca2")},ade36:function(t,e,a){"use strict";a.d(e,"w",(function(){return s})),a.d(e,"e",(function(){return i})),a.d(e,"r",(function(){return c})),a.d(e,"d",(function(){return l})),a.d(e,"t",(function(){return m})),a.d(e,"v",(function(){return p})),a.d(e,"h",(function(){return d})),a.d(e,"J",(function(){return u})),a.d(e,"i",(function(){return h})),a.d(e,"s",(function(){return f})),a.d(e,"x",(function(){return _})),a.d(e,"y",(function(){return y})),a.d(e,"o",(function(){return b})),a.d(e,"u",(function(){return g})),a.d(e,"z",(function(){return v})),a.d(e,"k",(function(){return D})),a.d(e,"m",(function(){return w})),a.d(e,"l",(function(){return k})),a.d(e,"n",(function(){return O})),a.d(e,"j",(function(){return P})),a.d(e,"G",(function(){return I})),a.d(e,"H",(function(){return x})),a.d(e,"b",(function(){return E})),a.d(e,"D",(function(){return C})),a.d(e,"I",(function(){return j})),a.d(e,"C",(function(){return T})),a.d(e,"q",(function(){return L})),a.d(e,"A",(function(){return S})),a.d(e,"c",(function(){return $})),a.d(e,"B",(function(){return N})),a.d(e,"f",(function(){return M})),a.d(e,"g",(function(){return A})),a.d(e,"E",(function(){return R})),a.d(e,"a",(function(){return B})),a.d(e,"K",(function(){return U})),a.d(e,"p",(function(){return V})),a.d(e,"F",(function(){return W}));var r=a("b5c6"),o=a("2f9e"),n="/tybship/tybship";function s(t){return Object(r["a"])({url:"".concat(n,"/otherpage"),method:"get",params:t})}function i(t,e){return Object(r["a"])({url:"".concat(n,"/updateVillage?shipId=").concat(t,"&&villageId=").concat(e),method:"post"})}function c(){return Object(r["a"])({url:"/admin/org/page",method:"get"})}function l(t,e){return Object(r["a"])({url:"".concat(n,"/updateOrgId?shipId=").concat(t,"&&orgId=").concat(e),method:"post"})}function m(t){return Object(r["a"])({url:"".concat(n,"/").concat(t),method:"get",params:t})}function p(t){return Object(r["a"])({url:"".concat(n,"/").concat(t),method:"get"})}function d(t){return Object(r["a"])({url:"".concat(n,"/save"),method:"post",data:t})}function u(t){return Object(r["a"])({url:"".concat(n,"/update"),method:"post",data:t})}function h(t){return Object(r["a"])({url:"".concat(n,"/del/").concat(t),method:"post"})}function f(t){return Object(r["a"])({url:"".concat(n,"/mypage"),method:"get",params:t})}function _(t){return Object(r["a"])({url:"".concat(n,"/findship/").concat(t),method:"get"})}function y(t){return Object(r["a"])({url:"".concat(n,"/findshipWithOutOrg/").concat(t),method:"get"})}function b(t){return Object(r["a"])({url:"".concat(n,"/findmyship/").concat(t),method:"get"})}function g(t){return Object(r["a"])({url:"".concat(n,"/searchByshipNo"),method:"get",params:{shipNo:t}})}function v(t){return Object(r["a"])({url:"".concat(n,"/newpageV2"),method:"get",params:t})}function D(t){return Object(o["a"])({url:"tybship/tybshipExcelExport/downShipInfo",data:t,title:"渔船信息"})}function w(t){return Object(o["a"])({url:"tmlms/tybmlmsExcelExport/downShipCrew",data:t,title:"开航登记表-"+t.shipName})}function k(t){return Object(o["a"])({url:"tmlms/tybmlmsExcelExport/downShipCrewRecord",data:t,title:"实名登记备案表-"+t.shipName})}function O(t){return Object(o["a"])({url:"tmlms/tybmlmsExcelExport/downShipCrewTwoOld ",data:t,title:"船员登记表-"+t.shipName})}function P(t){return Object(o["a"])({url:"tmlms/tybmlmsExcelExport/downContractModel",data:t,title:t.shipName})}function I(t){return Object(r["a"])({url:"tmlms/tyb_order/page",method:"get",params:t})}function x(t){return Object(r["a"])({url:"tmlms/tyb_order/getById",method:"get",params:t})}function E(t){return Object(r["a"])({url:"tmlms/tyb_order/agree",method:"post",data:t})}function C(t){return Object(r["a"])({url:"tmlms/tyb_order/reject",method:"post",data:t})}function j(t){return Object(r["a"])({url:"/tmlms/tybPortRecord/page",method:"get",params:t})}function T(t){return Object(r["a"])({url:"/tmlms/tybPortRecord/lastRecord",method:"get",params:t})}function L(t){return Object(r["a"])({url:"/tmlms/tybPortRecord/getCrewByRecordId",method:"get",params:t})}function S(t){return Object(r["a"])({url:"/tybship/tybship/info/".concat(t),method:"get"})}function $(t){return Object(r["a"])({url:"/tmlms/crew_cert/certStandard/".concat(t),method:"get"})}function N(t){return Object(r["a"])({url:"/tmlms/investigationReport/pageByShipName?shipName=".concat(t),method:"get"})}function M(t){return Object(r["a"])({url:"/tmlms/crew/countContractByShipId?shipId=".concat(t),method:"get"})}function A(t){return Object(r["a"])({url:"/tmlms/tybPortRecord/page",method:"get",params:t})}function R(t){return Object(r["a"])({url:"/tmlms/tybTroubleshootReport/pageByShipNo",method:"get",params:t})}function B(t){return Object(r["a"])({url:"/tmlms/tyb_order/pageByShipName",method:"get",params:t})}function U(t){return Object(r["a"])({url:"/tmlms/verification/page",method:"get",params:t})}function V(t){return console.log(t),Object(r["a"])({url:"/tmlms/tyb_order/getById?id=".concat(t.id),method:"get"})}function W(t){return Object(r["a"])({url:"/tmlms/tybmlmsExcelExport/downVerification",method:"post",headers:{"Content-Type":"application/json"},responseType:"arraybuffer",data:t}).then((function(t){var e=new Blob([t.data],{type:"application/vnd.ms-excel"}),a=document.createElement("a");a.href=window.URL.createObjectURL(e),a.download="实船鉴证.xls",a.click()}))}},bb1b:function(t,e,a){"use strict";a("6649")},bc4f:function(t,e,a){"use strict";a("8018")},c04b:function(t,e,a){"use strict";a("0b68")},c266:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contract-box"},[a("basic-container",[a("page-header",{attrs:{title:"审核列表"}}),a("operation-container",[a("template",{slot:"right"},[a("iep-button",{attrs:{plain:""},on:{click:t.back}},[t._v("返回")])],1)],2),a("avue-tree-table",{staticStyle:{"margin-top":"20px"},attrs:{option:t.options}}),a("div",{staticStyle:{"text-align":"center",margin:"20px 0"}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, total",total:t.total,"page-size":t.params.size},on:{"current-change":t.currentChange}})],1)],1)],1)},o=[],n=(a("ac6a"),a("e1ca")),s=a("e17e"),i={props:{record:{},type:{}},data:function(){return{recordList:[],params:{current:1,size:10},total:0}},created:function(){this.record&&this.getRecordList()},computed:{options:function(){return{expandAll:!1,columns:[{text:"合同号",value:"contractId"},{text:"操作者",value:"userId"},{text:"审核理由",value:"content"},{text:"审核时间",value:"createTime"}],data:this.recordList}}},methods:{getRecordList:function(){var t=this;this.params.contractId=this.record,this.params.type=2,Object(n["c"])(this.params).then((function(e){0===e.data.code&&(t.recordList=e.data.data.records,t.recordList.forEach((function(t){Object(s["d"])(t.userId).then((function(e){t.userId=e.data.data.realName}))})),t.total=e.data.total)}),(function(e){t.$message.error(e.message)}))},back:function(){this.$emit("onGoBack")},currentChange:function(t){this.params.current=t,this.getRecordList()}}},c=i,l=(a("bc4f"),a("a93f"),a("c04b"),a("2877")),m=Object(l["a"])(c,r,o,!1,null,"58e04bc0",null);e["default"]=m.exports},ccb2:function(t,e,a){"use strict";a("6609")},d2ef:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contract-box aa"},[a("basic-container",[a("page-header",{attrs:{title:"网签合同"}}),a("operation-container",[a("template",{slot:"left"},[t.mlms_contract_add?a("iep-button",{attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v("新增")]):t._e(),a("iep-button",{attrs:{type:"default"},on:{click:t.handleFresh}},[t._v("刷新")])],1),a("template",{slot:"right"},[t.roles.includes(112)?t._e():a("span",{staticStyle:{width:"150px"}},[a("el-select",{attrs:{placeholder:"基层组织",clearable:"",size:"small"},model:{value:t.chooseOrg,callback:function(e){t.chooseOrg=e},expression:"chooseOrg"}},t._l(t.orgList,(function(t){return a("el-option",{key:t.index,attrs:{label:t.villageName,value:t.userId}})})),1)],1),a("span",[a("el-input",{staticStyle:{width:"120px"},attrs:{clearable:"",placeholder:"船名号",size:"small"},model:{value:t.params.shipName,callback:function(e){t.$set(t.params,"shipName","string"===typeof e?e.trim():e)},expression:"params.shipName"}})],1),a("span",[a("el-input",{staticStyle:{width:"120px"},attrs:{clearable:"",placeholder:"甲方姓名",size:"small"},model:{value:t.params.employerName,callback:function(e){t.$set(t.params,"employerName","string"===typeof e?e.trim():e)},expression:"params.employerName"}})],1),a("span",[a("el-input",{staticStyle:{width:"120px"},attrs:{clearable:"",placeholder:"乙方姓名",size:"small"},model:{value:t.params.employeeName,callback:function(e){t.$set(t.params,"employeeName","string"===typeof e?e.trim():e)},expression:"params.employeeName"}})],1),a("span",{staticStyle:{width:"240px"}},[a("el-date-picker",{attrs:{type:"daterange",clearable:"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",size:"small"},model:{value:t.params.timeLists,callback:function(e){t.$set(t.params,"timeLists",e)},expression:"params.timeLists"}})],1),a("span",{staticStyle:{width:"120px"}},[a("el-select",{attrs:{placeholder:"合同状态",size:"small",clearable:""},model:{value:t.conStatus,callback:function(e){t.conStatus=e},expression:"conStatus"}},t._l(t.statusDict,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-button",{attrs:{size:"small"},on:{click:t.getParamData}},[t._v("搜索")])],1)],2),a("avue-tree-table",{staticStyle:{"margin-top":"20px"},attrs:{option:t.options,"row-class-name":t.rowClassName}},[a("el-table-column",{attrs:{label:"操作",width:"250",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.mlms_contract_view?a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleView(e.row.contractId)}}},[t._v("合同查看\n          ")]):t._e(),t.mlms_contract_edit&&"未审核"===e.row.status||t.mlms_contract_edit&&"未通过审核"===e.row.status?a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.row.contractId)}}},[t._v("编辑\n          ")]):t._e(),t.mlms_contract_del&&"未通过审核"===e.row.status?a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleDel(e.row.contractId)}}},[t._v("删除\n          ")]):t._e(),t.mlms_contract_rev&&"未审核"===e.row.status?a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleReview(e.row.contractId)}}},[t._v("审核\n          ")]):t._e(),t.mlms_contract_rec&&"未通过审核"===e.row.status?a("iep-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleRecord(e.row.contractId)}}},[t._v("审核记录\n          ")]):t._e(),!t.mlms_contract_rem||"合同解除"!==e.row.status&&"合同纠纷"!==e.row.status?t._e():a("iep-button",{on:{click:function(a){return t.handleRemove(e.row.contractId)}}},[t._v("解除记录\n          ")]),!t.mlms_contract_pri||"合同成立"!==e.row.status&&"未签纸质合同"!==e.row.status?t._e():a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handlePrint(e.row.contractId)}}},[t._v("打印\n          ")]),!t.mlms_contract_rel||"合同成立"!==e.row.status&&"未签纸质合同"!==e.row.status?t._e():a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleRelieve(e.row.contractId)}}},[t._v("解除\n          ")]),!t.mlms_relieve_rel||"合同成立"!==e.row.status&&"未签纸质合同"!==e.row.status&&"合同纠纷"!==e.row.status?t._e():a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.goTo(e.row.contractId)}}},[t._v("申请解除\n          ")]),t.mlms_contract_com&&"合同纠纷"===e.row.status?a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.go(e.row.contractId)}}},[t._v("投诉管理\n          ")]):t._e(),t.mlms_contract_eva&&"合同解除"===e.row.status&&0===e.row.isRate&&0===e.row.isDate?a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEvaluate(e.row.contractId)}}},[t._v("评价\n          ")]):t._e(),!t.mlms_contract_recall||"合同成立"!==e.row.status&&"未签纸质合同"!==e.row.status?t._e():a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleCall(e.row.contractId)}}},[t._v("撤销\n          ")]),!t.mlms_contract_upload||"合同成立"!==e.row.status&&"未签纸质合同"!==e.row.status||"1"===e.row.contractImage?t._e():a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleUpload(e.row.contractId)}}},[t._v("上传纸质合同\n          ")]),!t.mlms_contract_upload||"合同成立"!==e.row.status&&"未签纸质合同"!==e.row.status||"1"!==e.row.contractImage?t._e():a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleUpload(e.row.contractId)}}},[t._v("查看纸质合同\n          ")]),t.mlms_contract_employee?a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.onToEmployee(e.row.employeeIdcard)}}},[t._v("船员编辑")]):t._e(),"合同过期"===e.row.status?a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.onRenewContracte(e.row.contractId)}}},[t._v("续签")]):t._e()]}}])})],1),a("div",{staticStyle:{"text-align":"center",margin:"20px 0"}},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.total,"page-size":t.params.size},on:{"current-change":t.currentChange}})],1),a("iframe",{staticStyle:{visibility:"hidden"},attrs:{id:"iframe",title:"Inline Frame Example",width:"300",height:"200"}}),a("el-dialog",{attrs:{title:"提示",visible:t.revDialog,width:"30%","before-close":t.canClose},on:{"update:visible":function(e){t.revDialog=e}}},[a("p",[t._v("是否通过此合同？如拒绝请输入拒绝理由：")]),a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.agreeReview}},[t._v("同 意")]),a("el-button",{attrs:{type:"primary"},on:{click:t.cancelReview}},[t._v("拒 绝")])],1)],1),a("el-dialog",{attrs:{title:"提示",visible:t.relDialog,width:"30%","before-close":t.relClose},on:{"update:visible":function(e){t.relDialog=e}}},[a("p",[t._v("是否解除此合同？如同意解除请输入解除理由：")]),a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.relform.content,callback:function(e){t.$set(t.relform,"content",e)},expression:"relform.content"}}),a("span",[t._v("上传双方签名的解除协议：")]),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/admin/file/upload/avatar","show-file-list":!1,"on-success":t.handleAvatarSuccess,headers:t.headers,accept:"image/*"}},[t.relform.image?a("img",{staticClass:"avatar",attrs:{src:t.relform.image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.agreeRelieve}},[t._v("同 意")]),a("el-button",{attrs:{type:"primary"},on:{click:t.relClose}},[t._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:t.aName,visible:t.seaDialog,width:"30%","before-close":t.seaClose},on:{"update:visible":function(e){t.seaDialog=e}}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("span",[t._v("工作环境：")])]),a("el-col",{attrs:{span:12}},[a("el-rate",{model:{value:t.rateList.rateEnv,callback:function(e){t.$set(t.rateList,"rateEnv",e)},expression:"rateList.rateEnv"}})],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("span",[t._v("劳务关系：")])]),a("el-col",{attrs:{span:12}},[a("el-rate",{model:{value:t.rateList.rateEmploy,callback:function(e){t.$set(t.rateList,"rateEmploy",e)},expression:"rateList.rateEmploy"}})],1)],1),a("el-row",[a("span",[t._v("评价：")]),a("el-input",{attrs:{type:"textarea"},model:{value:t.rateList.content,callback:function(e){t.$set(t.rateList,"content",e)},expression:"rateList.content"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.seaClose}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.seaSave}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:t.uploadTitle,visible:t.paperVisible,width:"30%","before-close":t.paperClose},on:{"update:visible":function(e){t.paperVisible=e}}},[a("el-upload",{staticStyle:{"margin-left":"30px!important"},attrs:{action:"/api/admin/file/upload/avatar",multiple:"","list-type":"picture-card",limit:5,headers:t.headers,"on-remove":t.handlePaperRemove,"before-remove":t.beforeRemove,"on-success":t.uploadSuccess,"on-preview":t.handlePictureCardPreview,"file-list":t.contractFiles,accept:"image/*"}},[a("i",{staticClass:"el-icon-plus"})]),a("el-dialog",{staticClass:"preview-modal",attrs:{visible:t.imgVisible,"append-to-body":""},on:{"update:visible":function(e){t.imgVisible=e}}},[a("img",{staticStyle:{width:"100%"},attrs:{src:t.dialogImageUrl,alt:"photo"}})])],1)],1)],1)},o=[],n=(a("8e6e"),a("456d"),a("a481"),a("ac6a"),a("96cf"),a("1da1")),s=a("ade3"),i=(a("28a5"),a("266e")),c=a("97ea"),l=a("df28"),m=a("7ded"),p=a("2f62"),d=a("daa6"),u=a("4360");function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var _={name:"contract",props:{placeholder:{type:String,default:"请输入拥有者关键字搜索"},prop:{type:String,default:"shipowner"}},data:function(){return{dialogImageUrl:"",aName:"",bName:"",contractList:[],params:{shipName:"",shipownerName:"",employerName:"",employeeName:"",timeLists:"",orgId:"",status:"",current:1,size:10},total:0,mlms_contract_add:!1,mlms_contract_view:!1,mlms_contract_edit:!1,mlms_contract_del:!1,mlms_contract_rev:!1,mlms_contract_pri:!1,mlms_contract_rel:!1,mlms_relieve_rel:!1,mlms_contract_com:!1,mlms_contract_eva:!1,mlms_contract_rec:!1,mlms_contract_rem:!1,mlms_contract_recall:!1,mlms_contract_upload:!1,mlms_contract_employee:!1,shipAttrDict:[],employeePayTypeDict:[],periodTypeDict:[],payComputeTypeDict:[],payTypeDict:[],input:"",form:{},timeList:[],statusDict:[{lable:"",value:"全部"},{lable:0,value:"未审核"},{lable:1,value:"合同成立"},{lable:2,value:"未通过审核"},{lable:3,value:"合同纠纷"},{lable:4,value:"合同解除"},{lable:5,value:"合同过期"},{lable:6,value:"未签纸质合同"}],contStatus:"",contractAddr:"",mangner:!1,conStatus:"",chooseOrg:"",revDialog:!1,seaDialog:!1,ownDialog:!1,relDialog:!1,paperVisible:!1,cd:"",content:"",rateList:{contractId:"",type:"",employerName:"",employerIdcard:"",employeeName:"",employeeIdcard:"",rateEnv:"",rateEmploy:"",rateSkill:"",rateBody:"",content:""},idCardVal:"",nameVal:"",obj:{},relform:{contractId:"",content:"",image:""},rd:"",headers:{Authorization:"Bearer "+u["a"].getters.access_token},rateType:0,nowContractId:"",contractImage:"",uploadTitle:"",userName:"",imgVisible:!1,addPhoto:"",contractFiles:[],orgList:[]}},created:function(){var t=this,e=this.$route.query;for(var a in this.params)this.params[a]=e[a],"timeLists"===a&&""!==e[a]&&null!=e[a]&&(this.params[a]=e[a].split(","),this.params.workTimeStart=this.params[a][0],this.params.workTimeEnd=this.params[a][1]);this.getVillageOrg(),this.getContractList(),this.getDicts(),this.mlms_contract_employee=this.permissions["mlms_contract_employee"],this.mlms_contract_add=this.permissions["mlms_contract_add"],this.mlms_contract_view=this.permissions["mlms_contract_view"],this.mlms_contract_edit=this.permissions["mlms_contract_edit"],this.mlms_contract_del=this.permissions["mlms_contract_del"],this.mlms_contract_rev=this.permissions["mlms_contract_rev"],this.mlms_contract_pri=this.permissions["mlms_contract_pri"],this.mlms_contract_rel=this.permissions["mlms_contract_rel"],this.mlms_relieve_rel=this.permissions["mlms_relieve_rel"],this.mlms_contract_com=this.permissions["mlms_contract_com"],this.mlms_contract_eva=this.permissions["mlms_contract_eva"],this.mlms_contract_rec=this.permissions["mlms_contract_rec"],this.mlms_contract_rem=this.permissions["mlms_contract_rem"],this.mlms_contract_recall=this.permissions["mlms_contract_recall"],this.mlms_contract_upload=this.permissions["mlms_contract_upload"],Object(m["c"])().then((function(e){-1!==e.data.data.roles.indexOf(111)?t.mangner=!0:t.mangner=!1,t.idCardVal=e.data.data.sysUser.idCard,t.nameVal=e.data.data.sysUser.realName}))},computed:f(f({},Object(p["c"])(["permissions","roles"])),{},{options:function(){return{expandAll:!1,columns:[{text:"船名",value:"shipName"},{text:"持证人",value:"shipownerName"},{text:"雇主（甲方）",value:"employerName"},{text:"雇员（乙方）",value:"employeeName"},{text:"渔业生产周期",value:"workTime"},{text:"合同状态",value:"status"},{text:"合同发布者",value:"realName"}],data:this.contractList}}}),methods:{onRenewContracte:function(t){this.$emit("onRenew",t)},onToEmployee:function(t){var e="/crew/htgl/contract_admin",a=JSON.parse(JSON.stringify(this.params));for(var r in delete a.current,a)a[r]&&(e+="&".concat(r,"=").concat(a[r]));this.$router.push("/boatMan/detail?edit=".concat(t,"&from=").concat(e))},rowClassName:function(t){var e=t.row;return"合同解除"===e.status||"合同过期"===e.status?"outer-grey":void 0},getVillageOrg:function(){var t=this;Object(d["g"])().then((function(e){t.orgList=e.data.data,t.orgList.unshift({userId:" ",villageName:"全部"})}))},getContractList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(m["c"])().then((function(t){return-1!==t.data.data.roles.indexOf(105)?2:-1!==t.data.data.roles.indexOf(108)?1:void 0}));case 2:this.rateType=t.sent,Object(i["g"])(this.params).then((function(t){var a=t.data,r=new Date,o=new Date(r);o.setDate(r.getDate()-7);var n=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate();0===a.code&&(e.contractList=a.data.records,e.contractList.forEach((function(t){t.workTime="".concat(t.workDateStart,"-").concat(t.workDateEnd||""),t.cancelTime&&(r>new Date(Date.parse(t.workDateStart))&&new Date(Date.parse(n))<new Date(Date.parse(t.cancelTime.substring(0,10)))?e.$set(t,"isDate",0):e.$set(t,"isDate",1)),e.statusDict.forEach((function(e){t.status===e.lable&&(t.status=e.value)}))})),e.total=a.data.total)}),(function(t){e.$message.error(t.message)}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getParamData:function(){var t=this;this.params.shipName=(this.params.shipName||"").replace(/\s*/g,""),this.params.employerName=(this.params.employerName||"").replace(/\s*/g,""),this.params.employeeName=(this.params.employeeName||"").replace(/\s*/g,""),this.params.timeLists?(this.params.workTimeStart=this.params.timeLists[0],this.params.workTimeEnd=this.params.timeLists[1]):(this.params.workTimeStart=void 0,this.params.workTimeEnd=void 0),this.conStatus&&this.statusDict.forEach((function(e){e.value===t.conStatus&&(t.params.status=e.lable)})),this.chooseOrg?this.params.userId=this.chooseOrg:this.params.userId="",console.log(this.params),this.params.current=1,this.getContractList()},currentChange:function(t){this.params.current=t,this.getContractList()},handleFresh:function(){this.getContractList()},handleAdd:function(){this.$emit("on-add")},handleRecord:function(t){this.$emit("on-record",t)},handleRemove:function(t){this.$emit("on-remove",t)},handleView:function(t){var e=window.location.href.split("/")[2],a="%7B%7D";this.$openPage("//".concat(e,"/api/tmlms/downLoad/intoContractHtml?contractId=").concat(t,"&dataMap=").concat(a),"url")},handleEdit:function(t){this.$emit("onEdit",t)},handleDel:function(t){var e=this;this.$confirm("此操作将永久删除该合同, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(i["d"])(t),e.$message.success("删除成功！"),e.getContractList()})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},agreeReview:function(){var t=this,e=1;Object(i["m"])({contractId:this.cd,status:e}).then((function(){t.$message.success("审核通过！"),t.getContractList(),t.revDialog=!1})).catch((function(){t.$message.console.error("审核通过失败！")}))},cancelReview:function(){var t=this,e=2;this.content&&""!==this.content?Object(i["m"])({contractId:this.cd,status:e,content:this.content}).then((function(){t.$message.success("审核不通过"),t.getContractList(),t.revDialog=!1})).catch((function(){t.$message.console.error("审核不通过失败！")})):this.$message.error("请填写理由！")},handleReview:function(t){this.revDialog=!0,this.cd=t},handleRelieve:function(t){this.relDialog=!0,this.rd=t},handleUpload:function(t){var e=this;this.contractFiles=[],this.uploadTitle="上传纸质合同",this.paperVisible=!0,this.nowContractId=t,setTimeout((function(){Object(l["b"])(t,"contract").then((function(t){if(t.data.data.length>0)for(var a=t.data.data,r=0;r<a.length;r++)e.contractFiles.push({name:"image"+a[r].id,url:a[r].image})}))}),100)},paperClose:function(){this.paperVisible=!1,this.contractFiles=[]},agreeRelieve:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["f"])(this.rd).then((function(t){return t.data.data.status}));case 2:this.contStatus=t.sent,this.$confirm("此操作将解除该合同","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.relform.contractId=e.rd,""===e.relform.content?e.$message.error("请输入解除理由！"):1===e.contStatus||6===e.contStatus?Object(i["b"])(e.relform).then((function(){e.relDialog=!1,e.$message.success("解除成功！"),e.getContractList()})).catch((function(){e.$message.error("解除失败！")})):e.$message.error("合同状态不正确，需要管理员审核！")})).catch((function(){e.$message({type:"info",message:"已取消解除"})}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handlePrint:function(t){var e=window.location.origin,a="%7B%7D",r="".concat(e,"/api/tmlms/downLoad/intoContractHtml?contractId=").concat(t,"&dataMap=").concat(a),o=window.document.getElementById("iframe");o.src=r,o.onload=function(){o.contentWindow.focus(),o.contentWindow.print(),o.onload=function(){console.log(1)}}},getDicts:function(){var t=this;Object(i["h"])("tyb_contract_ship_attr").then((function(e){var a=e.data;0===a.code&&(t.shipAttrDict=a.data)})),Object(i["h"])("tyb_contract_employee_pay_type").then((function(e){var a=e.data;0===a.code&&(t.employeePayTypeDict=a.data)})),Object(i["h"])("tyb_contract_period_type").then((function(e){var a=e.data;0===a.code&&(t.periodTypeDict=a.data)})),Object(i["h"])("tyb_contract_pay_compute_type").then((function(e){var a=e.data;0===a.code&&(t.payComputeTypeDict=a.data)})),Object(i["h"])("tyb_contract_pay_type").then((function(e){var a=e.data;0===a.code&&(t.payTypeDict=a.data)}))},handleSearch:function(){var t=this;this.form[this.prop]=this.input;var e={};this.timeList&&(this.form.periodDateStart=this.timeList[0],this.form.periodDateEnd=this.timeList[1]),Object(m["c"])().then((function(a){-1!==a.data.data.roles.indexOf(111)||-1!==a.data.data.roles.indexOf(1)?e=f({},t.form):(e=f({},t.form),e.userId=a.data.data.sysUser.userId,e.shipownerId=a.data.data.sysUser.userId,e.employeeId=a.data.data.sysUser.userId),Object(i["g"])(e).then((function(e){var a=e.data;0===a.code&&(t.contractList=a.data.records,t.total=a.data.total)}),(function(e){t.$message.error(e.message)}))}))},clearSearchParam:function(){this.form={},this.timeList=[]},goTo:function(t){this.$router.push({path:"/tmlms_spa/contractCancel_list/".concat(t)})},go:function(t){this.$router.push({path:"/tmlms_spa/contractCancel_admin/".concat(t)})},canClose:function(){this.revDialog=!1,this.content=""},relClose:function(){this.relDialog=!1,this.relform.content="",this.relform.image=""},seaClose:function(){this.seaDialog=!1,this.rateList={}},seaSave:function(){var t=this;0===this.rateList.rateEnv?this.$message.error("请给工作环境打分！"):0===this.rateList.rateEmploy?this.$message.error("请给劳务关系打分！"):""===this.rateList.content?this.$message.error("评价不能为空！"):Object(c["c"])(this.rateList).then((function(){t.$message.success("评分成功！"),t.seaDialog=!1,t.rateList={},t.getContractList()})).catch((function(e){t.$message.error(e.message)}))},ownSave:function(){var t=this;0===this.rateList.rateSkill?this.$message.error("请给作业技能打分！"):0===this.rateList.rateBody?this.$message.error("请给身体素质打分！"):""===this.rateList.content?this.$message.error("评价不能为空！"):Object(c["c"])(this.rateList).then((function(){t.$message.success("评分成功！"),t.ownDialog=!1,t.rateList={},t.getContractList()})).catch((function(e){t.$message.error(e.message)}))},handleAvatarSuccess:function(t){this.relform.image=t.data.url},handlePaperSuccess:function(t){var e=this;Object(i["o"])(this.nowContractId,t.data.url).then((function(t){t.data.data&&(e.contractImage=t.data.url,e.$message.success("上传成功!"),e.paperVisible=!1,e.getContractList())}))},lookImage:function(t){var e=this;this.uploadTitle="纸质合同",Object(i["f"])(t).then((function(t){var a=t.data.data;e.contractImage=a.contractImage,e.paperVisible=!0}))},handleCall:function(t){var e=this,a=2;this.$confirm("此操作将撤销该合同, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(i["k"])(t,a),e.$message.success("撤销成功！"),e.getContractList()})).catch((function(){e.$message({type:"info",message:"已取消撤销"})}))},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.imgVisible=!0},uploadSuccess:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fileChange(r);case 2:this.getContractList();case 3:case"end":return t.stop()}}),t,this)})));function e(e,a,r){return t.apply(this,arguments)}return e}(),fileChange:function(t,e){var a=this;console.log(t),console.log(e);var r="";if(t.length>0){for(var o=0;o<t.length;o++)t[o].response?0===t[o].response.code&&(r+=0===o?t[o].response.data.url:","+t[o].response.data.url):r+=0===o?t[o].url:","+t[o].url;this.addPhoto=r,Object(i["p"])(this.nowContractId,this.addPhoto).then((function(t){t.data.data&&("del"===e?a.$message.success("删除成功!"):a.$message.success("上传成功!"))}))}else Object(i["p"])(this.nowContractId,"").then((function(t){t.data.data&&a.$message.success("删除成功!")}))},handlePaperRemove:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fileChange(a,"del");case 2:this.getContractList();case 3:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),beforeRemove:function(){return this.$confirm("确定移除该纸质合同图片吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})}}},y=_,b=(a("8bc7"),a("bb1b"),a("f53a"),a("2877")),g=Object(b["a"])(y,r,o,!1,null,"3858e42a",null);e["default"]=g.exports},d9fd:function(t,e,a){},daa6:function(t,e,a){"use strict";a.d(e,"f",(function(){return n})),a.d(e,"g",(function(){return s})),a.d(e,"i",(function(){return i})),a.d(e,"a",(function(){return c})),a.d(e,"c",(function(){return l})),a.d(e,"b",(function(){return m})),a.d(e,"k",(function(){return p})),a.d(e,"h",(function(){return d})),a.d(e,"d",(function(){return u})),a.d(e,"e",(function(){return h})),a.d(e,"j",(function(){return f}));var r=a("b5c6"),o="/tmlms/village";function n(t){return Object(r["a"])({url:"".concat(o,"/page"),method:"get",params:t})}function s(){return Object(r["a"])({url:"".concat(o,"/getVillageByOrg"),method:"get"})}function i(t,e){return Object(r["a"])({url:"".concat(o,"/create?type=").concat(e),method:"post",data:t})}function c(t){return Object(r["a"])({url:"".concat(o,"/delete?userId=").concat(t),method:"post"})}function l(t,e){return Object(r["a"])({url:"".concat(o,"/edit?type=").concat(e),method:"post",data:t})}function m(t){return Object(r["a"])({url:"".concat(o,"/detail?userId=").concat(t),method:"get"})}function p(t,e){return Object(r["a"])({url:"".concat(o,"/review?status=").concat(t,"&userId=").concat(e),method:"post"})}function d(t){return Object(r["a"])({url:"".concat(o,"/page/villageshipowner"),method:"get",params:t})}function u(t){return Object(r["a"])({url:"".concat(o,"/getByVillagename"),method:"get",params:t})}function h(t){return Object(r["a"])({url:"/tmlms/relationship/countRecordWithShip",method:"get",params:t})}function f(t){return Object(r["a"])({url:"/tmlms/trainMeet/createTime?id=".concat(t.id,"&type=").concat(t.type),method:"post"})}},df28:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));var r=a("b5c6"),o="/tmlms/tybmultiimage";function n(t){return Object(r["a"])({url:"".concat(o,"/").concat(t),method:"get"})}function s(t,e){return Object(r["a"])({url:"".concat(o,"/getImages"),method:"get",params:{relId:t,type:e}})}},e1ca:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return i}));var r=a("b5c6"),o="/tmlms/tybcontractcancel";function n(t){return Object(r["a"])({url:"".concat(o,"/save"),method:"post",data:t})}function s(t){return Object(r["a"])({url:"".concat(o,"/newpage"),method:"get",params:t})}function i(t){return Object(r["a"])({url:"".concat(o,"/review"),method:"post",params:{cancelId:t}})}},e5ea:function(t,e,a){},efd9:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contract-box"},[a("basic-container",[a("page-header",{attrs:{title:"解除列表"}}),a("operation-container",[a("template",{slot:"right"},[a("iep-button",{attrs:{plain:""},on:{click:t.back}},[t._v("返回")])],1)],2),a("avue-tree-table",{staticStyle:{"margin-top":"20px"},attrs:{option:t.options}}),a("div",{staticStyle:{"text-align":"center",margin:"20px 0"}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, total",total:t.total,"page-size":t.params.size},on:{"current-change":t.currentChange}})],1)],1)],1)},o=[],n=(a("ac6a"),a("e1ca")),s=a("e17e"),i={props:{record:{},type:{}},data:function(){return{removeList:[],params:{current:1,size:10},total:0}},created:function(){this.record&&this.getRemoveList()},computed:{options:function(){return{expandAll:!1,columns:[{text:"合同号",value:"contractId"},{text:"操作者",value:"userId"},{text:"解除理由",value:"content"},{text:"解除时间",value:"createTime"}],data:this.removeList}}},methods:{getRemoveList:function(){var t=this;this.params.contractId=this.record,this.params.type=1,Object(n["c"])(this.params).then((function(e){0===e.data.code&&(t.removeList=e.data.data.records,t.removeList.forEach((function(t){Object(s["d"])(t.userId).then((function(e){t.userId=e.data.data.realName}))})),t.total=e.data.total)}),(function(e){t.$message.error(e.message)}))},back:function(){this.$emit("onGoBack")},currentChange:function(t){this.params.current=t,this.getRemoveList()}}},c=i,l=(a("5a00"),a("f62e"),a("849d"),a("2877")),m=Object(l["a"])(c,r,o,!1,null,"78652ae2",null);e["default"]=m.exports},f53a:function(t,e,a){"use strict";a("7a8b")},f62e:function(t,e,a){"use strict";a("1ce3")},fca2:function(t,e,a){}}]);