(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65325422"],{"0142":function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o});var a=[{label:"考试名称",prop:"examName"},{label:"考试分类",prop:"kind"},{label:"职务等级",prop:"level"},{label:"创建者",prop:"createByName"},{label:"创建时间",prop:"createTime"}],o={examName:[{required:!0,message:"必填",trigger:"blur"}],kind:[{required:!0,message:"必填",trigger:"blur"}],answerTime:[{type:"number",min:0,message:"答题时间不能小于0",trigger:"blur",required:!0}],passScore:[{type:"number",min:0,message:"及格分数不能小于0",trigger:"blur",required:!0}],goodScore:[{type:"number",min:0,message:"优秀分数不能小于0",trigger:"blur",required:!0}],score:[{type:"number",min:0,message:"试卷总分不能小于0",trigger:"blur",required:!0}],choiceNum:[{type:"number",min:0,message:"试题总数不能小于0",trigger:"blur",required:!0}]}},"0521":function(e,t,r){"use strict";r.d(t,"f",function(){return o}),r.d(t,"g",function(){return n}),r.d(t,"a",function(){return s}),r.d(t,"j",function(){return l}),r.d(t,"d",function(){return i}),r.d(t,"e",function(){return m}),r.d(t,"i",function(){return u}),r.d(t,"b",function(){return c}),r.d(t,"k",function(){return p}),r.d(t,"c",function(){return d}),r.d(t,"h",function(){return f});var a=r("b5c6");function o(e){return Object(a["a"])({url:"tmlms/exam_examination/oldPage",method:"get",params:e})}function n(e){return Object(a["a"])({url:"/tmlms/exam_examination/".concat(e),method:"get",data:e})}function s(e){return Object(a["a"])({url:"tmlms/exam_examination/save",method:"post",data:e})}function l(e){return Object(a["a"])({url:"tmlms/exam_examination/update",method:"post",data:e})}function i(e){return Object(a["a"])({url:"tmlms/exam_question/kinds",method:"get",data:e})}function m(e){return Object(a["a"])({url:"tmlms/exam_question/levels?kind=".concat(e),method:"get",data:e})}function u(e){return Object(a["a"])({url:"tmlms/exam_question/page",method:"get",params:e})}function c(e){return Object(a["a"])({url:"tmlms/exam_question/batch_save",method:"post",data:e})}function p(e){return Object(a["a"])({url:"tmlms/exam_question/update",method:"post",data:e})}function d(e){return Object(a["a"])({url:"tmlms/exam_question/delete?id=".concat(e),method:"post",data:e})}function f(e){return Object(a["a"])({url:"tmlms/exam_question/".concat(e),method:"get",data:e})}},"426e":function(e,t,r){},"90bd":function(e,t,r){"use strict";var a=r("426e"),o=r.n(a);o.a},ecbd:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"iep-page-form"},[r("basic-container",[r("page-header",{attrs:{title:e.methodName+"考试",backOption:e.backOption}}),r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"140px",size:"small"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"考试名称",prop:"examName"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.examName,callback:function(t){e.$set(e.form,"examName",t)},expression:"form.examName"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"考试分类",prop:"kind"}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.getLevel},model:{value:e.form.kind,callback:function(t){e.$set(e.form,"kind",t)},expression:"form.kind"}},e._l(e.kindList,function(e){return r("el-option",{key:e.kind,attrs:{label:e.kind,value:e.kind}})}),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"职务等级",prop:"level"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}},e._l(e.levelList,function(e){return r("el-option",{key:e.level,attrs:{value:e.level}})}),1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"答卷时长",prop:"answerTime"}},[r("el-input",{attrs:{type:"number",oninput:"if(value.length>3)value=value.slice(0,3)"},model:{value:e.form.answerTime,callback:function(t){e.$set(e.form,"answerTime",t)},expression:"form.answerTime"}},[r("template",{slot:"append"},[e._v("分钟")])],2)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"及格分数",prop:"passScore"}},[r("el-input",{attrs:{type:"number",oninput:"if(value.length>3)value=value.slice(0,3)"},model:{value:e.form.passScore,callback:function(t){e.$set(e.form,"passScore",e._n(t))},expression:"form.passScore"}},[r("template",{slot:"append"},[e._v("分")])],2)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"优秀分数",prop:"goodScore"}},[r("el-input",{attrs:{type:"number",oninput:"if(value.length>3)value=value.slice(0,3)"},model:{value:e.form.goodScore,callback:function(t){e.$set(e.form,"goodScore",t)},expression:"form.goodScore"}},[r("template",{slot:"append"},[e._v("分")])],2)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"试卷总分",prop:"score"}},[r("el-input",{attrs:{type:"number",oninput:"if(value.length>3)value=value.slice(0,3)"},model:{value:e.form.score,callback:function(t){e.$set(e.form,"score",t)},expression:"form.score"}},[r("template",{slot:"append"},[e._v("分")])],2)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"试题总数",prop:"choiceNum"}},[r("el-input",{attrs:{type:"number",oninput:"if(value.length>3)value=value.slice(0,3)"},model:{value:e.form.choiceNum,callback:function(t){e.$set(e.form,"choiceNum",e._n(t))},expression:"form.choiceNum"}},[r("template",{slot:"append"},[e._v("题")])],2)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"判断题数量",prop:"consume"}},[r("el-input",{attrs:{type:"number",oninput:"if(value.length>3)value=value.slice(0,3)"},model:{value:e.form.consume,callback:function(t){e.$set(e.form,"consume",t)},expression:"form.consume"}},[r("template",{slot:"append"},[e._v("题")])],2)],1)],1)],1),r("el-row",[r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isArticle,expression:"isArticle"}],attrs:{label:"考试说明：",prop:"examExplain"}},[r("iep-froala-editor",{model:{value:e.form.examExplain,callback:function(t){e.$set(e.form,"examExplain",t)},expression:"form.examExplain"}})],1)],1),r("el-form-item",{attrs:{label:""}},[r("operation-wrapper",[r("iep-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v("保存")])],1)],1)],1)],1)],1)},o=[],n=r("0521"),s=r("0142"),l={data:function(){return{backOption:{isBack:!0,backPath:this.$route.query.redirect},rules:s["b"],form:{examName:"",kind:"",level:"",answerTime:90,passScore:60,goodScore:90,examExplain:"",openScope:"1",testPaperId:0,chargeStatus:"1",rewardStatus:"1",choiceNum:50,score:100,consume:0},init:!1,isShow:!1,isArticle:!0,methodName:"",trainList:"",isTrain:!1,kindList:[],levelList:[]}},computed:{},mounted:function(){this.methodName=this.$route.query.edit?"编辑":"发布"},created:function(){this.$route.query.edit&&this.getDetail(),this.getKindLevel()},methods:{getKindLevel:function(){var e=this;Object(n["d"])().then(function(t){e.kindList=t.data.data})},getDetail:function(){var e=this;Object(n["g"])(this.$route.query.edit).then(function(t){e.getLevel(t.data.data.kind),e.form=t.data.data})},getLevel:function(e){var t=this;this.form.level="",Object(n["e"])(e).then(function(e){t.levelList=e.data.data})},handleSubmit:function(e){var t=this;this.form.answerTime=parseInt(this.form.answerTime),this.form.passScore=parseInt(this.form.passScore),this.form.goodScore=parseInt(this.form.goodScore),this.form.choiceNum=parseInt(this.form.choiceNum),this.form.score=parseInt(this.form.score),this.form.testNumber=parseInt(this.form.testNumber),this.$refs[e].validate(function(e){if(console.log(t.form),!e)return t.$message({message:"请确认已经填写了所有必填项",type:"error"}),!1;t.$route.query.edit?Object(n["j"])(t.form).then(function(e){e.data.data?(t.$message({message:"".concat(t.methodName,"成功"),type:"success"}),t.$router.go(-1)):t.$message({message:"".concat(t.methodName,"失败"),type:"error"})}):Object(n["a"])(t.form).then(function(e){console.log(e),e.data.data?(t.$message({message:"".concat(t.methodName,"成功"),type:"success"}),t.$router.go(-1)):t.$message({message:"".concat(t.methodName,"失败"),type:"error"})})})}},watch:{"form.kind":{handler:function(e){var t=e+this.form.level;this.$set(this.form,"examName",t)}},"form.level":{handler:function(e){var t=this.form.kind+e;this.$set(this.form,"examName",t)}}}},i=l,m=(r("90bd"),r("0c7c")),u=Object(m["a"])(i,a,o,!1,null,null,null);t["default"]=u.exports}}]);