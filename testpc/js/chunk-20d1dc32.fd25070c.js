(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20d1dc32","chunk-2d0d7ac3","chunk-2d0d7ac3"],{"17ae":function(t,e,a){},"186c":function(t,e,a){"use strict";a("6407")},"1f4a":function(t,e,a){},"233a":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("iep-dialog",{attrs:{"dialog-show":t.dialogShow,title:"项目经理授权申请",width:"50%"},on:{close:t.resetForm}},[a("el-form",{ref:"form",attrs:{model:t.formData,rules:t.rules,"label-width":"150px"}},[a("p",{staticClass:"tips"},[t._v('"项目经理授权申请"审批规则：项目预算小于等于100万的项目由班长审批，项目预算大于100万的项目由高层审批。')]),a("el-form-item",{attrs:{label:"编号："}},[t._v("\n      "+t._s(t.formData.serialNo)+"\n    ")]),a("el-form-item",{attrs:{label:"项目名称："}},[t._v("\n      "+t._s(t.formData.projectName)+"\n    ")]),a("el-form-item",{attrs:{label:"项目预算（万元）："}},[t._v("\n      "+t._s(t.formData.projectBudget)+"\n    ")]),a("el-form-item",{attrs:{label:"审批人：",prop:"approverList"}},[a("iep-contact-select",{model:{value:t.formData.approverList,callback:function(e){t.$set(t.formData,"approverList",e)},expression:"formData.approverList"}})],1),a("el-form-item",{attrs:{label:"抄送人：",prop:"ccPersonList"}},[a("iep-contact-multiple",{model:{value:t.formData.ccPersonList,callback:function(e){t.$set(t.formData,"ccPersonList",e)},expression:"formData.ccPersonList"}})],1)],1),a("template",{slot:"footer"},[a("iep-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("form")}}},[t._v("提交")]),a("iep-button",{on:{click:function(e){return t.resetForm("form")}}},[t._v("取消")])],1)],2)},n=[],i=a("a12f");function s(){return{approverList:{id:"",name:""},ccPersonList:{unions:[],orgs:[],users:[]}}}var o={data:function(){return{rules:{},dialogShow:!1,formData:s(),list:[]}},methods:{open:function(t){this.dialogShow=!0,this.formData=s(),this.formData={serialNo:t.serialNo,projectName:t.projectName,projectBudget:t.projectBudget,id:t.id,approverList:{id:"",name:""},ccPersonList:{unions:[],orgs:[],users:[]},approvalStatus:2}},loadPage:function(){this.$emit("load-page"),this.dialogShow=!1},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.formData.approver=e.formData.approverList.id,e.formData.ccPersonList=e.formData.ccPersonList.users.map((function(t){return t.id})),Object(i["f"])(e.formData).then((function(){e.$message({message:"提交成功",type:"success"}),e.loadPage()}))}))},resetForm:function(){this.formData=s(),this.dialogShow=!1}}},l=o,c=(a("7d93"),a("2877")),u=Object(c["a"])(l,r,n,!1,null,"3e999b3e",null);e["default"]=u.exports},"27fe":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"plate"},[a("div",{staticClass:"head"},[a("p",{staticClass:"title"},[t._v("会议纪要")]),a("div",{staticClass:"button"},[a("iep-button",{attrs:{size:"small",type:"primary"},on:{click:t.createSummary}},[a("i",{staticClass:"el-icon-plus"}),t._v(" 新增")]),a("iep-button",{attrs:{size:"small"},on:{click:t.relateSummary}},[a("i",{staticClass:"icon-guanlian"}),t._v(" 关联")])],1)]),a("div",{staticClass:"content"},[0==t.summaryList.length?a("div",{staticStyle:{color:"#999"}},[t._v("暂无数据")]):a("div",t._l(t.summaryList,(function(e,r){return a("div",{key:r,staticClass:"item"},[a("i",{staticClass:"icon-guanlian"}),t._v(t._s(e.name)+" "),a("i",{staticClass:"close el-icon-close",on:{click:function(a){return t.deleteRelations(e,1)}}})])})),0)])]),a("div",{staticClass:"plate"},[a("div",{staticClass:"head"},[a("p",{staticClass:"title"},[t._v("项目周报")]),a("div",{staticClass:"button"},[a("iep-button",{attrs:{size:"small",type:"primary"}},[a("i",{staticClass:"el-icon-plus"}),t._v(" 新增")]),a("iep-button",{attrs:{size:"small"}},[a("i",{staticClass:"icon-guanlian"}),t._v(" 关联")])],1)]),a("div",{staticClass:"content"},[0==t.weeklyList.length?a("div",{staticStyle:{color:"#999"}},[t._v("暂无数据")]):a("div",t._l(t.weeklyList,(function(e,r){return a("div",{key:r,staticClass:"item"},[a("i",{staticClass:"icon-guanlian"}),t._v(t._s(e.name)+" "),a("i",{staticClass:"close el-icon-close",on:{click:function(a){return t.deleteRelations(e,2)}}})])})),0)])])])},n=[],i=(a("c5f6"),a("ec8cf")),s={name:"index",props:{projectId:{type:Number,default:0}},data:function(){return{summaryList:[],weeklyList:[]}},methods:{createSummary:function(){this.$emit("createSummary")},getsummaryList:function(){var t=this;Object(i["c"])({projectId:this.projectId,materialType:1}).then((function(e){var a=e.data;t.summaryList=a.data}))},relateSummary:function(){this.$emit("relateSummary",this.projectId)},getPorjectWeekList:function(){var t=this;Object(i["c"])({projectId:this.projectId,materialType:2}).then((function(e){var a=e.data;t.weeklyList=a.data}))},deleteRelations:function(t,e){Object(i["a"])({materialChartId:t.id,materialType:e,projectId:this.projectId}).then((function(t){var e=t.data;console.log("data: ",e)}))}},created:function(){this.getsummaryList(),this.getPorjectWeekList()}},o=s,l=(a("6109"),a("2877")),c=Object(l["a"])(o,r,n,!1,null,"01ce994c",null);e["default"]=c.exports},"295a":function(t,e,a){"use strict";a("2ac7")},2979:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"contianBox"},[a("el-row",{staticClass:"title"},[a("el-col",{staticClass:"data",attrs:{span:24}},[t._v("审批信息")])],1),a("el-row",{staticClass:"topBot"},[a("el-form",{attrs:{"label-width":"150px"}},[a("el-row",t._l(t.infoList,(function(e,r){return a("el-col",{key:r,staticClass:"item",attrs:{span:12}},["dict"===e.type?a("el-form-item",{attrs:{label:e.label}},[t._v("\n              "+t._s(t.getDictMap(t.setUpData[e.value],t.dictMap[e.value]))+"\n            ")]):a("el-form-item",{attrs:{label:e.label}},[t._v(t._s(t.setUpData[e.value]))])],1)})),1)],1),1==t.setUpData.approvalStatus?a("div",{staticClass:"footer"},[a("iep-button",{attrs:{type:"danger"},on:{click:t.sumbit}},[t._v("提交")])],1):t._e()],1)],1),a("div",{staticClass:"contianBox"},[a("el-row",{staticClass:"title"},[a("el-col",{staticClass:"data",attrs:{span:20}},[t._v("立项信息")]),a("el-col",{staticClass:"edit"},[a("i",{staticClass:"icon-bianji"})])],1),a("el-row",{staticClass:"topBot"},[a("el-form",{attrs:{"label-width":"150px"}},[a("el-row",t._l(t.setUpList,(function(e,r){return a("el-col",{key:r,staticClass:"item",attrs:{span:12}},["dict"===e.type?a("el-form-item",{attrs:{label:e.label}},[t._v("\n              "+t._s(t.getDictMap(t.setUpData[e.value],t.dictMap[e.value]))+"\n            ")]):"tag"===e.type?a("el-form-item",{attrs:{label:e.label}},t._l(t.setUpData[e.value],(function(e,r){return a("el-tag",{key:r,attrs:{type:"info"}},[t._v(t._s(e))])})),1):a("el-form-item",{attrs:{label:e.label}},[t._v(t._s(t.setUpData[e.value]))])],1)})),1)],1)],1)],1),a("transfer-dialog",{ref:"form",on:{close:t.submitSuccess}})],1)},n=[],i=a("f3b7"),s=a("4e65"),o={components:{TransferDialog:i["default"]},props:{form:{type:Object,default:function(){return{}}}},computed:{setUpData:function(){var t=this.form;return t}},data:function(){return{infoList:s["c"],setUpList:s["e"],dictMap:s["a"]}},methods:{sumbit:function(){this.$refs["form"].open(this.form)},submitSuccess:function(){this.$emit("submitSuccess",!0)},getDictMap:s["b"]}},l=o,c=(a("295a"),a("2877")),u=Object(c["a"])(l,r,n,!1,null,"27925402",null);e["default"]=u.exports},"2ac7":function(t,e,a){},"2c04":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("iep-dialog",{attrs:{"dialog-show":t.dialogShow,title:"关联纪要",width:"60%"},on:{close:t.close}},[a("iep-table",{attrs:{isLoadTable:t.isLoadTable,pagination:t.pagination,columnsMap:t.columnsMap,pagedTable:t.pagedTable,"is-mutiple-selection":"",dictsMap:t.dictsMap},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"selection-change":t.selectionChange}}),a("template",{slot:"footer"},[a("iep-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("确定")]),a("iep-button",{on:{click:t.close}},[t._v("取消")])],1)],2)},n=[],i=(a("c5f6"),a("502e")),s=(a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("7f7f"),a("6b54"),a("e3c4"));function o(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=l(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,i=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw i}}}}function l(t,e){if(t){if("string"===typeof t)return c(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}var u=Object(s["a"])({name:"dictGroup"});function p(t){var e,a={},r=o(t);try{for(r.s();!(e=r.n()).done;){var n=e.value;a[n.value]=n.label}}catch(i){r.e(i)}finally{r.f()}return a}var m={meetingType:p(u.mlms_meeting_type)},f=[{prop:"title",label:"会议标题"},{prop:"meetingType",label:"会议类型",width:"200px",type:"dict"}],d=a("6837"),v=a("ec8cf"),h={mixins:[i["a"]],props:{projectId:{type:Number,default:0}},data:function(){return{columnsMap:f,dictsMap:m,dialogShow:!1,selectList:[]}},methods:{loadPage:function(t){this.loadTable(t,d["h"])},open:function(){this.dialogShow=!0,this.loadPage()},close:function(){this.dialogShow=!1},submitForm:function(){console.log("multipleSelection: ",this.multipleSelection);var t={materialChartIdList:this.selectList.map((function(t){return t.id})),materialType:1,projectId:this.projectId};Object(v["d"])(t).then((function(t){var e=t.data;console.log("data: ",e)}))},selectionChange:function(t){this.selectList=t.map((function(t){return{id:t.id,materialName:t.title}}))}}},b=h,g=a("2877"),_=Object(g["a"])(b,r,n,!1,null,null,null);e["default"]=_.exports},"2d59":function(t,e,a){},3171:function(t,e,a){},3992:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._l(t.list,(function(e,r){return a("div",{key:r,staticClass:"plate"},[a("div",{staticClass:"head"},[a("p",{staticClass:"title"},[t._v(t._s(e.name))]),a("div",{staticClass:"button"},[a("iep-button",{attrs:{size:"small",type:"primary"}},[a("i",{staticClass:"el-icon-plus"}),t._v(" 新增")]),a("iep-button",{attrs:{size:"small"}},[a("i",{staticClass:"icon-guanlian"}),t._v(" 关联")])],1)]),a("div",{staticClass:"content"},[e.materials.length?a("div",t._l(e.materials,(function(e,r){return a("div",{key:r,staticClass:"item"},[a("i",{staticClass:"icon-guanlian"}),t._v(t._s(e.materialName)+" "),a("i",{staticClass:"close el-icon-close"})])})),0):a("div",{staticStyle:{color:"#999"}},[t._v("暂无数据")])])])}))],2)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"plate"},[a("div",{staticClass:"head"},[a("p",{staticClass:"title"},[t._v("材料说明")]),a("div",{staticClass:"button"},[a("i",{staticClass:"icon-bianji",staticStyle:{cursor:"pointer"}})])]),a("div",{staticClass:"content"})])}],i=(a("c5f6"),a("ec8cf")),s={name:"index",props:{projectId:{type:Number,default:0}},data:function(){return{list:[]}},methods:{loadList:function(){var t=this;Object(i["b"])({id:this.projectId}).then((function(e){var a=e.data;t.list=a.data}))}},mounted:function(){this.loadList()}},o=s,l=(a("9e24"),a("2877")),c=Object(l["a"])(o,r,n,!1,null,"75a88475",null);e["default"]=c.exports},4111:function(t,e,a){"use strict";a("9d19")},4167:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"abs"},[a("div",{staticClass:"contianBox"},[a("el-row",{staticClass:"topBot"},[a("el-col",{attrs:{span:4}},[t._v("审批状态："+t._s(t.approvalStatus[t.form.approvalStatus]))]),a("el-col",{attrs:{span:5}},[t._v("申请人："+t._s(t.form.applicantName))]),a("el-col",{attrs:{span:5}},[t._v("申请时间："+t._s(t.form.applyTime))]),a("el-col",{attrs:{span:5}},[t._v("审批人："+t._s(t.form.approverName))]),a("el-col",{attrs:{span:5}},[t._v("审批时间："+t._s(t.form.approvalTime))])],1),a("el-row",{staticClass:"bot"},[a("el-col",{attrs:{span:12}},[t._v("审批不通过理由："+t._s(t.form.approvalFailReason))]),a("el-col",{attrs:{span:12}},[t._v("指导建议："+t._s(t.form.guideSugges))])],1)],1),a("approval-contract",{attrs:{data:t.contractData,form:t.form,author:t.authorData}})],1)},n=[],i=(a("7f7f"),a("95eb")),s=a("0a22"),o=a("a12f"),l={name:"detail-dialog",components:{ApprovalContract:i["default"]},data:function(){var t=this;return{backOption:{isBack:!0,backPath:null,backFunction:function(){t.$emit("close",!1)}},contractData:{},approvalStatus:{1:"未提交",2:"待审核",3:"审核通过",4:"审核不通过"},form:{},authorData:{}}},methods:{open:function(t,e){var a=this;Object(s["d"])(e).then((function(t){for(var e=t.data,r=[{name:"applicantName",list:"applicantList"},{name:"approverName",list:"approverList"},{name:"inChargeDeptName",list:"inChargeDeptList"},{name:"coopDeptName",list:"coopDeptList"},{name:"publisherName",list:"publisherList"},{name:"relatedClientName",list:"relatedClientList"},{name:"groupExternalCooperatePartnerName",list:"groupExternalCooperatePartnerList"}],n=0,i=r;n<i.length;n++){var s=i[n];e.data[s.list]?e.data[s.name]=e.data[s.list].name:e.data[s.name]="无"}a.form=e.data})),Object(o["e"])(t).then((function(t){var e=t.data,r=e.data.data;r.projectManagerName=r.projectManagerList.name,r.authCompanyName=r.authCompanyList.name,r.projectManagerName=r.projectManagerList.name,a.authorData=r}))},close:function(){this.$emit("close",!1)}}},c=l,u=(a("f637"),a("2877")),p=Object(u["a"])(c,r,n,!1,null,"6bccfd24",null);e["default"]=p.exports},"425a":function(t,e,a){},"428e":function(t,e,a){"use strict";a("425a")},"4e65":function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"c",(function(){return l})),a.d(e,"e",(function(){return c})),a.d(e,"d",(function(){return u})),a.d(e,"b",(function(){return p}));a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("7f7f"),a("6b54");var r=a("e3c4");function n(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=i(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,l=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){l=!0,s=t},f:function(){try{o||null==a.return||a.return()}finally{if(l)throw s}}}}function i(t,e){if(t){if("string"===typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}var o={projectType:Object(r["a"])({name:"dictGroup"}).prms_project_type,businessType:Object(r["a"])({name:"dictGroup"}).prms_business_type,isRelevanceProduct:[{value:1,label:"是"},{value:2,label:"否"}],approvalStatus:[{value:1,label:"未提交"},{value:2,label:"待审核"},{value:3,label:"审核通过"},{value:4,label:"审核不通过"}]},l=[{label:"审批状态：",value:"approvalStatus",type:"dict"},{label:"申请人：",value:"applicantName"},{label:"审批人：",value:"approverName"},{label:"申请时间：",value:"applyTime"},{label:"审批时间：",value:"approvalTime"},{label:"指导建议：",value:"guideSugges"},{label:"审批不通过理由：",value:"approvalFailReason"}],c=[{label:"编号：",value:"serialNo"},{label:"项目名称：",value:"projectName"},{label:"项目类型：",value:"projectType",type:"dict"},{label:"业务类型：",value:"businessType",type:"dict"},{label:"相关客户：",value:"relatedClientName"},{label:"项目预算（万元）：",value:"projectBudget"},{label:"项目标签：",value:"projectTagList",type:"tag"},{label:"是否关联产品：",value:"isRelevanceProduct",type:"dict"},{label:"相关产品：",value:"aa-aa",type:"tag"},{label:"承接部门：",value:"inChargeDeptName"},{label:"合作部门：",value:"coopDeptName"},{label:"集团外部合作伙伴：",value:"groupExternalCooperatePartnerName"},{label:"发布人：",value:"publisherName"},{label:"发布时间：",value:"publishTime"}];function u(){return{serialNo:"",projectName:"",approver:"",approverObj:{id:"",name:""},ccPersonList:[],ccPersonLists:{orgs:[],users:[],unions:[]},approvalStatus:2}}function p(t,e){var a,r=n(e);try{for(r.s();!(a=r.n()).done;){var i=a.value;if(i.value==t)return i.label}}catch(s){r.e(s)}finally{r.f()}}},"502e":function(t,e,a){"use strict";a("8e6e"),a("ac6a"),a("456d");var r=a("ade3"),n=(a("96cf"),a("1da1")),i=a("51f4");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l={delete:"删除",shelf:"上架",submit:"提交",cancel:"撤销"};e["a"]={data:function(){return{pagedTable:[],multipleSelection:[],isLoadTable:!0,pagination:this._pageOption(),pageOption:this._pageOption(),searchForm:{}}},methods:{_pageOption:function(){return Object(i["a"])()},searchPage:function(t){this.pageOption=this._pageOption(),this.searchForm=t,this.loadPage(t)},loadTable:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){var r,n,i,s,l,c,u,p,m,f=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=f.length>2&&void 0!==f[2]?f[2]:function(t){return t},this.isLoadTable=!0,t.next=4,a(o(o({},this.pageOption),e));case 4:return n=t.sent,i=n.data,s=i.data,l=s.records,c=s.size,u=s.total,p=s.current,m=u/c+1===p,m&&0!==u?this.searchPage({current:p-1,size:c,total:u}):this.pagination={current:p,size:c,total:u},this.pagedTable=l.map(r),this.isLoadTable=!1,t.abrupt("return",i.data);case 12:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),handleSizeChange:function(t){this.pageOption.size=t,this.loadPage()},handleCurrentChange:function(t){this.pageOption.current=t,this.loadPage()},_handleGlobalDeleteById:function(t,e){this._handleGlobalById(t,e,"delete")},_handleGlobalDeleteAll:function(t){this._handleGlobalAll(t,"delete")},_handleGlobalById:function(t,e){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"delete",n=l[r];this.$confirm("此操作将".concat(n,"该数据, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e(t).then((function(t){t.data.data?a.$message({type:"success",message:"".concat(n,"成功!")}):a.$message({type:"info",message:"".concat(n,"失败，").concat(t.data.msg)}),a.loadPage()}))}))},_handleGlobalAll:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,r,i,s=this,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=o.length>1&&void 0!==o[1]?o[1]:"delete",r=this.multipleSelection,i=l[a],void 0!==r&&0!==r.length){t.next=6;break}return this.$message("请先选择需要".concat(i,"的选项")),t.abrupt("return");case 6:this.$confirm("此操作将".concat(i,"这些数据, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e(r);case 2:a=t.sent,n=a.data,n.data?(s.$message({type:"success",message:"".concat(i,"成功!")}),s.pageOption=s._pageOption()):s.$message({type:"info",message:"".concat(i,"失败，").concat(n.msg)}),s.loadPage();case 6:case"end":return t.stop()}}),t)}))));case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),_handleComfirm:function(t,e,a,r,i){var s=this;this.$confirm(r||"是否".concat(a),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e(t);case 2:n=r.sent,o=n.data,o.data?s.$message({type:"success",message:i||"".concat(a,"成功!")}):s.$message({type:"info",message:"".concat(o.msg)}),s.loadPage();case 6:case"end":return r.stop()}}),r)})))).catch((function(t){s.$message({type:"info",message:"".concat(t,", 已取消").concat(a)})}))},mixinsCellPointerStyle:function(t){var e=t.column;return"index"!==e.type&&"selection"!==e.type&&"操作"!==e.label&&"cursor:pointer"}}}},"59f8":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("operation-container",[a("template",{slot:"left"},[a("iep-button",{staticClass:"add",attrs:{type:"primary"},on:{click:t.handleCreate}},[t._v("新增")]),a("iep-button",{staticClass:"add",on:{click:t.handleDeleteAll}},[t._v("批量删除")])],1)],2),a("iep-table",{attrs:{isLoadTable:t.isLoadTable,pagination:t.pagination,columnsMap:t.columnsMap,pagedTable:t.pagedTable,"is-mutiple-selection":"",dictsMap:t.dictsMap},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"selection-change":t.selectionChange}},[a("el-table-column",{attrs:{prop:"operation",label:"操作",width:"280",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("operation-wrapper",[a("iep-button",{attrs:{type:"warning",plain:""},on:{click:function(a){return t.handleDetail(e.row)}}},[t._v("详情")]),1==e.row.approvalStatus?a("iep-button",{attrs:{plain:""},on:{click:function(a){return t.handleSubmit(e.row)}}},[t._v("提交")]):t._e(),a("el-dropdown",{attrs:{size:"medium"}},[a("iep-button",{attrs:{type:"default"}},[a("i",{staticClass:"el-icon-more-outline"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(a){return t.handleUpdate(e.row)}}},[t._v("编辑")]),a("el-dropdown-item",{nativeOn:{click:function(a){return t.handleDelete(e.row)}}},[t._v("删除")])],1)],1)],1)]}}])})],1),a("apply-dialog",{ref:"apply",on:{"load-page":t.loadPage}})],1)},n=[],i=(a("c5f6"),a("502e")),s=a("a786"),o=a("a12f"),l=a("233a"),c={data:function(){return{addDialogShow:!1,isLoadTable:!1,columnsMap:s["a"],value:"",dictsMap:s["b"]}},props:{projectInfoId:{type:Number,default:0}},components:{ApplyDialog:l["default"]},mixins:[i["a"]],methods:{loadPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{projectInfoId:this.projectInfoId};this.loadTable(t,o["d"])},selectionChange:function(t){this.multipleSelection=t.map((function(t){return t.id}))},handleDetail:function(t){this.$emit("toggle-detail",t)},handleSubmit:function(t){this.$refs["apply"].open(t)},handleCreate:function(){this.$emit("toggle-show","create")},handleUpdate:function(t){var e=this;Object(o["e"])(t.id).then((function(t){var a=t.data;e.$emit("toggle-show","update",a.data.data)}))},handleDeleteAll:function(){this._handleGlobalAll(o["b"])},handleDelete:function(t){this._handleGlobalById(t.id,o["b"])},closeDialog:function(){this.paramForm={}}},created:function(){this.loadPage()}},u=c,p=(a("428e"),a("2877")),m=Object(p["a"])(u,r,n,!1,null,"23a55137",null);e["default"]=m.exports},"5dfc":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("basic-container",[a("iep-tabs",{attrs:{"tab-list":t.tabList},scopedSlots:t._u(["Normy"===t.activeTab?{key:"Normy",fn:function(){return[a("normy",{directives:[{name:"loading",rawName:"v-loading",value:"Normy"!==t.activeTab,expression:"activeTab !=='Normy'"}],attrs:{projectId:t.form.id},on:{createSummary:t.createSummary,relateSummary:t.relateSummary}})]},proxy:!0}:null,"Norm"===t.activeTab?{key:"Norm",fn:function(){return[a("norm",{directives:[{name:"loading",rawName:"v-loading",value:"Norm"!==t.activeTab,expression:"activeTab !=='Norm'"}],attrs:{projectId:t.form.id}})]},proxy:!0}:null],null,!0),model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}})],1),a("relateDialog",{ref:"relation",attrs:{projectId:t.form.id}})],1)},n=[],i=a("27fe"),s=a("3992"),o=a("2c04"),l={name:"index",components:{Normy:i["default"],Norm:s["default"],relateDialog:o["default"]},props:{form:{type:Object,default:function(){return{}}}},data:function(){return{tabList:[{label:"纪要与周报",value:"Normy"},{label:"规范性材料",value:"Norm"}],activeTab:"Normy"}},methods:{createSummary:function(){this.$emit("createSummary",{id:this.form.id,name:this.form.projectName})},relateSummary:function(t){this.$refs["relation"].open(t)}}},c=l,u=a("2877"),p=Object(u["a"])(c,r,n,!1,null,"138dd919",null);e["default"]=p.exports},6109:function(t,e,a){"use strict";a("cd9db")},"61a5":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"abs"},[a("div",{staticClass:"plate"},[t._m(0),a("div",{staticClass:"content"},[a("el-form",{attrs:{"label-width":"150px"}},[a("el-row",t._l(t.formList,(function(e,r){return a("el-col",{key:r,staticClass:"item",attrs:{span:12}},["dict"===e.type?a("el-form-item",{attrs:{label:e.label}},[t._v("\n              "+t._s(t.getDictMap(t.form[e.value],t.dictMap[e.value]))+"\n            ")]):"tag"===e.type?a("el-form-item",{attrs:{label:e.label}},t._l(t.form[e.value],(function(e,r){return a("el-tag",{key:r,attrs:{type:"info"}},[t._v(t._s(e))])})),1):a("el-form-item",{attrs:{label:e.label}},[t._v(t._s(t.form[e.value]))])],1)})),1)],1)],1)]),a("teamPage",{attrs:{form:t.form}})],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"head"},[a("p",{staticClass:"title"},[t._v("基本信息")])])}],i=(a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("7f7f"),a("6b54"),a("e3c4")),s={projectType:Object(i["a"])({name:"dictGroup"}).prms_project_type,businessType:Object(i["a"])({name:"dictGroup"}).prms_business_type,isRelevanceProduct:[{value:1,label:"是"},{value:2,label:"否"}],approvalStatus:[{value:1,label:"未提交"},{value:2,label:"待审核"},{value:3,label:"审核通过"},{value:4,label:"审核不通过"}]},o=[{id:1,content:"2018年国脉十四周年年会委员会年度工作总结与2019工作计划汇报会议纪要"},{id:2,content:"2018年度国脉十四周年年会会议纪要(23日上午议程)分享"},{id:3,content:'2018年国脉年会"十大方案解读与学习培训大会"（下午）会议纪要分享'}],l=[{label:"项目名称：",value:"projectName"},{label:"项目标签：",value:"projectTagList",type:"tag"},{label:"发布人：",value:"publisherName"},{label:"承接部门：",value:"inChargeDeptName"},{label:"发布时间：",value:"publishTime"},{label:"项目类型：",value:"projectType",type:"dict"},{label:"编号：",value:"serialNo"},{label:"相关客户：",value:"relatedClientName"},{label:"业务类型：",value:"businessType",type:"dict"},{label:"合同金额",value:"contractAmount"},{label:"项目预算（万元）：",value:"projectBudget"},{label:"是否关联产品：",value:"isRelevanceProduct",type:"dict"}],c=a("73fc");function u(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=p(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,i=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw i}}}}function p(t,e){if(t){if("string"===typeof t)return m(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}var f={name:"index",components:{teamPage:c["default"]},props:{form:{type:Object,default:function(){}}},data:function(){return{summaryList:o,list2:o,formList:l,dictMap:s}},methods:{getDictMap:function(t,e){var a,r=u(e);try{for(r.s();!(a=r.n()).done;){var n=a.value;if(n.value==t)return n.label}}catch(i){r.e(i)}finally{r.f()}}}},d=f,v=(a("d69b"),a("2877")),h=Object(v["a"])(d,r,n,!1,null,"627fa8db",null);e["default"]=h.exports},6407:function(t,e,a){},"6cce":function(t,e,a){},"73fc":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"plate"},[a("div",{staticClass:"head"},[a("p",{staticClass:"title"},[t._v("项目团队")]),a("div",{staticClass:"button"},[a("iep-button",{attrs:{size:"small"}},[t._v("管理")])],1)]),t._m(0)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[t._v("市场经理：")]),a("div",{staticClass:"item"},[t._v("超级管理员")])]),a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[t._v("项目经理：")]),a("div",{staticClass:"item"},[t._v("张三")])]),a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[t._v("项目指导人：")]),a("div",{staticClass:"item"},[t._v("李四")])]),a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[t._v("项目成员：")]),a("div",{staticClass:"item"},[t._v("赵文、赵武")])])])}],i={props:{form:{type:Object,default:function(){}}}},s=i,o=(a("ee2a"),a("2877")),l=Object(o["a"])(s,r,n,!1,null,"b1e68238",null);e["default"]=l.exports},"788d":function(t,e,a){var r=a("5ca1"),n=a("6821"),i=a("9def");r(r.S,"String",{raw:function(t){var e=n(t.raw),a=i(e.length),r=arguments.length,s=[],o=0;while(a>o)s.push(String(e[o++])),o<r&&s.push(String(arguments[o]));return s.join("")}})},"7b43":function(t,e,a){},"7d93":function(t,e,a){"use strict";a("a4fd")},"95eb":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addDias"},[a("el-row",{staticClass:"bods"},[a("div",{staticClass:"contractBox"},[a("div",{staticClass:"contractBoxTop"},[a("p",{staticClass:"tits"},[t._v("项目经理授权书 "),a("span",{staticClass:"number"},[t._v("编号："),a("span",{staticClass:"initstit"},[t._v(t._s(t.form.serialNo))])])]),a("p",{staticClass:"pls"},[a("span",{staticClass:"prs"},[t._v(t._s(t.author.projectManagerName))]),a("strong",[t._v("先生/女士：")])]),a("p",{staticClass:"indents"},[t._v("现任命你为 "),a("span",{staticClass:"prs"},[t._v(t._s(t.form.projectName))]),t._v("项目的项目经理，全权负责该项目的项目管理工作，同时授子相关的签字和审批权限。你的工作职责包括:")]),a("p",{staticClass:"pls"},[t._v("1、管理客户关系和管控项目实施全过程，获取客户的满意和信任；")]),a("p",{staticClass:"pls"},[t._v("2、管理项目团队，使之高效而又愉快地工作，并获得最满意的工作体验；")]),a("p",{staticClass:"pls"},[t._v("3、按照规定的需求、进度、成本和质量预期完成项目的交付任务。")]),a("p",{staticClass:"pls"},[t._v("4、完成领导交力的其他工作。")]),a("p",{staticClass:"indents"},[t._v("此任命自 "),a("span",{staticClass:"prs"},[t._v(" "+t._s(t.getYear(t.author.appointStartTime))+" ")]),t._v(" 年 "),a("span",{staticClass:"prs"},[t._v(" "+t._s(t.getMonth(t.author.appointStartTime))+" ")]),t._v(" 月 "),a("span",{staticClass:"prs"},[t._v(" "+t._s(t.getDay(t.author.appointStartTime))+" ")]),t._v("日发布之日起生效，\n        至 "),a("span",{staticClass:"prs"},[t._v(" "+t._s(t.getYear(t.author.appointEndTime))+" ")]),t._v(" 年 "),a("span",{staticClass:"prs"},[t._v(" "+t._s(t.getMonth(t.author.appointEndTime))+" ")]),t._v(" 月 "),a("span",{staticClass:"prs"},[t._v(" "+t._s(t.getDay(t.author.appointEndTime))+" ")]),t._v("日项目结项之日起失效。\n        ")]),a("p",{staticClass:"pls"},[t._v("本授权书一式三份，项目执行与质量委员会、部门及本人各执一份。")]),a("p",{staticClass:"pls"},[t._v("被授权人无转乘托权，特此委托。")]),a("p",{staticClass:"texright"},[t._v("授权单位："+t._s(t.author.authCompanyName))]),a("p",{staticClass:"texright"},[t._v("被授权人："),a("span",{staticClass:"prs"},[t._v(t._s(t.author.projectManagerName))]),t._v("日期："),a("span",{staticClass:"prs"},[t._v(t._s(t.author.authDate))])])]),a("p",{staticClass:"indents pasaml"},[t._v("我已经认真阅读了并完全理解了任命书中的内容，并承诺对工作职责中所规定的内容全责。")]),a("p",{staticClass:"pasaml"},[a("strong",[t._v("项目经理信息：")])]),a("p",{staticClass:"pls"},[a("span",[t._v("姓名：")]),a("span",[t._v(t._s(t.author.projectManagerName))]),a("span",{staticClass:"pls"},[t._v("性别：")]),a("span",[t._v(t._s(t.dictMap.gender[t.author.gender]))]),a("span",{staticClass:"pls"},[t._v("年龄：")]),a("span",[t._v(t._s(t.author.age))])]),a("p",{staticClass:"pls"},[t._v("身份证号码："),a("span",[t._v(" "+t._s(t.author.idCardNumber)+" ")])]),a("p",{staticClass:"pls"},[t._v("联系电话："),a("span",[t._v(" "+t._s(t.author.phone)+" ")])]),a("p",{staticClass:"pls"},[t._v("通讯地址："),a("span",[t._v(" "+t._s(t.author.address)+" ")])]),a("p",{staticClass:"pls"},[t._v("邮 编："),a("span",[t._v(" "+t._s(t.author.zipCode)+" ")])])])])],1)},n=[],i=a("502e"),s={mixins:[i["a"]],props:{form:{type:Object,default:function(){}},author:{type:Object,default:function(){}}},data:function(){return{dictMap:{gender:{1:"男",2:"女"}}}},methods:{getDay:function(t){return new Date(t).getDate()},getMonth:function(t){return new Date(t).getMonth()},getYear:function(t){return new Date(t).getFullYear()}}},o=s,l=(a("9f14"),a("f971"),a("2877")),c=Object(l["a"])(o,r,n,!1,null,"aa776360",null);e["default"]=c.exports},"9c8b":function(t,e,a){"use strict";a("7b43")},"9d19":function(t,e,a){},"9e24":function(t,e,a){"use strict";a("9f3a")},"9ef5":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("basic-container",{staticClass:"iep-page-form"},[a("page-header",{attrs:{title:t.methodName,backOption:t.backOption}}),a("el-form",{ref:"form",attrs:{model:t.formData,rules:t.rules,"label-width":"200px"}},[a("el-row",[a("el-col",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目经理：",prop:"projectManagerList"}},[a("iep-contact-select",{model:{value:t.formData.projectManagerList,callback:function(e){t.$set(t.formData,"projectManagerList",e)},expression:"formData.projectManagerList"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"性别：",prop:"gender"}},[a("el-radio-group",{model:{value:t.formData.gender,callback:function(e){t.$set(t.formData,"gender",e)},expression:"formData.gender"}},t._l(t.sexDict,(function(e,r){return a("el-radio",{key:r,attrs:{label:e.value}},[t._v(t._s(e.label))])})),1)],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"身份证号码："}},[a("el-input",{attrs:{placeholder:"请输入项目经理身份证号码"},model:{value:t.formData.idCardNumber,callback:function(e){t.$set(t.formData,"idCardNumber",e)},expression:"formData.idCardNumber"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"年龄："}},[a("el-input",{attrs:{placeholder:"请输入项目经理年龄"},model:{value:t.formData.age,callback:function(e){t.$set(t.formData,"age",e)},expression:"formData.age"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话：",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入项目经理联系电话"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮编："}},[a("el-input",{attrs:{placeholder:"请输入邮编"},model:{value:t.formData.zipCode,callback:function(e){t.$set(t.formData,"zipCode",e)},expression:"formData.zipCode"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"通讯地址："}},[a("el-input",{attrs:{placeholder:"请输入通讯地址"},model:{value:t.formData.address,callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任命开始日期：",prop:"appointStartTime"}},[a("IepDatePicker",{model:{value:t.formData.appointStartTime,callback:function(e){t.$set(t.formData,"appointStartTime",e)},expression:"formData.appointStartTime"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任命结束日期：",prop:"appointEndTime"}},[a("IepDatePicker",{model:{value:t.formData.appointEndTime,callback:function(e){t.$set(t.formData,"appointEndTime",e)},expression:"formData.appointEndTime"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"授权单位：",prop:"authCompanyList"}},[a("iep-dept-select",{model:{value:t.formData.authCompanyList,callback:function(e){t.$set(t.formData,"authCompanyList",e)},expression:"formData.authCompanyList"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"授权日期：",prop:"authDate"}},[a("IepDatePicker",{model:{value:t.formData.authDate,callback:function(e){t.$set(t.formData,"authDate",e)},expression:"formData.authDate"}})],1)],1)],1)],1),a("footer-toolbar",[a("iep-button",{attrs:{type:"primary"},on:{click:t.saveForm}},[t._v(t._s(t.methodName))]),a("iep-button",{on:{click:function(e){return t.close(!1)}}},[t._v("取消")])],1)],1)},n=[],i=(a("7f7f"),a("a786")),s=a("4faa"),o=a("a12f"),l={name:"add-dialog",components:{FooterToolbar:s["default"]},data:function(){var t=this;return{rules:i["d"],formData:Object(i["c"])(),backOption:{isBack:!0,backPath:null,backFunction:function(){t.close(!1)}},methodName:"新增",formRequestFn:o["a"],requestList:{create:{name:"新增",requestFn:o["a"]},update:{name:"修改",requestFn:o["f"]}},projectData:{},sexDict:[{label:"男",value:1},{label:"女",value:2}]}},methods:{open:function(t,e,a){this.formData=e||Object(i["c"])(),this.formRequestFn=this.requestList[t].requestFn,this.methodName=this.requestList[t].name,this.projectData=a},close:function(t){this.formData=Object(i["c"])(),this.$emit("close",t,"Accredit")},saveForm:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;t.formData.projectManager=t.formData.projectManagerList.id,t.formData.authCompany=t.formData.authCompanyList.id,t.formData.projectInfoId=t.projectData.id,t.formData.projectName=t.projectData.projectName,t.formRequestFn(t.formData).then((function(){t.$message({message:"".concat(t.methodName,"成功"),type:"success"}),t.close(!0)}))}))}}},c=l,u=a("2877"),p=Object(u["a"])(c,r,n,!1,null,null,null);e["default"]=p.exports},"9f14":function(t,e,a){"use strict";a("6cce")},"9f3a":function(t,e,a){},a12f:function(t,e,a){"use strict";a.d(e,"d",(function(){return s})),a.d(e,"a",(function(){return o})),a.d(e,"f",(function(){return l})),a.d(e,"b",(function(){return c})),a.d(e,"e",(function(){return u})),a.d(e,"c",(function(){return p}));var r=a("53ca"),n=a("b5c6"),i="/prms/iepProjectAuthorization";function s(t){return Object(n["a"])({url:"".concat(i,"/page"),method:"get",params:t})}function o(t){return Object(n["a"])({url:"".concat(i),method:"post",data:t})}function l(t){return Object(n["a"])({url:"".concat(i,"/edit"),method:"post",data:t})}function c(t){var e="object"==Object(r["a"])(t)?t:[t];return Object(n["a"])({url:"".concat(i,"/delete/batch"),method:"post",data:e})}function u(t){return Object(n["a"])({url:"".concat(i,"/").concat(t),method:"get"})}function p(t){return Object(n["a"])({url:"".concat(i,"/projectApproval"),method:"get",params:t})}},a4fd:function(t,e,a){},a786:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return n})),a.d(e,"d",(function(){return i})),a.d(e,"c",(function(){return s}));var r={approvalStatus:{1:"未提交",2:"待审核",3:"审核通过",4:"审核不通过"}},n=[{prop:"projectName",label:"项目名称"},{prop:"projectManagerName",label:"项目经理"},{prop:"approvalStatus",label:"审批状态",type:"dict"},{prop:"applicantName",label:"申请人"},{prop:"applyTime",label:"申请时间"},{prop:"approverName",label:"审批人"},{prop:"approvalTime",label:"审批时间"}],i={projectManagerList:[{required:!0,message:"必填",trigger:"change"}],gender:[{required:!0,message:"必填",trigger:"change"}],phone:[{required:!0,message:"必填",trigger:"blur"}],appointStartTime:[{required:!0,message:"必填",trigger:"change"}],appointEndTime:[{required:!0,message:"必填",trigger:"change"}],authCompanyList:[{required:!0,message:"必填",trigger:"change"}],authDate:[{required:!0,message:"必填",trigger:"change"}]};function s(){return{projectManager:"",projectManagerList:{id:"",name:""},gender:1,age:"",idCardNumber:"",phone:"",zipCode:"",address:"",appointStartTime:"",appointEndTime:"",authCompany:"",authCompanyList:{},authDate:"",projectInfoId:0}}},b73c:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("basic-container",{staticClass:"abs"},[a("page-header",{attrs:{title:"详情",backOption:t.backOption}}),a("detailPage",{ref:"detail"})],1)},n=[],i=a("4167"),s={name:"detail-dialog",components:{detailPage:i["default"]},data:function(){var t=this;return{backOption:{isBack:!0,backPath:null,backFunction:function(){t.$emit("close",!1)}}}},methods:{open:function(t,e){this.$refs["detail"].open(t,e)},close:function(){this.$emit("close",!1)}}},o=s,l=(a("9c8b"),a("2877")),c=Object(l["a"])(o,r,n,!1,null,"7ee22754",null);e["default"]=c.exports},bc27:function(t,e,a){},cd9db:function(t,e,a){},d688:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("basic-container",[a("iep-tabs",{attrs:{"tab-list":t.tabList},scopedSlots:t._u(["ProApp"===t.activeTab?{key:"ProApp",fn:function(){return[a("pro-app",{directives:[{name:"loading",rawName:"v-loading",value:"ProApp"!==t.activeTab,expression:"activeTab !=='ProApp'"}],attrs:{form:t.formData},on:{submitSuccess:t.submitSuccess}})]},proxy:!0}:null,"Accredit"===t.activeTab?{key:"Accredit",fn:function(){return[a("accredit",{directives:[{name:"loading",rawName:"v-loading",value:"Accredit"!==t.activeTab,expression:"activeTab !=='Accredit'"}],attrs:{projectInfoId:t.form.id},on:{"toggle-show":t.handleFormOpera,"toggle-detail":t.handleDetail}})]},proxy:!0}:null],null,!0),model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}})],1)},n=[],i=a("2979"),s=a("59f8"),o={components:{ProApp:i["default"],Accredit:s["default"]},props:{form:{type:Object,default:function(){return{}}}},computed:{formData:function(){return this.form}},data:function(){return{detailDialogShow:!1,tabList:[{label:"项目立项",value:"ProApp"},{label:"项目经理授权",value:"Accredit"}],activeTab:"ProApp"}},methods:{changePage:function(t){var e=this;this.activeTab="",this.$nextTick((function(){console.log("name: ",t),e.activeTab=t}))},handleDetail:function(t){this.$emit("author_detail",t,this.formData)},handleFormOpera:function(t,e){this.$emit("author_opera",t,e)},submitSuccess:function(){this.$emit("submitSuccess",!0)}}},l=o,c=(a("4111"),a("2877")),u=Object(c["a"])(l,r,n,!1,null,"c9fb4d74",null);e["default"]=u.exports},d69b:function(t,e,a){"use strict";a("bc27")},e093:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("basic-container",[a("div",{directives:[{name:"show",rawName:"v-show",value:"list"==t.pageState,expression:"pageState == 'list'"}]},[a("page-header",{attrs:{title:"详情",backOption:t.backOption}}),a("div",{staticClass:"content"},[a("div",{staticClass:"left"},[a("el-card",{staticClass:"box-card"},t._l(t.selectNavigatList,(function(e){return a("div",{key:e.value,staticClass:"navigation",class:t.selectNavigation===e.value?"selectNavigation":"",on:{click:function(a){return t.navigationChosen(e)}}},[t._v(t._s(e.name))])})),0)],1),a("div",{staticClass:"right"},[0===t.selectNavigation?a("detailPage",{attrs:{form:t.formData}}):t._e(),1===t.selectNavigation?a("stagePage",{ref:"stage",attrs:{form:t.formData},on:{author_detail:t.authorDetail,author_opera:t.authorOpera,submitSuccess:t.submitSuccess}}):t._e(),2===t.selectNavigation?a("materialPage",{attrs:{form:t.formData},on:{createSummary:t.materialCreateSummary}}):t._e()],1)])],1),"authorDetail"==t.pageState?a("stageAuthorDetail",{ref:"authorDetail",on:{close:t.authorClose}}):t._e(),"authorOpera"==t.pageState?a("stageAuthorOpera",{ref:"authorOpera",on:{close:t.authorClose}}):t._e(),"summaryCreate"==t.pageState?a("materialSummaryCreate",{ref:"summaryCreate",on:{close:t.summaryClose}}):t._e()],1)},n=[],i=(a("7f7f"),a("61a5")),s=a("d688"),o=a("5dfc"),l=a("0a22"),c=a("b73c"),u=a("9ef5"),p=a("d986"),m={name:"detail",components:{detailPage:i["default"],stagePage:s["default"],materialPage:o["default"],stageAuthorDetail:c["default"],stageAuthorOpera:u["default"],materialSummaryCreate:p["default"]},data:function(){var t=this;return{backOption:{isBack:!0,backPath:null,backFunction:function(){t.$router.go(-1)}},pageState:"list",selectNavigation:0,selectNavigatList:[{name:"概况",value:0},{name:"立项阶段",value:1},{name:"项目材料",value:2}],formData:{}}},methods:{close:function(){},navigationChosen:function(t){this.selectNavigation=t.value},authorDetail:function(t,e){var a=this;this.pageState="authorDetail",this.$nextTick((function(){a.$refs["authorDetail"].open(t.id,e.id)}))},authorClose:function(t,e){this.pageState="list",!0===t&&(console.log("asd"),this.$refs["stage"].changePage(e))},authorOpera:function(t,e){var a=this;this.pageState="authorOpera",this.$nextTick((function(){a.$refs["authorOpera"].open(t,e,a.formData)}))},getDetailData:function(){var t=this;Object(l["d"])(this.$route.params.id).then((function(e){for(var a=e.data,r=[{name:"applicantName",list:"applicantList"},{name:"approverName",list:"approverList"},{name:"inChargeDeptName",list:"inChargeDeptList"},{name:"coopDeptName",list:"coopDeptList"},{name:"publisherName",list:"publisherList"},{name:"relatedClientName",list:"relatedClientList"},{name:"groupExternalCooperatePartnerName",list:"groupExternalCooperatePartnerList"}],n=0,i=r;n<i.length;n++){var s=i[n];a.data[s.list]?a.data[s.name]=a.data[s.list].name:a.data[s.name]="无"}t.formData=a.data}))},submitSuccess:function(){this.getDetailData()},materialCreateSummary:function(t){var e=this;this.pageState="summaryCreate",this.$nextTick((function(){e.$refs["summaryCreate"].projectOpen(t)}))},summaryClose:function(){this.pageState="list"}},created:function(){this.getDetailData()}},f=m,d=(a("ec94"),a("2877")),v=Object(d["a"])(f,r,n,!1,null,"5e7d1928",null);e["default"]=v.exports},ec8cf:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return o})),a.d(e,"d",(function(){return l}));var r=a("b5c6"),n="/prms/iepProjectMaterial";function i(t){return Object(r["a"])({url:"".concat(n,"/standardList"),method:"get",params:t})}function s(t){return Object(r["a"])({url:"".concat(n,"/meetingList"),method:"get",params:t})}function o(t){return Object(r["a"])({url:"".concat(n,"/deleteSummarys"),method:"post",data:t})}function l(t){return Object(r["a"])({url:"".concat(n,"/relationSummarys"),method:"post",data:t})}},ec94:function(t,e,a){"use strict";a("2d59")},ee2a:function(t,e,a){"use strict";a("17ae")},f3b7:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("iep-dialog",{attrs:{"dialog-show":t.dialogShow,title:"立项申请",width:"60%"},on:{close:function(e){return t.resetForm(!1)}}},[a("p",{staticClass:"tipes"},[a("i",{staticClass:"el-icon-warning"}),t._v(" 项目预算大于100万的项目由项目执行与质量委员会审批。")]),a("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"编号"}},[t._v(t._s(t.formData.serialNo))]),a("el-form-item",{attrs:{label:"项目名称"}},[t._v(t._s(t.formData.projectName))]),a("el-form-item",{attrs:{label:"项目预算"}},[t._v(t._s(t.formData.projectBudget))]),a("el-form-item",{attrs:{label:"审批人"}},[a("iep-contact-select",{staticStyle:{width:"200px"},model:{value:t.formData.approverObj,callback:function(e){t.$set(t.formData,"approverObj",e)},expression:"formData.approverObj"}})],1),a("el-form-item",{attrs:{label:"抄送人"}},[a("iep-contact-multiple",{model:{value:t.formData.ccPersonLists,callback:function(e){t.$set(t.formData,"ccPersonLists",e)},expression:"formData.ccPersonLists"}})],1)],1),a("template",{slot:"footer"},[a("iep-button",{attrs:{type:"danger"},on:{click:t.submitForm}},[t._v("提交")]),a("iep-button",{on:{click:function(e){return t.resetForm(!1)}}},[t._v("取消")])],1)],2)},n=[],i=a("502e"),s=a("0a22"),o=a("4e65"),l={name:"index",mixins:[i["a"]],data:function(){return{dialogShow:!1,formData:Object(o["d"])(),rules:{issuename:[{required:!0,message:"请选择活动区域",trigger:"change"}]}}},methods:{open:function(t){this.dialogShow=!0,this.formData.id=t.id,this.formData.serialNo=t.serialNo,this.formData.projectName=t.projectName,this.formData.projectBudget=t.projectBudget},resetForm:function(t){this.formData=Object(o["d"])(),this.dialogShow=!1,!0===t&&this.$emit("close",!0)},submitForm:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;t.formData.approver=t.formData.approverObj.id,t.formData.orgIds=t.formData.ccPersonLists.orgs.map((function(t){return t.id})),t.formData.userIds=t.formData.ccPersonLists.users.map((function(t){return t.id})),t.formData.ccPersonList=t.formData.userIds,Object(s["g"])(t.formData).then((function(){t.$message({message:"提交成功",type:"success"}),t.resetForm(!0)}))}))}}},c=l,u=(a("186c"),a("2877")),p=Object(u["a"])(c,r,n,!1,null,null,null);e["default"]=p.exports},f637:function(t,e,a){"use strict";a("1f4a")},f971:function(t,e,a){"use strict";a("3171")}}]);