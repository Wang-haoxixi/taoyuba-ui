(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25d5d562"],{"18cd":function(t,e,r){"use strict";var n=r("5a03"),a=r.n(n);a.a},"1d3c4":function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return c}),r.d(e,"d",function(){return u}),r.d(e,"e",function(){return l}),r.d(e,"c",function(){return m}),r.d(e,"f",function(){return d});r("ac4d"),r("8a81"),r("ac6a");var n=r("e3c4"),a=Object(n["a"])({name:"dictGroup"});function o(t){var e={},r=!0,n=!1,a=void 0;try{for(var o,i=t[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var c=o.value;e[c.value]=c.label}}catch(s){n=!0,a=s}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}return e}var i={meetingType:o(a.mlms_meeting_type),visitType:o(a.mlms_visit_type)};function c(){return{attachmentIds:[],content:"",emailId:0,materialIds:[],projectIds:[],receiverIds:[],receiverList:{unions:[],orgs:[],users:[]},reportIds:[],status:1,subject:"",summaryIds:[],summaryList:[],tagKeyWords:[],type:2,kind:0}}var s=function(t,e,r){0==e.orgs.length&&0==e.users.length?r(new Error):r()},u={subject:[{required:!0,message:"必填",trigger:"blur"}],receiverList:[{validator:s,message:"必填",trigger:"change"}],content:[{required:!0,message:"必填",trigger:"blur"}]},l={summary:{ids:"summaryIds",list:"summaryList",name:"纪要"},material:{ids:"materialIds",list:"materialList",name:"材料"},aptitude:{ids:"aptitudeIds",list:"aptitudeList",name:"荣誉资质"}};function m(){return{attachmentIds:[],content:"",emailId:0,materialIds:[],projectIds:[],receiverIds:[],receiverList:{unions:[],orgs:[],users:[]},reportIds:[],status:1,subject:"",summaryIds:[],summaryList:[],tagKeyWords:[],type:3,kind:0}}var d={subject:[{required:!0,message:"必填",trigger:"blur"}],receiverIds:[{required:!0,message:"必填",trigger:"blur"}],content:[{required:!0,message:"必填",trigger:"blur"}]}},2762:function(t,e,r){"use strict";r.d(e,"i",function(){return c}),r.d(e,"j",function(){return s}),r.d(e,"k",function(){return u}),r.d(e,"g",function(){return l}),r.d(e,"h",function(){return m}),r.d(e,"a",function(){return d}),r.d(e,"n",function(){return f}),r.d(e,"b",function(){return p}),r.d(e,"c",function(){return h}),r.d(e,"d",function(){return g}),r.d(e,"e",function(){return b}),r.d(e,"f",function(){return v}),r.d(e,"m",function(){return y}),r.d(e,"l",function(){return j});var n=r("b5c6"),a="/ims/email",o="/ims/email_receiver",i="/ims/email_star";function c(t){return Object(n["a"])({url:"".concat(a,"/receiver_page"),method:"get",params:t})}function s(t){return Object(n["a"])({url:"".concat(a,"/send_page"),method:"get",params:t})}function u(t){return Object(n["a"])({url:"".concat(a,"/star_page"),method:"get",params:t})}function l(t){return Object(n["a"])({url:"".concat(a,"/draft_page"),method:"get",params:t})}function m(t){return Object(n["a"])({url:"".concat(a,"/").concat(t),method:"get"})}function d(t){return Object(n["a"])({url:"".concat(a,"/create"),method:"post",data:t})}function f(t){return Object(n["a"])({url:"".concat(a,"/update"),method:"post",data:t})}function p(t){return Object(n["a"])({url:"".concat(a,"/delete/").concat(t),method:"post"})}function h(t){return Object(n["a"])({url:"".concat(a,"/delete"),method:"post",data:t})}function g(t){return Object(n["a"])({url:"".concat(o,"/delete"),method:"post",data:t})}function b(t){return Object(n["a"])({url:"".concat(o,"/delete/").concat(t),method:"post"})}function v(t){return Object(n["a"])({url:"".concat(i,"/sign/").concat(t),method:"post"})}function y(t){return Object(n["a"])({url:"".concat(o,"/is_reade/").concat(t),method:"post"})}function j(t){return Object(n["a"])({url:"".concat(o,"/is_reade"),method:"post",data:t})}},3438:function(t,e,r){"use strict";var n=r("ec16"),a=r.n(n);a.a},"38ef":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("iep-dialog",{attrs:{"dialog-show":t.dialogShow,title:"分享"+t.shareType[this.type].name,width:"50%"},on:{close:t.resetForm}},[r("el-form",{ref:"form",staticStyle:{"margin-right":"20px"},attrs:{model:t.formData,rules:t.shareRules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"主题：",prop:"subject"}},[r("el-input",{attrs:{maxlength:"50"},model:{value:t.formData.subject,callback:function(e){t.$set(t.formData,"subject",e)},expression:"formData.subject"}})],1),r("el-form-item",{attrs:{label:"收件人：",prop:"receiverList"}},[r("iep-contact-multiple",{model:{value:t.formData.receiverList,callback:function(e){t.$set(t.formData,"receiverList",e)},expression:"formData.receiverList"}})],1),r("el-form-item",{attrs:{label:"正文：",prop:"content"}},[r("iep-froala-editor",{model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}})],1),"summary"===t.type?r("el-form-item",{attrs:{label:"已添加纪要："}},t._l(t.formData.summaryList,function(e,n){return r("div",{key:n,staticClass:"item"},[t._v("\n        "+t._s(e.title)),r("i",{staticClass:"el-icon-close"})])}),0):t._e(),"material"===t.type?r("el-form-item",{attrs:{label:"已添加材料："}},t._l(t.formData.materialList,function(e,n){return r("div",{key:n,staticClass:"item"},[t._v("\n        "+t._s(e.name)),r("i",{staticClass:"el-icon-close"})])}),0):t._e()],1),r("template",{slot:"footer"},[r("iep-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("form")}}},[t._v("分享")]),r("iep-button",{on:{click:function(e){return t.resetForm("form")}}},[t._v("取消")])],1)],2)},a=[],o=r("1d3c4"),i=r("2762"),c={components:{},props:{type:{type:String,default:"summary"}},data:function(){return{dictsMap:o["a"],shareRules:o["d"],dialogShow:!1,formRequestFn:function(){},formData:Object(o["b"])(),list:[],shareType:o["e"]}},methods:{open:function(t,e){this.dialogShow=!0,this.formData[o["e"][this.type].list]=t,e&&(this.formData.subject=e)},loadPage:function(){this.$emit("load-page")},submitForm:function(t){var e=this;this.formData[o["e"][this.type].ids]=this.formData[o["e"][this.type].list].map(function(t){return t.id}),this.formData.receiverIds=this.formData.receiverList.users.map(function(t){return t.id}),this.$refs[t].validate(function(t){if(!t)return!1;Object(i["a"])(e.formData).then(function(){e.$message({message:"分享成功",type:"success"}),e.loadPage(),e.dialogShow=!1})})},resetForm:function(){this.formData=Object(o["b"])(),this.dialogShow=!1}}},s=c,u=(r("94e7"),r("0c7c")),l=Object(u["a"])(s,n,a,!1,null,"be7122c6",null);e["default"]=l.exports},"3d0d":function(t,e,r){},"5a03":function(t,e,r){},6837:function(t,e,r){"use strict";r.d(e,"h",function(){return i}),r.d(e,"k",function(){return c}),r.d(e,"i",function(){return s}),r.d(e,"j",function(){return u}),r.d(e,"g",function(){return l}),r.d(e,"d",function(){return m}),r.d(e,"m",function(){return d}),r.d(e,"e",function(){return f}),r.d(e,"c",function(){return p}),r.d(e,"a",function(){return h}),r.d(e,"b",function(){return g}),r.d(e,"l",function(){return b}),r.d(e,"f",function(){return v});var n=r("b5c6"),a="/mlms/meeting",o="/mlms/catalogue";function i(t){return Object(n["a"])({url:"".concat(a,"/page"),method:"get",params:t})}function c(t){return Object(n["a"])({url:"".concat(a,"/page/personal"),method:"get",params:t})}function s(t){return Object(n["a"])({url:"/mlms/meeting/MyInvolved/page",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/mlms/meeting/MyReceived/page",method:"get",params:t})}function l(t){return Object(n["a"])({url:"".concat(a,"/").concat(t),method:"get"})}function m(t){return Object(n["a"])({url:"".concat(a,"/create"),method:"post",data:t})}function d(t){return Object(n["a"])({url:"".concat(a,"/update"),method:"post",data:t})}function f(t){return"number"==typeof t&&(t=[t]),console.log("ids: ",t),Object(n["a"])({url:"".concat(a,"/delete/batch"),method:"post",data:t})}function p(t){return Object(n["a"])({url:"/mlms/farelation/create",method:"post",data:t})}function h(){return Object(n["a"])({url:"".concat(o,"/tree"),method:"get"})}function g(t){return Object(n["a"])({url:"".concat(a,"/copy/").concat(t),method:"get"})}function b(t){return Object(n["a"])({url:"".concat(a,"/send/").concat(t),method:"post"})}function v(t){return Object(n["a"])({url:"".concat(a,"/getCount"),method:"post",data:t})}},"94e7":function(t,e,r){"use strict";var n=r("3d0d"),a=r.n(n);a.a},d5c8:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("iep-dialog",{attrs:{"dialog-show":t.dialogShow,title:"收藏至",width:"40%"},on:{close:t.resetForm}},[r("div",{staticClass:"tree-box"},[r("div",{staticClass:"left box-item"},[0==t.list.length?r("div",{staticStyle:{color:"#999",margin:"10px"}},[t._v("暂无收藏夹，系统将默认创建收藏列表")]):r("ul",{staticClass:"list"},t._l(t.list,function(e,n){return r("li",{key:n,class:n==t.selectIndex?"select":"",on:{click:function(r){return t.selectIndexFn(n,e)}}},[t._v(t._s(e.name))])}),0)]),r("div",{staticClass:"middle"},[r("i",{staticClass:"el-icon-d-arrow-right"})]),r("div",{staticClass:"right box-item"},[t.list[t.selectIndex]?r("ul",{staticClass:"list"},t._l(t.list[t.selectIndex].childrens,function(e,n){return r("li",{key:n,class:e.id==t.selectItem?"select":"",on:{click:function(){t.selectItem=e.id}}},[t._v(t._s(e.name))])}),0):t._e()])]),r("template",{slot:"footer"},[r("iep-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("form")}}},[t._v("确定")]),r("iep-button",{on:{click:t.resetForm}},[t._v("取消")])],1)],2)},a=[],o=(r("7f7f"),r("ac4d"),r("8a81"),r("ac6a"),r("6837")),i={components:{},props:{type:{type:String,defalut:!1},requestFn:{type:Function,default:function(){}}},data:function(){return{selectIndex:0,selectId:-1,selectItem:-1,dialogShow:!1,list:[{childrens:[]}],formData:[]}},methods:{resetForm:function(){this.dialogShow=!1},loadCollectList:function(t){var e=this;this.formData=t,Object(o["a"])().then(function(t){e.list=t.data.data,e.selectIndex=0,e.selectId=e.list[e.selectIndex].id})},submitForm:function(){var t=this,e=[],r=!0,n=!1,a=void 0;try{for(var o,i=this.formData[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var c=o.value,s={name:void 0===c.title?c.name:c.title,type:this.type?this.type:c.type,targetId:c.targetId?c.targetId:c.id,collectionId:-1==this.selectItem?this.selectId:this.selectItem};void 0===this.type&&(s.id=c.id),e.push(s)}}catch(u){n=!0,a=u}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}this.requestFn(e).then(function(){t.$message({message:"收藏成功",type:"success"}),t.$emit("load-page"),t.dialogShow=!1})},selectIndexFn:function(t,e){this.selectId=e.id,this.selectIndex=t,this.selectItem=-1}}},c=i,s=(r("18cd"),r("0c7c")),u=Object(s["a"])(c,n,a,!1,null,"25dcf979",null);e["default"]=u.exports},e44a:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("iep-dialog",{attrs:{"dialog-show":t.dialogShow,title:"材料纠错",width:"50%"},on:{close:t.resetForm}},[r("el-form",{ref:"form",attrs:{model:t.formData,rules:t.wrongRules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"主题："}},[r("el-input",{attrs:{readonly:""},model:{value:t.formData.subject,callback:function(e){t.$set(t.formData,"subject",e)},expression:"formData.subject"}})],1),r("el-form-item",{attrs:{label:"收件人："}},[r("el-input",{attrs:{type:"text",readonly:""},model:{value:t.formData.receiverName,callback:function(e){t.$set(t.formData,"receiverName",e)},expression:"formData.receiverName"}})],1),r("el-form-item",{attrs:{label:"正文：",prop:"content"}},[r("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"请在此输入纠错说明",maxlength:"2000"},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}})],1)],1),r("template",{slot:"footer"},[r("iep-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("form")}}},[t._v(t._s(t.methodName))]),r("iep-button",{on:{click:function(e){return t.resetForm("form")}}},[t._v("取消")])],1)],2)},a=[],o=r("1d3c4"),i=r("2762"),c={props:{type:{type:String,default:"summary"}},data:function(){return{wrongRules:o["f"],dialogShow:!1,formRequestFn:function(){},methodName:"发送",formData:Object(o["c"])(),list:[]}},methods:{open:function(t){this.dialogShow=!0,this.formData=Object.assign({},this.formData,t)},loadPage:function(){this.$emit("load-page")},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;Object(i["a"])(e.formData).then(function(){e.$message({message:"".concat(e.methodName,"成功"),type:"success"}),e.loadPage(),e.dialogShow=!1})})},resetForm:function(){this.formData=Object(o["c"])(),this.dialogShow=!1}}},s=c,u=(r("3438"),r("0c7c")),l=Object(u["a"])(s,n,a,!1,null,"8560cc32",null);e["default"]=l.exports},ec16:function(t,e,r){}}]);