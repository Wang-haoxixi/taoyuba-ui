(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a7a9b450"],{"9be7":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"iep-page-form"},[a("page-header",{attrs:{title:"新建文档",backOption:e.backOption}}),a("el-form",{ref:"form",staticStyle:{"margin-bottom":"50px"},attrs:{model:e.formData,rules:e.rules,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称：",prop:"materialName"}},[a("el-input",{attrs:{maxlength:"50",placeholder:e.tipContent2.materialName},model:{value:e.formData.materialName,callback:function(t){e.$set(e.formData,"materialName",t)},expression:"formData.materialName"}})],1),a("el-form-item",{attrs:{label:"介绍：",prop:"intro"}},[a("el-input",{attrs:{type:"textarea",rows:"5",maxlength:"200",placeholder:"1、材料内容主旨说明，如选取文中重要的段落；\n2、字数控制在200字以内。"},model:{value:e.formData.intro,callback:function(t){e.$set(e.formData,"intro",t)},expression:"formData.intro"}})],1),a("el-form-item",{attrs:{label:"正文：",prop:"content"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n             正文\n              "),a("iep-tip",{attrs:{content:e.tipContent2.content}}),e._v("：\n            ")],1),a("iep-froala-editor",{model:{value:e.formData.content,callback:function(t){e.$set(e.formData,"content",t)},expression:"formData.content"}})],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"分类：",prop:"firstClass"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n             分类\n              "),a("iep-tip",{attrs:{content:e.tipContent2.firstClass}}),e._v("：\n            ")],1),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.firstClassChange},model:{value:e.formData.firstClass,callback:function(t){e.$set(e.formData,"firstClass",t)},expression:"formData.firstClass"}},e._l(e.firstClass,(function(e){return a("el-option",{key:e.id,attrs:{label:e.levelName,value:""+e.id}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"",prop:"secondClass","label-width":"50px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.secondClass,callback:function(t){e.$set(e.formData,"secondClass",t)},expression:"formData.secondClass"}},e._l(e.secondClass,(function(e){return a("el-option",{key:e.id,attrs:{label:e.levelName,value:""+e.id}})})),1)],1)],1)],1),a("el-form-item",{attrs:{label:"类型：",prop:"materialType"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n             类型\n              "),a("iep-tip",{attrs:{content:e.tipContent2.materialType}}),e._v("：\n            ")],1),a("iep-dict-select",{attrs:{"dict-name":"mlms_material_type"},model:{value:e.formData.materialType,callback:function(t){e.$set(e.formData,"materialType",t)},expression:"formData.materialType"}})],1),a("el-form-item",{attrs:{label:"标签：",prop:"tagKeyWords"}},[a("iep-tag",{model:{value:e.formData.tagKeyWords,callback:function(t){e.$set(e.formData,"tagKeyWords",t)},expression:"formData.tagKeyWords"}}),a("div",{staticStyle:{"font-size":"12px",color:"#aaa"}},[e._v(e._s(e.tipContent2.tagKeyWords))])],1),a("el-form-item",{attrs:{label:"是否开放：",prop:"isOpen"}},[a("el-radio-group",{model:{value:e.formData.isOpen,callback:function(t){e.$set(e.formData,"isOpen",t)},expression:"formData.isOpen"}},[1==e.inUnion?a("el-radio",{attrs:{label:3}},[e._v("对联盟开放")]):e._e(),a("el-radio",{attrs:{label:2}},[e._v("对组织开放")]),a("el-radio",{attrs:{label:0}},[e._v("开放")]),a("el-radio",{attrs:{label:1}},[e._v("关闭")])],1)],1),a("el-form-item",{attrs:{label:"是否保密：",prop:"secrecyLevel"}},[a("el-switch",{attrs:{"active-value":e.dictsMap.secrecyLevel[1].value,"inactive-value":e.dictsMap.secrecyLevel[0].value},model:{value:e.formData.secrecyLevel,callback:function(t){e.$set(e.formData,"secrecyLevel",t)},expression:"formData.secrecyLevel"}})],1)],1),a("footer-tool-bar",[a("iep-button",{attrs:{type:"primary",loading:e.loadState},on:{click:function(t){return e.submitForm("form")}}},[e._v("保存")]),a("iep-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1)},n=[],o=(a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("7f7f"),a("6b54"),a("bef3")),l=a("da8d");function i(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=s(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==a.return||a.return()}finally{if(i)throw o}}}}function s(e,t){if(e){if("string"===typeof e)return c(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var u={components:{},props:{firstClass:{type:Array,default:function(){}}},data:function(){var e=this;return{loadState:!1,tipContent2:o["g"],dialogShow:!1,formData:Object(o["b"])(),methodList:{create:{name:"新增",requestFn:l["a"]},update:{name:"编辑",requestFn:l["l"]}},rules:o["d"],secondClass:[],dictsMap:o["a"],backOption:{isBack:!0,backPath:null,backFunction:function(){e.$emit("load-page",!0)}},inUnion:0}},methods:{loadPage:function(){this.$emit("load-page")},resetForm:function(e){this.$refs[e].resetFields(),this.formData=Object(o["b"])(),this.dialogShow=!1},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.loadState=!0,t.formData.type=1,t.methodList[t.methodName].requestFn(t.formData).then((function(e){var a=e.data;if(t.loadState=!1,!1!==a.data){var r="create"==t.methodName?"恭喜您成功上传了一篇材料，继续努力！":"编辑成功";t.$message.success(r),t.loadPage(),t.dialogShow=!1}else t.$message.error(a.msg)}))}))},firstClassChange:function(e){var t,a=i(this.firstClass);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(r.id==e)return void(this.secondClass=r.childrens)}}catch(n){a.e(n)}finally{a.f()}}},created:function(){var e=this;Object(l["j"])().then((function(t){var a=t.data;e.inUnion=a,"create"==e.methodName&&1==a&&(e.formData.isOpen=3)}))}},m=u,d=a("2877"),f=Object(d["a"])(m,r,n,!1,null,null,null);t["default"]=f.exports},bef3:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return s})),a.d(t,"f",(function(){return c})),a.d(t,"g",(function(){return u}));var r={type:{1:"类型1",2:"类型2"},isYes:[{value:0,lable:"否"},{value:1,label:"是"}],isOpen:[{value:0,lable:"开放"},{value:1,label:"关闭"}],secrecyLevel:[{value:0,lable:"不保密"},{value:1,label:"保密"}]},n=[{label:"创建时间",prop:"createTime",width:"250"},{label:"浏览次数",prop:"views",width:"150"}];function o(){return{name:"",materialClsFirstClass:"",materialClsSecondClass:"",materialType:"",format:"",downloadCost:"",creatorRealName:""}}var l=function(){return{uploader:"",type:0,id:"",materialName:"",intro:"",content:"",firstClass:"",secondClass:"",materialType:"",tagKeyWords:[],isContri:0,attachFileList:[],attachFile:"",isOpen:2,secrecyLevel:0}},i=function(e,t,a){t.length<3?a(new Error):a()},s={materialName:[{required:!0,message:"必填",trigger:"blur"}],intro:[{required:!0,message:"必填",trigger:"blur"}],content:[{required:!0,message:"必填",trigger:"blur"}],firstClass:[{required:!0,message:"必填",trigger:"change"}],secondClass:[{required:!0,message:"必填",trigger:"change"}],materialType:[{required:!0,message:"必填",trigger:"change"}],tagKeyWords:[{required:!0,message:"必填",trigger:"change"},{validator:i,message:"请输入至少3个标签",trigger:"change"}],isContri:[{required:!0,message:"必填",trigger:"change"}],downloadCost:[{required:!0,message:"必填",trigger:"change"}],uploader:[{required:!0,message:"必填",trigger:"change"}],isOpen:[{required:!0,message:"必填",trigger:"change"}],secrecyLevel:[{required:!0,message:"必填",trigger:"change"}],attachFileList:[{required:!0,message:"必填",trigger:"change"}]},c={materialName:"日期+项目名称/发文部门（单位）+材料主题+文件阶段标识，例如20190101资产管理与投融资委员会内网国脉贝管理办法v1.0",uploader:"作者为该材料撰写者，系统默认读取上传人为作者，如作者为其他人请做修改",intro:"1、材料内容主旨说明，如选取文中重要的段落；<br/>2、字数控制在200字以内",firstClass:"根据材料主题准确选择分类，确保分类的准确性！",materialType:"根据材料实际性质进行选择，如方案，报告，清单等",downloadCost:"全体或多数国脉人需知晓的公司制度、文件、新生必读、分享培训等材料均不设定下载贝额，其余材料可自行设定，如材料质量与价格不符被纠错/差评/投诉将影响个人信用分。",tagKeyWords:"标签要突出材料主题且按照重要性排序，其中提及的合作项目简称，合作产品，客户简称等必须作为标签；",attachFileList:"附件仅支持DOC、PPT、TXT、PDF、XLS等形式的一个文件，大小限制在200M以内"},u={materialName:"1、文件主题+类型：如浙江省政府数字化转型的几点思考；（名称中切记出现特殊符号）",intro:"1、材料内容主旨说明；<br/>2、字数在50字以上",content:"1、文章字体为默认字体；<br/>2、文章标题标注使用规范：<br/>①一级标题用一、二、三等标注；<br/>②二级标题用（一）、（二）、（三）等标注；<br/>③三级标题用1、2、3等标注；<br/>④四级标题用（1）、（2）、（3）等标注；<br/>",firstClass:"根据材料主题准确选择分类，确保分类的准确性！",materialType:"根据材料实际性质进行选择，如方案，报告，清单等",tagKeyWords:"标签要突出材料主题且按照重要性排序，其中提及的合作项目简称，合作产品，客户简称等必须作为标签；"}},da8d:function(e,t,a){"use strict";a.d(t,"h",(function(){return l})),a.d(t,"f",(function(){return i})),a.d(t,"i",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"l",(function(){return u})),a.d(t,"b",(function(){return m})),a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return f})),a.d(t,"e",(function(){return p})),a.d(t,"g",(function(){return g})),a.d(t,"j",(function(){return b})),a.d(t,"k",(function(){return h}));var r=a("53ca"),n=a("b5c6"),o="/mlms/material";function l(e){return Object(n["a"])({url:"".concat(o,"/page"),method:"get",params:e})}function i(e){return Object(n["a"])({url:"".concat(o,"/page"),method:"get",params:e})}function s(e){return Object(n["a"])({url:"".concat(o,"/page/personal"),method:"get",params:e})}function c(e){return Object(n["a"])({url:"".concat(o,"/create"),method:"post",data:e})}function u(e){return Object(n["a"])({url:"".concat(o,"/update"),method:"post",data:e})}function m(e){var t="object"===Object(r["a"])(e)?e:[e];return Object(n["a"])({url:"".concat(o,"/delete/batch"),method:"post",data:t})}function d(e){return Object(n["a"])({url:"".concat(o,"/").concat(e),method:"get"})}function f(e){return Object(n["a"])({url:"".concat(o,"/getUpload/").concat(e),method:"get"})}function p(e){return Object(n["a"])({url:"".concat(o,"/excellent/list/").concat(e),method:"get"})}function g(e){return Object(n["a"])({url:"".concat(o,"/total/").concat(e),method:"get"})}function b(){return Object(n["a"])({url:"".concat(o,"/get/union"),method:"post"})}function h(e){return Object(n["a"])({url:"".concat(o,"/get/new/version"),method:"post",data:e})}}}]);