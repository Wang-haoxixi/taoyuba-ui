(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16cd8852"],{"266e":function(e,t,n){"use strict";n.d(t,"g",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"h",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"n",function(){return l}),n.d(t,"f",function(){return p}),n.d(t,"m",function(){return d}),n.d(t,"b",function(){return h}),n.d(t,"j",function(){return m}),n.d(t,"c",function(){return g}),n.d(t,"i",function(){return f}),n.d(t,"l",function(){return b}),n.d(t,"k",function(){return w}),n.d(t,"o",function(){return v}),n.d(t,"p",function(){return y});var r=n("b5c6"),a="/tmlms/tybcontract";function o(e){return Object(r["a"])({url:"".concat(a,"/page"),method:"get",params:e})}function i(e){return Object(r["a"])({url:"".concat(a,"/del/").concat(e),method:"post"})}function c(e){return Object(r["a"])({url:"".concat(a,"/shipcrew/").concat(e),method:"get"})}function s(e){return Object(r["a"])({url:"/admin/dict/type/".concat(e),method:"get"})}function u(e){return Object(r["a"])({url:"".concat(a,"/save"),method:"post",data:e})}function l(e){return Object(r["a"])({url:"".concat(a,"/update"),method:"post",data:e})}function p(e){return Object(r["a"])({url:"".concat(a,"/").concat(e),method:"get"})}function d(e){return Object(r["a"])({url:"".concat(a,"/review"),method:"post",params:e})}function h(e){return Object(r["a"])({url:"".concat(a,"/cancel"),method:"post",data:e})}function m(e){return Object(r["a"])({url:"".concat(a,"/checkIdcard"),method:"get",params:{employeeIdcard:e}})}function g(e){return Object(r["a"])({url:"".concat(a,"/complant"),method:"post",params:e})}function f(e){return Object(r["a"])({url:"".concat(a,"/villagePage"),method:"get",params:e})}function b(e){return Object(r["a"])({url:"".concat(a,"/refuse"),method:"post",params:{contractId:e}})}function w(e,t){return Object(r["a"])({url:"".concat(a,"/recall"),method:"post",params:{contractId:e,status:t}})}function v(e,t){return Object(r["a"])({url:"".concat(a,"/updateImage"),method:"post",params:{contractId:e,contractImage:t}})}function y(e,t){return Object(r["a"])({url:"".concat(a,"/createImages"),method:"post",params:{contractId:e,addPhoto:t}})}},"502e":function(e,t,n){"use strict";var r=n("cebc"),a=(n("96cf"),n("3b8d")),o=n("51f4"),i={delete:"删除",shelf:"上架",submit:"提交",cancel:"撤销"};t["a"]={data:function(){return{pagedTable:[],multipleSelection:[],isLoadTable:!0,pagination:this._pageOption(),pageOption:this._pageOption(),searchForm:{}}},methods:{_pageOption:function(){return Object(o["a"])()},searchPage:function(e){this.pageOption=this._pageOption(),this.searchForm=e,this.loadPage(e)},loadTable:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,n){var a,o,i,c,s,u,l,p,d,h=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=h.length>2&&void 0!==h[2]?h[2]:function(e){return e},this.isLoadTable=!0,e.next=4,n(Object(r["a"])({},this.pageOption,t));case 4:return o=e.sent,i=o.data,c=i.data,s=c.records,u=c.size,l=c.total,p=c.current,d=l/u+1===p,d&&0!==l?this.searchPage():this.pagination={current:p,size:u,total:l},this.pagedTable=s.map(a),this.isLoadTable=!1,e.abrupt("return",i.data);case 12:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){this.pageOption.size=e,this.loadPage()},handleCurrentChange:function(e){this.pageOption.current=e,this.loadPage()},_handleGlobalDeleteById:function(e,t){this._handleGlobalById(e,t,"delete")},_handleGlobalDeleteAll:function(e){this._handleGlobalAll(e,"delete")},_handleGlobalById:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"delete",a=i[r];this.$confirm("此操作将".concat(a,"该数据, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t(e).then(function(e){e.data.data?n.$message({type:"success",message:"".concat(a,"成功!")}):n.$message({type:"info",message:"".concat(a,"失败，").concat(e.data.msg)}),n.loadPage()})})},_handleGlobalAll:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n,r,o,c=this,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:"delete",r=this.multipleSelection,o=i[n],void 0!==r&&0!==r.length){e.next=6;break}return this.$message("请先选择需要".concat(o,"的选项")),e.abrupt("return");case 6:this.$confirm("此操作将".concat(o,"这些数据, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(a["a"])(regeneratorRuntime.mark(function e(){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t(r);case 2:n=e.sent,a=n.data,a.data?(c.$message({type:"success",message:"".concat(o,"成功!")}),c.pageOption=c._pageOption()):c.$message({type:"info",message:"".concat(o,"失败，").concat(a.msg)}),c.loadPage();case 6:case"end":return e.stop()}},e)})));case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),_handleComfirm:function(e,t,n,r,o){var i=this;this.$confirm(r||"是否".concat(n),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(a["a"])(regeneratorRuntime.mark(function r(){var a,c;return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t(e);case 2:a=r.sent,c=a.data,c.data?i.$message({type:"success",message:o||"".concat(n,"成功!")}):i.$message({type:"info",message:"".concat(c.msg)}),i.loadPage();case 6:case"end":return r.stop()}},r)}))).catch(function(e){i.$message({type:"info",message:"".concat(e,", 已取消").concat(n)})})},mixinsCellPointerStyle:function(e){var t=e.column;return"index"!==t.type&&"selection"!==t.type&&"操作"!==t.label&&"cursor:pointer"}}}},8003:function(e,t,n){"use strict";n("7f7f"),n("ac6a");var r=n("c533b");t["a"]={data:function(){return{rogionList:[]}},methods:{getRogionList:function(){var e=this;return new Promise(function(t,n){Object(r["h"])(0).then(function(n){var r=n.data;0===r.code&&(e.rogionList=r.data),t()}).catch(function(){n()})})},getProvinceIdName:function(e){var t="";return this.rogionList.forEach(function(n){n.areaCode===e&&(t=n.name)}),t}}}},"8b00":function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"i",function(){return g}),n.d(t,"f",function(){return d}),n.d(t,"g",function(){return f}),n.d(t,"l",function(){return w}),n.d(t,"e",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"h",function(){return s}),n.d(t,"k",function(){return c}),n.d(t,"j",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return p});n("3b2b");var r=n("0e0b"),a=[{prop:"shipName",label:"渔船名"},{prop:"shipNo",label:"渔船编号"},{prop:"shipowner",label:"持证人"},{prop:"shipownerIdcard",label:"持证人身份证"},{prop:"hullLength",label:"船长(m)"}],o=[{prop:"realName",label:"姓名"},{prop:"idcard",label:"身份证号码"},{prop:"phone",label:"联系电话"},{prop:"positionId",label:"现任职位",dictName:"tyb_resume_position",type:"dictGroup"},{prop:"workStatus",label:"用工状态"}],i=[{prop:"realName",label:"姓名"},{prop:"idcard",label:"身份证号码"},{prop:"workStatus",label:"用工状态"},{prop:"phone",label:"手机号码"},{prop:"certName",label:"职务证书"},{prop:"flag",label:"来源"},{prop:"provinceIdName",label:"籍贯"}],c=[{prop:"employeeName",label:"姓名"},{prop:"employeeIdcard",label:"身份证号码"},{prop:"employeePhone",label:"联系电话"},{prop:"employeePosition",label:"职位",dictName:"tyb_resume_position",type:"dictGroup"},{prop:"provinceIdName",label:"籍贯"}],s=[{prop:"shipName",label:"船名号"},{prop:"realname",label:"姓名"}],u=[{prop:"realName",label:"姓名"},{prop:"idcard",label:"身份证"},{prop:"positionId",label:"职位",dictName:"tyb_resume_position",type:"dictGroup"},{prop:"phone",label:"电话"},{prop:"address",label:"地址"}],l=[{prop:"realName",label:"姓名",width:"180"},{prop:"idcard",label:"身份证",width:"230"},{prop:"certNames",label:"职务证书"},{prop:"shipNames",label:"已登记的渔船"},{prop:"leftTime",label:"最近上船时间",width:"210"}],p=[{prop:"realName",label:"姓名"},{prop:"idcard",label:"身份证"},{prop:"shipId",label:"船名"},{prop:"flag",label:"上下船类型"},{prop:"sourceType",label:"来源"},{prop:"leftTime",label:"最近上船时间"}],d=function(){return{activityType:"",address:"",buildDate:"",createTime:"",dualPower:"",engineTotalPower:"",fishType:"",fishingGear:"",grossTonnage:"",hullLength:"",hullMaterial:"",licensesFishingExpireDate:"",licensesInspectionExpireDate:"",licensesNationalExpireDate:"",licensesOwnerExpireDate:"",licensesDateExpire:"",licensesDateIssue:"",licensesFishingNo:"",licensesInspectionNo:"",licensesNationalNo:"",licensesOwnerShip:"",mainEngineModel:"",mainEnginePower:"",mobile:"",mouldedBreadth:"",mouldedDepth:"",netTonnage:"",portRegister:"",shipId:"",shipName:"",shipNo:"",shipShare:"",shipowner:"",shipownerIdcard:"",updateTime:"",userId:"",workMode:"",workMode2:"",zipcode:"",regionId:""}};function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new RegExp("^\\d{0,"+t+"}$");if(0===n)return r.test(e);var a=new RegExp("^\\d{0,"+t+"}\\.\\d{0,"+n+"}$");return r.test(e)||a.test(e)}function m(e,t,n){""===t?n(new Error):h(t,e.length,e.decimal)?n():n(new Error)}var g={regionId:[{required:!0,message:"该选项必填！",trigger:"blur"}],address:[{required:!0,message:"该选项必填！",trigger:"blur"}],createTime:[{required:!0,message:"该选项必填！",trigger:"blur"}],licensesFishingNo:[{required:!0,message:"该选项必填！",trigger:"blur"}],licensesOwnerShip:[{required:!0,message:"该选项必填！",trigger:"blur"}],mobile:[{required:!0,validator:m,trigger:"blur",length:11,decimal:0,message:"请输入正确的手机号码！"}],shipId:[{required:!0,message:"该选项必填！",trigger:"blur"}],shipName:[{required:!0,message:"该选项必填！",trigger:"blur"}],shipNo:[{required:!0,message:"该选项必填！",trigger:"blur"}],shipShare:[{required:!0,message:"该选项必填！",trigger:"change"}],shipowner:[{required:!0,message:"该选项必填！",trigger:"blur"}],shipownerIdcard:[{required:!0,trigger:"blur",max:18,min:18,decimal:0,message:"请输入正确的身份证/企业代码！"}],updateTime:[{required:!0,message:"该选项必填！",trigger:"blur"}]},f=function(){return{shipName:"",shipNo:"",shipowner:"",shipownerIdcard:""}},b=function(){return{shipName:"",shipNo:"",shipowner:"",shipownerIdcard:""}},w=function(e){var t=Object(r["g"])(b(),e);return t.shipName=e.shipName?e.shipName:null,t.shipNo=e.shipNo?e.shipNo:null,t.shipowner=e.shipowner?e.shipowner:null,t.shipownerIdcard=e.shipownerIdcard?e.shipownerIdcard:null,t}},c533b:function(e,t,n){"use strict";n.d(t,"i",function(){return c}),n.d(t,"f",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"c",function(){return p}),n.d(t,"a",function(){return d}),n.d(t,"e",function(){return h}),n.d(t,"j",function(){return m}),n.d(t,"h",function(){return g}),n.d(t,"b",function(){return f});var r=n("b5c6"),a="tmlms/crew",o="admin/region",i="admin/dict";function c(e){return Object(r["a"])({url:"".concat(o,"/getinfo/")+e,method:"get"})}function s(e){return Object(r["a"])({url:"".concat(i,"/type/")+e,method:"get"})}function u(e){return Object(r["a"])({url:"".concat(o,"/area"),method:"get",params:{parentCode:e}})}function l(e){return Object(r["a"])({url:"".concat(a,"/Page"),method:"get",params:e})}function p(e){return Object(r["a"])({url:"".concat(a,"/delete"),method:"post",params:{userId:e}})}function d(e){return Object(r["a"])({url:"".concat(a,"/create"),method:"post",data:e,params:{type:1}})}function h(e){return Object(r["a"])({url:"".concat(a,"/getCrewByUserId"),method:"get",params:{userId:e}})}function m(e){return Object(r["a"])({url:"".concat(a,"/edit"),method:"post",params:{type:1},data:e})}function g(e){return Object(r["a"])({url:"/tybship/tybregion/parent/".concat(e),method:"get"})}function f(e,t,n){return Object(r["a"])({url:"".concat(a,"/upWork?idcard=").concat(t,"&workStatus=").concat(n),method:"post",data:e})}},d2c4:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("basic-container",[n("page-header",{attrs:{title:(e.$route.query.shipName||"")+"渔船船员"}}),n("operation-container",[n("template",{slot:"right"},[n("el-button",{attrs:{size:"small"},on:{click:e.backPage}},[e._v("返回")])],1)],2),n("iep-table",{attrs:{isLoadTable:e.isLoadTable,pagination:e.pagination,columnsMap:e.shipColumnsMap,pagedTable:e.pagedTable,emptyText:e.message,"is-mutiple-selection":""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{prop:"operation",label:"操作",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("operation-wrapper",[n("iep-button",{attrs:{size:"mini"},on:{click:function(n){return e.handleView(t.row.employeeIdcard)}}},[e._v("查看")])],1)]}}])}),n("el-table-column",{attrs:{prop:"particular",label:"详情",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("operation-wrapper",[n("iep-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.handleProtocol(t.row.contractId)}}},[e._v("协议")]),n("iep-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.handleInsure(t.row.employeeIdcard)}}},[e._v("证书")])],1)]}}])})],1)],1)],1)},a=[],o=(n("28a5"),n("ac6a"),n("96cf"),n("3b8d")),i=n("266e"),c=n("502e"),s=n("8b00"),u=n("8003"),l={mixins:[c["a"],u["a"]],data:function(){return{shipColumnsMap:s["k"],searchData:"contactName",message:"此渔船暂无相关网签劳务合同信息"}},created:function(){var e=this;this.getRogionList().then(function(){e.loadPage()}).catch(function(){e.loadPage()})},methods:{handleSelectionChange:function(e){this.multipleSelection=e.map(function(e){return e.id})},handleAdd:function(e){this.$router.push({path:"/hrms_spa/shipCrew_Detial/".concat(e),query:{edit:e}})},handleView:function(e){this.$router.push({name:"detailBoatMan",query:{see:e}})},loadPage:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,n,r=this,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:this.searchForm,t.shipNo=this.$route.params.shipNo,t.status=9,e.next=5,this.loadTable(t,i["i"]);case 5:n=e.sent,console.log("打印表单"),console.log(n.records),n.records.forEach(function(e){e.provinceIdName=r.getProvinceIdName(e.provinceId)}),this.pagedTable=n.records;case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleProtocol:function(e){var t=window.location.href.split("/")[2],n="%7B%7D";this.$openPage("//".concat(t,"/api/tmlms/downLoad/intoContractHtml?contractId=").concat(e,"&dataMap=").concat(n),"url")},handleInsure:function(e){this.$router.push({path:"/hrms_spa/shipCrew_Insure/".concat(e)})},backPage:function(){this.$router.push({path:"/hrms_spa/shipCrew_list"})}}},p=l,d=n("0c7c"),h=Object(d["a"])(p,r,a,!1,null,null,null);t["default"]=h.exports}}]);