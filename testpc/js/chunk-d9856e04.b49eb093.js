(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d9856e04"],{"0a45":function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"c",function(){return i}),r.d(t,"b",function(){return o});r("0e0b");var a=[{prop:"vedioId",label:"视频编号"},{prop:"vedioName",label:"视频标题"}],o=function(){return{vedioName:"",videoDescript:"",videoImg:"",videoSrc:"",videoViewerNum:"",source:""}},i={vedioName:[{required:!0,message:"该选项必填！",trigger:"blur"}],videoDescript:[{required:!0,message:"该选项必填！",trigger:"blur"}],videoImg:[{required:!0,message:"该选项必填！",trigger:"blur"}],videoSrc:[{required:!0,message:"该选项必填！",trigger:"change"}],source:[{required:!0,message:"该选项必填！",trigger:"blur"}]}},2660:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"iep-page-form"},[r("basic-container",[r("page-header",{attrs:{title:e.getTitle,backOption:e.backOption}}),r("el-form",{ref:"form",attrs:{disabled:"view"===e.type,model:e.form,rules:e.rules,"label-width":"150px",size:"small"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"视频标题：",prop:"vedioName"}},[r("el-input",{attrs:{maxlength:"20"},model:{value:e.form.vedioName,callback:function(t){e.$set(e.form,"vedioName",t)},expression:"form.vedioName"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"视频上传路径：",prop:"videoSrc"}},[r("el-input",{attrs:{maxlength:"80"},model:{value:e.form.videoSrc,callback:function(t){e.$set(e.form,"videoSrc",t)},expression:"form.videoSrc"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"视频分类：",prop:"source"}},[r("el-select",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.videoType,function(e){return r("el-option",{key:e.index,attrs:{label:e.label,value:e.value}})}),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"视频来源：",prop:"source"}},[r("el-input",{attrs:{maxlength:"100"},model:{value:e.form.source,callback:function(t){e.$set(e.form,"source",t)},expression:"form.source"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"视频照片：",prop:"videoImg"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/admin/file/upload/avatar","show-file-list":!1,"on-success":e.handleAvatarSuccessFront,headers:e.headers,accept:"image/*"}},[e.form.videoImg?r("img",{staticClass:"avatar",attrs:{src:e.form.videoImg}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"视频简介：",prop:"videoDescript"}},[r("iep-input-area",{model:{value:e.form.videoDescript,callback:function(t){e.$set(e.form,"videoDescript",t)},expression:"form.videoDescript"}})],1)],1)],1),"view"!==e.type?r("el-form-item",{attrs:{label:""}},[r("operation-wrapper",[r("iep-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("保存")])],1)],1):e._e()],1)],1)],1)},o=[],i=r("d965"),n=r("0a45"),s=r("4360"),c={data:function(){var e=this;return{backOption:{isBack:!0,backPath:null,backFunction:function(){e.onGoBack()}},rules:n["c"],form:Object(n["b"])(),init:!1,arr:[],headers:{Authorization:"Bearer "+s["a"].getters.access_token},videoType:[{label:"安全教育",value:1},{label:"课程培训",value:2},{label:"渔业知识",value:3}]}},computed:{type:function(){return this.$route.params.type},videoId:function(){return this.$route.params.id},getTitle:function(){return"在线视频".concat("create"===this.type?"新增":"update"===this.type?"编辑":"")}},created:function(){"create"!==this.type&&this.videoId&&this.getVideoDetail()},methods:{getVideoDetail:function(){var e=this;Object(i["c"])(this.videoId).then(function(t){var r=t.data;0===r.code&&(e.form=r.data)},function(t){e.$message.error(t.message)})},handleSubmit:function(){var e=this;this.$refs.form.validate(function(t){t?"create"===e.type?Object(i["a"])(e.form).then(function(t){var r=t.data;0===r.code&&(e.$message.success("添加成功！"),e.onGoBack())},function(t){e.$message.error(t.message)}):"update"===e.type&&Object(i["e"])(e.form).then(function(t){var r=t.data;0===r.code&&(e.$message.success("修改成功！"),e.onGoBack())},function(t){e.$message.error(t.message)}):e.$message.error("请按规则输入填写表单！")})},onGoBack:function(){this.$router.push({path:"/lessonVideo_spa/video_list"})},handleAvatarSuccessFront:function(e){this.form.videoImg=e.data.url}}},l=c,u=(r("bda1"),r("0c7c")),d=Object(u["a"])(l,a,o,!1,null,null,null);t["default"]=d.exports},7626:function(e,t,r){},bda1:function(e,t,r){"use strict";var a=r("7626"),o=r.n(a);o.a},d965:function(e,t,r){"use strict";r.d(t,"d",function(){return i}),r.d(t,"c",function(){return n}),r.d(t,"a",function(){return s}),r.d(t,"e",function(){return c}),r.d(t,"b",function(){return l});var a=r("b5c6"),o="/tybhrms/tyblessonvideo";function i(e){return Object(a["a"])({url:"".concat(o,"/page"),method:"get",params:e})}function n(e){return Object(a["a"])({url:"".concat(o,"/").concat(e),method:"get"})}function s(e){return Object(a["a"])({url:"".concat(o,"/save"),method:"post",data:e})}function c(e){return Object(a["a"])({url:"".concat(o,"/update"),method:"post",data:e})}function l(e){return Object(a["a"])({url:"".concat(o,"/del/").concat(e),method:"post"})}}}]);