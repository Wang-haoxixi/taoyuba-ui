(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b79ae96"],{"2f9e":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("ac6a"),n("28a5"),n("a481");var r=n("b5c6");function a(t){var e=t.url,n=t.method,a=void 0===n?"post":n,i=t.data,o=void 0===i?{}:i,s=t.title,u=void 0===s?"":s;return new Promise((function(t){return Object(r["a"])({url:e,method:a,headers:{responseType:"arraybuffer"},data:o,responseType:"blob"}).then((function(e){c({title:u,response:e}).then((function(){t()}))}))}))}function c(t){var e=t.title,n=void 0===e?"":e,r=t.response,a=i(r.headers["content-disposition"].replace(/"/g,""));return new Promise((function(t){var e=r.headers,c=new Blob([r.data],{type:e["content-type"]});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(c,n);else{var i=document.createElement("a");i.href=window.URL.createObjectURL(c),i.download=n?"".concat(n,".").concat(a.suffix):a.filename,document.body.appendChild(i),i.style.display="none",i.click()}t()}))}function i(t){var e={},n=t.split(";");return n.forEach((function(t){var n=t.replace(/^\s+|\s+$/g,""),r=n.split("=");r[1]?e[r[0]]=r[1]:e[r[0]]=r[0]})),e.suffix=e.filename.split(".")[1],e}},"448c":function(t,e,n){"use strict";n.d(e,"g",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return l})),n.d(e,"c",(function(){return p})),n.d(e,"a",(function(){return d}));var r=n("b5c6"),a=n("2f9e"),c="/tybship/tybshipinout";function i(t){return Object(r["a"])({url:"".concat(c,"/page?inoutType=1"),method:"get",params:t})}function o(t){return Object(r["a"])({url:"".concat(c,"/page?inoutType=2"),method:"get",params:t})}function s(t){return Object(r["a"])({url:"".concat(c,"/").concat(t),method:"get",params:t})}function u(t,e){return Object(r["a"])({url:"tmlms/crew_cert/shipInout?inoutId=".concat(t,"&shipId=").concat(e),method:"get",params:{inoutId:t,shipId:e}})}function l(t){return Object(r["a"])({url:"tybship/tybshipinoutcrew/getShipCrewByinout/".concat(t),method:"get",params:t})}function p(t){return Object(r["a"])({url:"tybship/tybshipinoutfish/getFishrecord/".concat(t),method:"get",params:t})}function d(t){return Object(a["a"])({url:"tybship/tybshipExcelExport/downShipInout",data:t,title:"进出港记录"})}},"642b":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inout"},[n("basic-container",[n("page-header",{attrs:{title:"出港记录"}}),n("h3",[t._v("基础信息")]),n("ul",[n("li",[t._v("渔船名称："+t._s(t.basicList.shipName))]),n("li",[t._v("出港时间："+t._s(t.basicList.createTime))]),n("li",[t._v("港口名称："+t._s(t.basicList.portName))])]),n("h3",[t._v("船舶适配情况")]),n("ul",{staticClass:"cert-detail"},[n("li",[n("span",[t._v("国籍证："+t._s(t.certList.licensesNationalNo))]),n("span",[t._v("国籍证有效期："+t._s(t.certList.licensesNationalExpireDate))]),n("span",{class:t.certList.Nationalclass},[t._v(t._s(t.certList.Nationalstatus))])]),n("li",[n("span",[t._v("船舶检验证书："+t._s(t.basicList.licensesInspectionNo))]),n("span",[t._v("船舶检验证书有效期："+t._s(t.basicList.licensesInspectionExpireDate))]),n("span",{class:t.basicList.Inspectionclass},[t._v(t._s(t.basicList.Inspectionstatus))])]),n("li",[n("span",[t._v("捕捞许可证："+t._s(t.basicList.licensesFishingNo))]),n("span",[t._v("捕捞许可证有效期："+t._s(t.basicList.licensesFishingExpireDate))]),n("span",{class:t.basicList.Fishingclass},[t._v(t._s(t.basicList.Fishingstatus))])])]),n("h3",[t._v("现有配员情况")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.shipcrewList}},t._l(t.columnsMapDetail,(function(e,r){return n("el-table-column",{key:r,attrs:{prop:e.prop,label:e.label},scopedSlots:t._u([{key:"default",fn:function(r){return["image"===e.type?[r.row[e.prop]?n("img",{attrs:{src:r.row[e.prop],width:"100",height:"80"},on:{click:function(n){return t.openImage(r.row[e.prop])}}}):n("span",[t._v("无相关照片")])]:"position"===e.type?[n("div",[t._v(t._s(t.getMyCret(e,r)))])]:[n("iep-table-detail",{attrs:{value:r.row[e.prop]}})]]}}],null,!0)})})),1)],1)],1)},a=[],c=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),i=n("448c"),o=n("ade36"),s=n("f00d"),u=n("2f62");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={components:{},data:function(){return{columnsMapDetail:s["b"],shipId:"",params:{current:1,size:10},boatMan:"",shipcrewList:[],total:10,cert:{},basicList:[],certList:{},status:{text:"正常",color:"red"}}},created:function(){this.getBasic(),this.getCrewList(),this.getShipDetail(),this.certStandard()},computed:p({},Object(u["c"])(["dictGroup"])),methods:{currentChange:function(t){this.params.current=t,this.getCrewList()},openImage:function(t){window.open(t,"_blank")},getMyCret:function(t,e){return this.$store.getters.dictGroup.tyb_crew_cert_title.map((function(n){e.row[t.prop]==n.value&&(e.row[t.prop]=n.label)})),"0"==e.row.certLevel&&(e.row.certLevel=""),"1"==e.row.certLevel&&(e.row.certLevel="一级"),"2"==e.row.certLevel&&(e.row.certLevel="二级"),"3"==e.row.certLevel&&(e.row.certLevel="三级"),e.row[t.prop]?e.row.certLevel+e.row[t.prop]:"暂无"},getShipDetail:function(){var t=this;Object(o["t"])(this.$route.query.shipId).then((function(e){t.certList=e.data.data;var n=new Date;console.log(n),console.log(n)}))},handleAdd:function(){this.$router.push({path:"/ship_port/detail/create/0"})},certStandard:function(){var t=this;Object(i["b"])(this.$route.params.id).then((function(e){t.lack=e.data.data.lackList,t.cert=e.data.data.tybCrewCertStandardList,t.cert=t.cert.map((function(e){return t.$store.getters.dictGroup.tyb_crew_cert_title.map((function(t){e.certTitle==t.value&&(e.certTitle=t.label)})),"0"==e.certLevel&&(e.certLevel=""),"1"==e.certLevel&&(e.certLevel="一级"),"2"==e.certLevel&&(e.certLevel="二级"),"3"==e.certLevel&&(e.certLevel="三级"),e}))}))},getCrewList:function(){var t=this;Object(i["e"])(this.$route.params.id).then((function(e){t.shipcrewList=e.data.data}))},getBasic:function(){var t=this;Object(i["d"])(this.$route.params.id).then((function(e){t.basicList=e.data.data;var n=new Date;console.log("看看吧"),console.log(t.basicList.licensesOwnerExpireDate),t.basicList.licensesNationalExpireDate<n||!t.basicList.licensesNationalExpireDate?(t.basicList.Nationalclass="过期",t.basicList.Nationalclass="status-bg-red"):(t.basicList.Nationalclass="正常",t.basicList.Nationalclass="status-bg-green"),t.basicList.licensesInspectionExpireDate<n||!t.basicList.licensesInspectionExpireDate?(t.basicList.Inspectionstatus="过期",t.basicList.Inspectionclass="status-bg-red"):(t.basicList.Inspectionstatus="正常",t.basicList.Inspectionclass="status-bg-green"),t.basicList.licensesFishingExpireDate<n||!t.basicList.licensesFishingExpireDate?(t.basicList.Fishingstatus="过期",t.basicList.Fishingclass="status-bg-red"):(t.basicList.Fishingstatus="正常",t.basicList.Fishingclass="status-bg-green"),t.shipId=t.basicList.shipId}))}}},b=d,f=(n("c1ea"),n("2877")),m=Object(f["a"])(b,r,a,!1,null,"7ac9b77c",null);e["default"]=m.exports},8146:function(t,e,n){},"84df":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("c1df"),a=n.n(r),c=function(){return a()().format("YYYY-MM-DD HH:mm:ss")}},ade36:function(t,e,n){"use strict";n.d(e,"w",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"r",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"t",(function(){return l})),n.d(e,"v",(function(){return p})),n.d(e,"h",(function(){return d})),n.d(e,"J",(function(){return b})),n.d(e,"i",(function(){return f})),n.d(e,"s",(function(){return m})),n.d(e,"x",(function(){return h})),n.d(e,"y",(function(){return g})),n.d(e,"o",(function(){return y})),n.d(e,"u",(function(){return v})),n.d(e,"z",(function(){return w})),n.d(e,"k",(function(){return O})),n.d(e,"m",(function(){return j})),n.d(e,"l",(function(){return L})),n.d(e,"n",(function(){return _})),n.d(e,"j",(function(){return N})),n.d(e,"G",(function(){return I})),n.d(e,"H",(function(){return x})),n.d(e,"b",(function(){return E})),n.d(e,"D",(function(){return D})),n.d(e,"I",(function(){return S})),n.d(e,"C",(function(){return C})),n.d(e,"q",(function(){return P})),n.d(e,"A",(function(){return B})),n.d(e,"c",(function(){return k})),n.d(e,"B",(function(){return R})),n.d(e,"f",(function(){return T})),n.d(e,"g",(function(){return F})),n.d(e,"E",(function(){return $})),n.d(e,"a",(function(){return M})),n.d(e,"K",(function(){return G})),n.d(e,"p",(function(){return U})),n.d(e,"F",(function(){return Y}));var r=n("b5c6"),a=n("2f9e"),c="/tybship/tybship";function i(t){return Object(r["a"])({url:"".concat(c,"/otherpage"),method:"get",params:t})}function o(t,e){return Object(r["a"])({url:"".concat(c,"/updateVillage?shipId=").concat(t,"&&villageId=").concat(e),method:"post"})}function s(){return Object(r["a"])({url:"/admin/org/page",method:"get"})}function u(t,e){return Object(r["a"])({url:"".concat(c,"/updateOrgId?shipId=").concat(t,"&&orgId=").concat(e),method:"post"})}function l(t){return Object(r["a"])({url:"".concat(c,"/").concat(t),method:"get",params:t})}function p(t){return Object(r["a"])({url:"".concat(c,"/").concat(t),method:"get"})}function d(t){return Object(r["a"])({url:"".concat(c,"/save"),method:"post",data:t})}function b(t){return Object(r["a"])({url:"".concat(c,"/update"),method:"post",data:t})}function f(t){return Object(r["a"])({url:"".concat(c,"/del/").concat(t),method:"post"})}function m(t){return Object(r["a"])({url:"".concat(c,"/mypage"),method:"get",params:t})}function h(t){return Object(r["a"])({url:"".concat(c,"/findship/").concat(t),method:"get"})}function g(t){return Object(r["a"])({url:"".concat(c,"/findshipWithOutOrg/").concat(t),method:"get"})}function y(t){return Object(r["a"])({url:"".concat(c,"/findmyship/").concat(t),method:"get"})}function v(t){return Object(r["a"])({url:"".concat(c,"/searchByshipNo"),method:"get",params:{shipNo:t}})}function w(t){return Object(r["a"])({url:"".concat(c,"/newpage"),method:"get",params:t})}function O(t){return Object(a["a"])({url:"tybship/tybshipExcelExport/downShipInfo",data:t,title:"渔船信息"})}function j(t){return Object(a["a"])({url:"tmlms/tybmlmsExcelExport/downShipCrew",data:t,title:"开航登记表-"+t.shipName})}function L(t){return Object(a["a"])({url:"tmlms/tybmlmsExcelExport/downShipCrewRecord",data:t,title:"实名登记备案表-"+t.shipName})}function _(t){return Object(a["a"])({url:"tmlms/tybmlmsExcelExport/downShipCrewTwoOld ",data:t,title:"船员登记表-"+t.shipName})}function N(t){return Object(a["a"])({url:"tmlms/tybmlmsExcelExport/downContractModel",data:t,title:t.shipName})}function I(t){return Object(r["a"])({url:"tmlms/tyb_order/page",method:"get",params:t})}function x(t){return Object(r["a"])({url:"tmlms/tyb_order/getById",method:"get",params:t})}function E(t){return Object(r["a"])({url:"tmlms/tyb_order/agree",method:"post",data:t})}function D(t){return Object(r["a"])({url:"tmlms/tyb_order/reject",method:"post",data:t})}function S(t){return Object(r["a"])({url:"/tmlms/tybPortRecord/page",method:"get",params:t})}function C(t){return Object(r["a"])({url:"/tmlms/tybPortRecord/lastRecord",method:"get",params:t})}function P(t){return Object(r["a"])({url:"/tmlms/tybPortRecord/getCrewByRecordId",method:"get",params:t})}function B(t){return Object(r["a"])({url:"/tybship/tybship/info/".concat(t),method:"get"})}function k(t){return Object(r["a"])({url:"/tmlms/crew_cert/certStandard/".concat(t),method:"get"})}function R(t){return Object(r["a"])({url:"/tmlms/investigationReport/pageByShipName?shipName=".concat(t),method:"get"})}function T(t){return Object(r["a"])({url:"/tmlms/crew/countContractByShipId?shipId=".concat(t),method:"get"})}function F(t){return Object(r["a"])({url:"/tmlms/tybPortRecord/page",method:"get",params:t})}function $(t){return Object(r["a"])({url:"/tmlms/tybTroubleshootReport/pageByShipNo",method:"get",params:t})}function M(t){return Object(r["a"])({url:"/tmlms/tyb_order/pageByShipName",method:"get",params:t})}function G(t){return Object(r["a"])({url:"/tmlms/verification/page",method:"get",params:t})}function U(t){return console.log(t),Object(r["a"])({url:"/tmlms/tyb_order/getById?id=".concat(t.id),method:"get"})}function Y(t){return Object(r["a"])({url:"/tmlms/tybmlmsExcelExport/downVerification",method:"post",headers:{"Content-Type":"application/json"},responseType:"arraybuffer",data:t}).then((function(t){var e=new Blob([t.data],{type:"application/vnd.ms-excel"}),n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.download="实船鉴证.xls",n.click()}))}},c1ea:function(t,e,n){"use strict";n("8146")},f00d:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return s}));n("3b2b");var r=n("0e0b"),a=(n("84df"),[{prop:"shipName",label:"渔船名"},{prop:"createTime",label:"出港时间"},{prop:"portName",label:"港口"},{prop:"seaworthStatus",label:"船舶适航",type:"shipStatus"}]),c=[{prop:"realName",label:"姓名"},{prop:"idcard",label:"身份证号"},{prop:"idcardPhoto",label:"身份证正面照",type:"image"},{prop:"facePhoto",label:"人脸照",type:"image"},{prop:"certPhoto",label:"证书照",type:"image"},{prop:"certTitle",label:"职务",type:"position"}];var i=function(){return{shipName:"",realName:"",idcard:"",startDate:"",endDate:""}},o=function(){return{contactName:"",positionName:""}},s=function(t){var e=Object(r["g"])(o(),t);return e.contactName=t.contactName?t.contactName:null,e.positionName=t.positionName?t.positionName:null,e}}}]);