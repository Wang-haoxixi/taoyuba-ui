(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37556820"],{"0ccf":function(t,e,a){"use strict";var s=a("1513"),i=a.n(s);i.a},1513:function(t,e,a){},"1e51":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("basic-container",[a("el-card",{staticClass:"top-card",attrs:{"body-style":t.bodyStyle,shadow:"hover"}},[a("div",{staticClass:"avatar-wrapper"},[a("iep-img-avatar",{attrs:{size:90,src:t.form.avatar,alt:"头像"}})],1),a("div",{staticClass:"info"},[a("div",{staticClass:"info-item"},[a("label",[t._v("申请人：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.name))])]),a("div",{staticClass:"info-item"},[a("label",[t._v("所属部门：")]),a("div",{staticClass:"content"},[a("iep-tag-detail",{attrs:{value:t.form.deptList}})],1)]),a("div",{staticClass:"info-item"},[a("label",[t._v("创建时间：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.createTime))])]),a("div",{staticClass:"info-item"},[a("label",[t._v(t._s(t.startTimeLabel)+"：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.startTime))])]),a("div",{staticClass:"info-item"},[a("label",[t._v(t._s(t.endTimeLabel)+"：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.endTime))])]),a("div",{staticClass:"info-item"},[a("label",[t._v("职务：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.job))])]),a("div",{staticClass:"info-item"},[a("label",[t._v("职称：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.title))])])])]),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("申请理由")])]),a("pre",[t._v("        "+t._s(t.form.reason)+"\n      ")])]),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("附件")])]),t.form.attachFile.length?a("pre",[t._v("        "),a("iep-download",{attrs:{value:t.form.attachFile}}),t._v("\n      ")],1):a("iep-no-data")],1),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("申请流程")])]),t.form.processList.length?a("el-timeline",t._l(t.form.processList,function(e){return a("el-timeline-item",{key:e.id,attrs:{timestamp:e.time,placement:"top"}},[a("el-card",[a("h4",[t._v(t._s(e.username)+" "+t._s(e.status))]),e.msg.length?a("p",[t._v("审批意见："+t._s(e.msg))]):t._e()])],1)}),1):a("iep-no-data")],1),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("抄送人")])]),a("iep-tag-detail",{attrs:{value:t.form.ccList.map(function(t){return t.name})}})],1),t.needApproval?a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("操作")])]),a("operation-wrapper",[a("iep-button",{attrs:{type:"warning",plain:""},on:{click:function(e){return t.handleReview()}}},[t._v("审核")]),a("iep-button",{on:{click:function(e){return t.handleDeliver()}}},[t._v("转交")])],1)],1):t._e()],1),a("iep-review-confirm",{ref:"iepReviewForm",on:{"load-page":t.loadPage}}),a("deliver-dialog",{ref:"DeliverDialog",on:{"load-page":t.loadPage}})],1)},i=[],r=a("87a5"),n=a("c4f2"),l={mixins:[r["a"]],data:function(){return{}},methods:{loadSelf:function(){var t=this;this.fnSelf().then(function(e){var a=e.data;t.form=t.selfToVo(a.data),t.form.startTime=Object(n["c"])()})}}},o=l,c=(a("478e"),a("0c7c")),d=Object(c["a"])(o,s,i,!1,null,"1a671352",null);e["default"]=d.exports},"1fc7":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("basic-container",[a("el-card",{staticClass:"top-card",attrs:{"body-style":t.bodyStyle,shadow:"hover"}},[a("div",{staticClass:"avatar-wrapper"},[a("iep-img-avatar",{attrs:{size:90,src:t.form.avatar,alt:"头像"}})],1),a("div",{staticClass:"info"},[a("div",{staticClass:"info-item"},[a("label",[t._v("申请人：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.name))])]),a("div",{staticClass:"info-item"},[a("label",[t._v("所属部门：")]),a("div",{staticClass:"content"},[a("iep-tag-detail",{attrs:{value:t.form.deptList}})],1)]),a("div",{staticClass:"info-item"},[a("label",[t._v("创建时间：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.createTime))])]),a("div",{staticClass:"info-item"},[a("label",[t._v(t._s(t.startTimeLabel)+"：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.startTime))])]),a("div",{staticClass:"info-item"},[a("label",[t._v(t._s(t.endTimeLabel)+"：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.endTime))])]),a("div",{staticClass:"info-item"},[a("label",[t._v("职务：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.job))])]),a("div",{staticClass:"info-item"},[a("label",[t._v("职称：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.title))])])])]),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("申请理由")])]),a("pre",[t._v("        "+t._s(t.form.reason)+"\n      ")])]),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("附件")])]),t.form.attachFile.length?a("pre",[t._v("        "),a("iep-download",{attrs:{value:t.form.attachFile}}),t._v("\n      ")],1):a("iep-no-data")],1),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("申请流程")])]),t.form.processList.length?a("el-timeline",t._l(t.form.processList,function(e){return a("el-timeline-item",{key:e.id,attrs:{timestamp:e.time,placement:"top"}},[a("el-card",[a("h4",[t._v(t._s(e.username)+" "+t._s(e.status))]),e.msg.length?a("p",[t._v("审批意见："+t._s(e.msg))]):t._e()])],1)}),1):a("iep-no-data")],1),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("抄送人")])]),a("iep-tag-detail",{attrs:{value:t.form.ccList.map(function(t){return t.name})}})],1),t.needApproval?a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("操作")])]),a("operation-wrapper",[a("iep-button",{attrs:{type:"warning",plain:""},on:{click:function(e){return t.handleReview()}}},[t._v("审核")]),a("iep-button",{on:{click:function(e){return t.handleDeliver()}}},[t._v("转交")])],1)],1):t._e()],1),a("iep-review-confirm",{ref:"iepReviewForm",on:{"load-page":t.loadPage}}),a("deliver-dialog",{ref:"DeliverDialog",on:{"load-page":t.loadPage}})],1)},i=[],r=a("87a5"),n=a("c4f2"),l={mixins:[r["a"]],data:function(){return{}},methods:{loadSelf:function(){var t=this;this.fnSelf().then(function(e){var a=e.data;t.form=t.selfToVo(a.data),t.form.startTime=Object(n["c"])()})}}},o=l,c=(a("f850"),a("0c7c")),d=Object(c["a"])(o,s,i,!1,null,"4ad0eafa",null);e["default"]=d.exports},"23fd":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("basic-container",[a("el-card",{staticClass:"top-card",attrs:{"body-style":t.bodyStyle,shadow:"hover"}},[a("div",{staticClass:"avatar-wrapper"},[a("iep-img-avatar",{attrs:{size:90,src:t.form.avatar,alt:"头像"}})],1),a("div",{staticClass:"info"},[a("div",{staticClass:"info-item"},[a("label",[t._v("申请人：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.name))])]),a("div",{staticClass:"info-item"},[a("label",[t._v("所属部门：")]),a("div",{staticClass:"content"},[a("iep-tag-detail",{attrs:{value:t.form.deptList}})],1)]),a("div",{staticClass:"info-item"},[a("label",[t._v("创建时间：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.createTime))])]),a("div",{staticClass:"info-item"},[a("label",[t._v(t._s(t.startTimeLabel)+"：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.startTime))])]),a("div",{staticClass:"info-item"},[a("label",[t._v(t._s(t.endTimeLabel)+"：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.endTime))])]),a("div",{staticClass:"info-item"},[a("label",[t._v("职务：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.job))])]),a("div",{staticClass:"info-item"},[a("label",[t._v("职称：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.title))])])])]),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("申请理由")])]),a("pre",[t._v("        "+t._s(t.form.reason)+"\n      ")])]),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("附件")])]),t.form.attachFile.length?a("pre",[t._v("        "),a("iep-download",{attrs:{value:t.form.attachFile}}),t._v("\n      ")],1):a("iep-no-data")],1),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("申请流程")])]),t.form.processList.length?a("el-timeline",t._l(t.form.processList,function(e){return a("el-timeline-item",{key:e.id,attrs:{timestamp:e.time,placement:"top"}},[a("el-card",[a("h4",[t._v(t._s(e.username)+" "+t._s(e.status))]),e.msg.length?a("p",[t._v("审批意见："+t._s(e.msg))]):t._e()])],1)}),1):a("iep-no-data")],1),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("抄送人")])]),a("iep-tag-detail",{attrs:{value:t.form.ccList.map(function(t){return t.name})}})],1),t.needApproval?a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("操作")])]),a("operation-wrapper",[a("iep-button",{attrs:{type:"warning",plain:""},on:{click:function(e){return t.handleReview()}}},[t._v("审核")]),a("iep-button",{on:{click:function(e){return t.handleDeliver()}}},[t._v("转交")])],1)],1):t._e()],1),a("iep-review-confirm",{ref:"iepReviewForm",on:{"load-page":t.loadPage}}),a("deliver-dialog",{ref:"DeliverDialog",on:{"load-page":t.loadPage}})],1)},i=[],r=a("87a5"),n=a("c4f2"),l={mixins:[r["a"]],data:function(){return{}},methods:{loadSelf:function(){var t=this;this.fnSelf().then(function(e){var a=e.data;t.form=t.selfToVo(a.data),t.form.startTime=Object(n["c"])()})}}},o=l,c=(a("d8c1"),a("0c7c")),d=Object(c["a"])(o,s,i,!1,null,"fb2cfe58",null);e["default"]=d.exports},"3ad8":function(t,e,a){},"478e":function(t,e,a){"use strict";var s=a("b86a"),i=a.n(s);i.a},"5efd":function(t,e,a){"use strict";a.d(e,"g",function(){return l}),a.d(e,"d",function(){return o}),a.d(e,"h",function(){return c}),a.d(e,"f",function(){return d}),a.d(e,"e",function(){return f}),a.d(e,"i",function(){return u}),a.d(e,"j",function(){return m}),a.d(e,"b",function(){return v}),a.d(e,"l",function(){return p}),a.d(e,"a",function(){return h}),a.d(e,"k",function(){return _}),a.d(e,"c",function(){return b});var s=a("cebc"),i=a("b5c6"),r="/hrms/administrative_approval";function n(t,e){return Object(i["a"])({url:"".concat(r,"/page"),method:"get",params:Object(s["a"])({},t,{activeIndex:e})})}function l(t){return n(t,1)}function o(t){return n(t,2)}function c(t){return n(t,3)}function d(t){return n(t,4)}function f(t){return Object(i["a"])({url:"".concat(r,"/").concat(t),method:"get"})}function u(t){return Object(i["a"])({url:"".concat(r,"/create"),method:"post",data:t})}function m(t){return Object(i["a"])({url:"".concat(r,"/update"),method:"post",data:t})}function v(t){return Object(i["a"])({url:"".concat(r,"/delete/batch"),method:"post",data:[t]})}function p(t){return Object(i["a"])({url:"".concat(r,"/submit/batch"),method:"post",data:[t]})}function h(t){return Object(i["a"])({url:"".concat(r,"/cancel/batch"),method:"post",data:[t]})}function _(t){return Object(i["a"])({url:"".concat(r,"/status/batch"),method:"post",data:t})}function b(t){return Object(i["a"])({url:"".concat(r,"/deliver/batch"),method:"post",data:t})}},"700d":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("basic-container",[a("el-card",{staticClass:"top-card",attrs:{"body-style":t.bodyStyle,shadow:"hover"}},[a("div",{staticClass:"avatar-wrapper"},[a("iep-img-avatar",{attrs:{size:90,src:t.form.avatar,alt:"头像"}})],1),a("div",{staticClass:"info"},[a("div",{staticClass:"info-item"},[a("label",[t._v("申请人：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.name))])]),a("div",{staticClass:"info-item"},[a("label",[t._v("所属部门：")]),a("div",{staticClass:"content"},[a("iep-tag-detail",{attrs:{value:t.form.deptList}})],1)]),a("div",{staticClass:"info-item"},[a("label",[t._v("创建时间：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.createTime))])]),a("div",{staticClass:"info-item"},[a("label",[t._v(t._s(t.startTimeLabel)+"：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.startTime))])]),a("div",{staticClass:"info-item"},[a("label",[t._v(t._s(t.endTimeLabel)+"：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.endTime))])]),a("div",{staticClass:"info-item"},[a("label",[t._v("请假类型：")]),a("div",{staticClass:"content"},[a("iep-dict-detail",{attrs:{"dict-name":"hrms_applic_type",value:t.form.type+""}}),t._v("/\n            "),a("iep-dict-detail",{attrs:{"dict-name":"hrms_levae_type",value:t.form.levaeType}})],1)]),a("div",{staticClass:"info-item"},[a("label",[t._v("查看加班：")]),a("div",{staticClass:"content"},[a("el-button",{attrs:{type:"text"},on:{click:t.handleOverTimeList}},[t._v("查看加班详细")])],1)])])]),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("申请理由")])]),a("pre",[t._v("        "+t._s(t.form.reason)+"\n      ")])]),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("附件")])]),t.form.attachFile.length?a("pre",[t._v("        "),a("iep-download",{attrs:{value:t.form.attachFile}}),t._v("\n      ")],1):a("iep-no-data")],1),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("申请流程")])]),t.form.processList.length?a("el-timeline",t._l(t.form.processList,function(e){return a("el-timeline-item",{key:e.id,attrs:{timestamp:e.time,placement:"top"}},[a("el-card",[a("h4",[t._v(t._s(e.username)+" "+t._s(e.status))]),e.msg.length?a("p",[t._v("审批意见："+t._s(e.msg))]):t._e()])],1)}),1):a("iep-no-data")],1),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("抄送人")])]),a("iep-tag-detail",{attrs:{value:t.form.ccList.map(function(t){return t.name})}})],1),t.needApproval?a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("操作")])]),a("operation-wrapper",[a("iep-button",{attrs:{type:"warning",plain:""},on:{click:function(e){return t.handleReview()}}},[t._v("审核")]),a("iep-button",{on:{click:function(e){return t.handleDeliver()}}},[t._v("转交")])],1)],1):t._e()],1),a("iep-review-confirm",{ref:"iepReviewForm",on:{"load-page":t.loadPage}}),a("deliver-dialog",{ref:"DeliverDialog",on:{"load-page":t.loadPage}}),a("overtime-list-dialog",{ref:"OvertimeListDialog"})],1)},i=[],r=a("87a5"),n=a("c4f2"),l=a("c28a"),o={components:{OvertimeListDialog:l["default"]},mixins:[r["a"]],data:function(){return{}},methods:{loadSelf:function(){var t=this;this.fnSelf().then(function(e){var a=e.data;t.form=t.selfToVo(a.data),t.form.startTime=Object(n["c"])()})},handleOverTimeList:function(){this.$refs["OvertimeListDialog"].userId=this.form.userId,this.$refs["OvertimeListDialog"].load(),this.$refs["OvertimeListDialog"].dialogShow=!0}}},c=o,d=(a("0ccf"),a("0c7c")),f=Object(d["a"])(c,s,i,!1,null,"23919438",null);e["default"]=f.exports},"84df":function(t,e,a){"use strict";a.d(e,"a",function(){return r});var s=a("c1df"),i=a.n(s),r=function(){return i()().format("YYYY-MM-DD HH:mm:ss")}},"86fc":function(t,e,a){},"87a5":function(t,e,a){"use strict";a("c5f6"),a("6762"),a("2fdb");var s=a("75fc"),i=a("cebc"),r=a("2f62"),n=a("c4f2"),l=a("afc4"),o=a("5efd"),c=a("cf92");e["a"]={components:{DeliverDialog:c["default"]},props:{type:{type:String,default:"1"},form:{type:Object,default:function(){}}},data:function(){return{fnSelf:l["c"],bodyStyle:{display:"flex",padding:"20px"},middleBodyStyle:{padding:"20px",border:0}}},computed:Object(i["a"])({},Object(r["c"])(["userInfo"]),{id:function(){return+this.$route.params.id},filterUserList:function(){return[this.userInfo.userId].concat(Object(s["a"])(this.form.cc.map(function(t){return t.id})),Object(s["a"])(this.form.approver.map(function(t){return t.id})))},startTimeLabel:function(){return n["a"].startTime[this.form.type]},endTimeLabel:function(){return n["a"].endTime[this.form.type]},approvalUserIds:function(){return this.form.approverList.map(function(t){return t.id})},needApproval:function(){return this.approvalUserIds.includes(this.userInfo.userId)&&0===this.form.status}}),methods:{loadPage:function(){this.$emit("load-page")},dealTime:function(t,e){function a(t){return new Date(t)}var s=a(t),i=a(e),r=(Number(i)-Number(s))/1e3;if(r<0)this.$message.error("开始时间不能大于结束时间！！！");else{var n=parseInt(r/3600),l=parseInt((r-3600*n)/60);this.form.duration=n+"小时"+l+"分钟"}},startChange:function(t){this.form.startTime=t,this.dealTime(t,this.form.endTime)},endChange:function(t){this.form.endTime=t,this.dealTime(this.form.startTime,t)},handleReview:function(){this.$refs["iepReviewForm"].title="审核",this.$refs["iepReviewForm"].id=this.form.id,this.$refs["iepReviewForm"].formRequestFn=o["k"],this.$refs["iepReviewForm"].dialogShow=!0},handleDeliver:function(){this.$refs["DeliverDialog"].form.ids=[this.form.id],this.$refs["DeliverDialog"].userId=this.form.userId,this.$refs["DeliverDialog"].formRequestFn=o["c"],this.$refs["DeliverDialog"].dialogShow=!0}}}},"8d6a":function(t,e,a){"use strict";a.d(e,"b",function(){return i}),a.d(e,"a",function(){return r}),a.d(e,"d",function(){return n}),a.d(e,"c",function(){return l}),a.d(e,"e",function(){return c});var s=a("0e0b"),i={status:{0:"待审核",1:"审核通过",2:"审核不通过"}},r=[{prop:"applyType",label:"申请类型"},{prop:"applyStartTime",label:"发起时间"}],n=function(){return{name:"",isOpen:!1,intro:""}},l=function(){return{ids:[],user:{id:null,name:null}}},o=function(){return{ids:[],userId:null}},c=function(t){var e=Object(s["g"])(o(),t);return e.userId=t.user.id,e}},"8f97":function(t,e,a){"use strict";var s=a("3ad8"),i=a.n(s);i.a},"972f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-wrapper"},[a("basic-container",[a("page-header",{attrs:{title:t.currentName+"单",backOption:t.backOption}}),a(t.currentLabel,{tag:"component",attrs:{type:t.applicType,form:t.form},on:{"load-page":t.loadPage}})],1)],1)},i=[],r=(a("7514"),a("cebc")),n=a("2f62"),l=a("1e51"),o=a("700d"),c=a("e4f2"),d=a("23fd"),f=a("1fc7"),u=a("b7db"),m=a("c8f9"),v=a("c4f2"),p={"转正申请":"Positive","请假申请":"Leaving","调岗申请":"Transfer","离职申请":"Leave","加班申请":"Overtime","出差申请":"BusinessTrip"},h={components:{Positive:l["default"],Leaving:o["default"],Transfer:c["default"],Leave:d["default"],Overtime:f["default"],BusinessTrip:u["default"]},data:function(){return{backOption:{isBack:!0},form:Object(v["b"])()}},computed:Object(r["a"])({},Object(n["c"])(["dictGroup"]),{id:function(){return+this.$route.params.id},currentName:function(){var t=this;return this.dictGroup["hrms_applic_type"].find(function(e){return e.value===t.applicType}).label},currentLabel:function(){return p[this.currentName]},applicType:function(){return this.form.type+""}}),created:function(){this.loadPage()},methods:{loadPage:function(){var t=this;Object(m["a"])(this.id).then(function(e){var a=e.data;t.form=a.data})}}},_=h,b=a("0c7c"),y=Object(b["a"])(_,s,i,!1,null,null,null);e["default"]=y.exports},afc4:function(t,e,a){"use strict";a.d(e,"b",function(){return r}),a.d(e,"a",function(){return n}),a.d(e,"c",function(){return l}),a.d(e,"i",function(){return o}),a.d(e,"d",function(){return c}),a.d(e,"f",function(){return d}),a.d(e,"g",function(){return f}),a.d(e,"e",function(){return u}),a.d(e,"h",function(){return m});var s=a("b5c6"),i="/hrms/employee_profile";function r(t){return Object(s["a"])({url:"".concat(i,"/page"),method:"get",params:t})}function n(t){return Object(s["a"])({url:"".concat(i,"/").concat(t),method:"get"})}function l(){return Object(s["a"])({url:"".concat(i,"/self"),method:"get"})}function o(t){return Object(s["a"])({url:"".concat(i,"/update"),method:"post",data:t})}function c(t){return Object(s["a"])({url:"".concat(i,"/growth_file/").concat(t),method:"get"})}function d(t){return Object(s["a"])({url:"".concat(i,"/induction"),method:"post",data:t})}function f(t){return Object(s["a"])({url:"".concat(i,"/positive"),method:"post",data:t})}function u(t){return Object(s["a"])({url:"".concat(i,"/departure"),method:"post",data:t})}function m(t){return Object(s["a"])({url:"".concat(i,"/transfer"),method:"post",data:t})}},b7db:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("basic-container",[a("el-card",{staticClass:"top-card",attrs:{"body-style":t.bodyStyle,shadow:"hover"}},[a("div",{staticClass:"avatar-wrapper"},[a("iep-img-avatar",{attrs:{size:90,src:t.form.avatar,alt:"头像"}})],1),a("div",{staticClass:"info"},[a("div",{staticClass:"info-item"},[a("label",[t._v("申请人：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.name))])]),a("div",{staticClass:"info-item"},[a("label",[t._v("所属部门：")]),a("div",{staticClass:"content"},[a("iep-tag-detail",{attrs:{value:t.form.deptList}})],1)]),a("div",{staticClass:"info-item"},[a("label",[t._v("创建时间：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.createTime))])]),a("div",{staticClass:"info-item"},[a("label",[t._v(t._s(t.startTimeLabel)+"：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.startTime))])]),a("div",{staticClass:"info-item"},[a("label",[t._v(t._s(t.endTimeLabel)+"：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.endTime))])]),a("div",{staticClass:"info-item"},[a("label",[t._v("职务：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.job))])]),a("div",{staticClass:"info-item"},[a("label",[t._v("职称：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.title))])])])]),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("申请理由")])]),a("pre",[t._v("        "+t._s(t.form.reason)+"\n      ")])]),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("附件")])]),t.form.attachFile.length?a("pre",[t._v("        "),a("iep-download",{attrs:{value:t.form.attachFile}}),t._v("\n      ")],1):a("iep-no-data")],1),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("申请流程")])]),t.form.processList.length?a("el-timeline",t._l(t.form.processList,function(e){return a("el-timeline-item",{key:e.id,attrs:{timestamp:e.time,placement:"top"}},[a("el-card",[a("h4",[t._v(t._s(e.username)+" "+t._s(e.status))]),e.msg.length?a("p",[t._v("审批意见："+t._s(e.msg))]):t._e()])],1)}),1):a("iep-no-data")],1),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("抄送人")])]),a("iep-tag-detail",{attrs:{value:t.form.ccList.map(function(t){return t.name})}})],1),t.needApproval?a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("操作")])]),a("operation-wrapper",[a("iep-button",{attrs:{type:"warning",plain:""},on:{click:function(e){return t.handleReview()}}},[t._v("审核")]),a("iep-button",{on:{click:function(e){return t.handleDeliver()}}},[t._v("转交")])],1)],1):t._e()],1),a("iep-review-confirm",{ref:"iepReviewForm",on:{"load-page":t.loadPage}}),a("deliver-dialog",{ref:"DeliverDialog",on:{"load-page":t.loadPage}})],1)},i=[],r=a("87a5"),n=a("c4f2"),l={mixins:[r["a"]],data:function(){return{}},methods:{loadSelf:function(){var t=this;this.fnSelf().then(function(e){var a=e.data;t.form=t.selfToVo(a.data),t.form.startTime=Object(n["c"])()})}}},o=l,c=(a("f694"),a("0c7c")),d=Object(c["a"])(o,s,i,!1,null,"3bc16d3e",null);e["default"]=d.exports},b86a:function(t,e,a){},c149:function(t,e,a){},c28a:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("iep-dialog",{attrs:{"dialog-show":t.dialogShow,title:"加班详情",width:"520px"},on:{close:t.loadPage}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"small"}},[a("el-table-column",{attrs:{prop:"recordTime",label:"开始时间",width:"180"}}),a("el-table-column",{attrs:{prop:"recordTimeSecond",label:"结束时间",width:"180"}}),a("el-table-column",{attrs:{prop:"duration",label:"时长"}}),a("el-table-column",{attrs:{prop:"msg",label:"理由"}})],1)],1)},i=[],r=a("b5c6"),n="/hrms/user_record";function l(t){return Object(r["a"])({url:"".concat(n,"/overtime/list/").concat(t),method:"get"})}var o={data:function(){return{dialogShow:!1,tableData:[],userId:""}},created:function(){},methods:{load:function(){var t=this;l(this.userId).then(function(e){var a=e.data;t.tableData=a.data})},loadPage:function(){this.dialogShow=!1}}},c=o,d=a("0c7c"),f=Object(d["a"])(c,s,i,!1,null,null,null);e["default"]=f.exports},c4f2:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r});a("cebc");var s=a("84df");a.d(e,"c",function(){return s["a"]});var i={startTime:{1:"请假开始时间",2:"出差开始时间",3:"加班开始时间",4:"入职时间",5:"入职时间",6:"入职时间"},endTime:{1:"请假结束时间",2:"出差结束时间",3:"加班结束时间",4:"转正时间",5:"离职时间",6:"调岗时间"},status:{0:"未审核",1:"通过",2:"拒绝"},sStatus:{1:"通过",2:"拒绝"}},r=function(){return{id:"",name:"",avatar:"",type:1,deptList:[],approverList:[],attachFile:[],createTime:"",startTime:"",endTime:"",job:"",title:"",reason:"",annex:"",status:0,processList:[],cc:"",ccList:[],userId:"",transferDeptList:{name:""},levaeType:""}}},c8f9:function(t,e,a){"use strict";a.d(e,"b",function(){return r}),a.d(e,"a",function(){return n});var s=a("b5c6"),i="/hrms/administrative_approval";function r(t){return Object(s["a"])({url:"".concat(i,"/page"),method:"get",params:t})}function n(t){return Object(s["a"])({url:"".concat(i,"/").concat(t),method:"get"})}},cf92:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("iep-dialog",{attrs:{"dialog-show":t.dialogShow,title:"转交",width:"400px"},on:{close:t.loadPage}},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,size:"small","label-width":"80px"}},[a("el-form-item",{attrs:{label:"转交人",prop:"user"}},[a("iep-contact-select",{attrs:{"filter-user-list":t.filterUserList},model:{value:t.form.user,callback:function(e){t.$set(t.form,"user",e)},expression:"form.user"}})],1)],1),a("template",{slot:"footer"},[a("iep-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("form")}}},[t._v("提交")]),a("iep-button",{on:{click:t.loadPage}},[t._v("取消")])],1)],2)},i=[],r=a("cebc"),n=a("2f62"),l=a("8d6a"),o={data:function(){var t=function(t,e,a){if(!e.id)return a(new Error("用户不能为空"));a()};return{id:"",userId:"",dialogShow:!1,rules:{user:[{required:!0,validator:t,trigger:"blur"}]},formRequestFn:function(){},form:Object(l["c"])()}},computed:Object(r["a"])({},Object(n["c"])(["userInfo"]),{filterUserList:function(){return[this.userInfo.userId,this.userId]}}),methods:{loadPage:function(){this.form=Object(l["c"])(),this.dialogShow=!1,this.$emit("load-page")},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.formRequestFn(Object(l["e"])(e.form)).then(function(){e.$message({message:"转交成功",type:"success"}),e.loadPage()})})}}},c=o,d=a("0c7c"),f=Object(d["a"])(c,s,i,!1,null,null,null);e["default"]=f.exports},d8c1:function(t,e,a){"use strict";var s=a("86fc"),i=a.n(s);i.a},d9cf:function(t,e,a){},e4f2:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("basic-container",[a("el-card",{staticClass:"top-card",attrs:{"body-style":t.bodyStyle,shadow:"hover"}},[a("div",{staticClass:"avatar-wrapper"},[a("iep-img-avatar",{attrs:{size:90,src:t.form.avatar,alt:"头像"}})],1),a("div",{staticClass:"info"},[a("div",{staticClass:"info-item"},[a("label",[t._v("申请人：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.name))])]),a("div",{staticClass:"info-item"},[a("label",[t._v("所属部门：")]),a("div",{staticClass:"content"},[a("iep-tag-detail",{attrs:{value:t.form.deptList}})],1)]),a("div",{staticClass:"info-item"},[a("label",[t._v("调入部门：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.transferDeptList.name))])]),a("div",{staticClass:"info-item"},[a("label",[t._v("创建时间：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.createTime))])]),a("div",{staticClass:"info-item"},[a("label",[t._v(t._s(t.startTimeLabel)+"：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.startTime))])]),a("div",{staticClass:"info-item"},[a("label",[t._v(t._s(t.endTimeLabel)+"：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.endTime))])]),a("div",{staticClass:"info-item"},[a("label",[t._v("职务：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.job))])]),a("div",{staticClass:"info-item"},[a("label",[t._v("职称：")]),a("div",{staticClass:"content"},[t._v(t._s(t.form.title))])])])]),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("申请理由")])]),a("pre",[t._v("        "+t._s(t.form.reason)+"\n      ")])]),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("附件")])]),t.form.attachFile.length?a("pre",[t._v("        "),a("iep-download",{attrs:{value:t.form.attachFile}}),t._v("\n      ")],1):a("iep-no-data")],1),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("申请流程")])]),t.form.processList.length?a("el-timeline",t._l(t.form.processList,function(e){return a("el-timeline-item",{key:e.id,attrs:{timestamp:e.time,placement:"top"}},[a("el-card",[a("h4",[t._v(t._s(e.username)+" "+t._s(e.status))]),e.msg.length?a("p",[t._v("审批意见："+t._s(e.msg))]):t._e()])],1)}),1):a("iep-no-data")],1),a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("抄送人")])]),a("iep-tag-detail",{attrs:{value:t.form.ccList.map(function(t){return t.name})}})],1),t.needApproval?a("el-card",{staticClass:"middle-card",attrs:{"body-style":t.middleBodyStyle,shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("操作")])]),a("operation-wrapper",[a("iep-button",{attrs:{type:"warning",plain:""},on:{click:function(e){return t.handleReview()}}},[t._v("审核")]),a("iep-button",{on:{click:function(e){return t.handleDeliver()}}},[t._v("转交")])],1)],1):t._e()],1),a("iep-review-confirm",{ref:"iepReviewForm",on:{"load-page":t.loadPage}}),a("deliver-dialog",{ref:"DeliverDialog",on:{"load-page":t.loadPage}})],1)},i=[],r=a("87a5"),n=a("c4f2"),l={mixins:[r["a"]],data:function(){return{}},methods:{loadSelf:function(){var t=this;this.fnSelf().then(function(e){var a=e.data;t.form=t.selfToVo(a.data),t.form.startTime=Object(n["c"])()})}}},o=l,c=(a("8f97"),a("0c7c")),d=Object(c["a"])(o,s,i,!1,null,"62c0337d",null);e["default"]=d.exports},f694:function(t,e,a){"use strict";var s=a("c149"),i=a.n(s);i.a},f850:function(t,e,a){"use strict";var s=a("d9cf"),i=a.n(s);i.a}}]);