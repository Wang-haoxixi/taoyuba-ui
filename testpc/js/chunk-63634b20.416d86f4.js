(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63634b20"],{"0e09":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o});var a=[{label:"渔村名称",prop:"villageName"},{label:"联系人",prop:"contactName"},{label:"联系电话",prop:"phone"},{label:"机构地址",prop:"address"}],r=function(){return{villageName:"",contactName:""}},o=function(e){return r(e)}},"2f9e":function(e,t,n){"use strict";n.d(t,"a",function(){return r});n("ac6a"),n("28a5"),n("a481");var a=n("b5c6");function r(e){var t=e.url,n=e.method,r=void 0===n?"post":n,c=e.data,i=void 0===c?{}:c,u=e.title,s=void 0===u?"":u;return console.log(t),new Promise(function(e){return Object(a["a"])({url:t,method:r,headers:{responseType:"arraybuffer"},data:i,responseType:"blob"}).then(function(t){o({title:s,response:t}).then(function(){e()})})})}function o(e){var t=e.title,n=void 0===t?"":t,a=e.response,r=c(a.headers["content-disposition"].replace(/"/g,""));return new Promise(function(e){var t=a.headers,o=new Blob([a.data],{type:t["content-type"]});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(o,n);else{var c=document.createElement("a");c.href=window.URL.createObjectURL(o),c.download=n?"".concat(n,".").concat(r.suffix):r.filename,document.body.appendChild(c),c.style.display="none",c.click()}e()})}function c(e){var t={},n=e.split(";");return n.forEach(function(e){var n=e.replace(/^\s+|\s+$/g,""),a=n.split("=");a[1]?t[a[0]]=a[1]:t[a[0]]=a[0]}),t.suffix=t.filename.split(".")[1],t}},"407d":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});n("84df");var a=[{prop:"shipName",label:"渔船名"},{prop:"shipNo",label:"渔船编号"},{prop:"shipowner",label:"持证人"},{prop:"shipownerIdcard",label:"持证人身份证"},{prop:"engineTotalPower",label:"主机总功率(kw)"},{prop:"hullLength",label:"船长(m)"},{prop:"dualPower",label:"双控功率(kw)"}],r=[{prop:"type",label:"类型"},{prop:"amount",label:"保额"},{prop:"premium",label:"保费"},{prop:"insureDate",label:"投保日期"}]},"46b4":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{model:e.form,"label-width":"120px",size:"mini"}},[n("el-form-item",{attrs:{label:"教材标题："}},[n("el-input",{model:{value:e.form.contactName,callback:function(t){e.$set(e.form,"contactName",t)},expression:"form.contactName"}})],1),n("el-form-item",{attrs:{label:"关键字："}},[n("el-input",{model:{value:e.form.positionName,callback:function(t){e.$set(e.form,"positionName",t)},expression:"form.positionName"}})],1),n("el-form-item",[n("operation-wrapper",[n("iep-button",{attrs:{type:"primary"},on:{click:e.searchPage}},[e._v("搜索")]),n("iep-button",{on:{click:e.clearSearchParam}},[e._v("清空")])],1)],1)],1)},r=[],o=n("0e09"),c={data:function(){return{form:Object(o["b"])(),pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]}}},methods:{searchPage:function(){this.$emit("search-page",Object(o["c"])(this.form))},clearSearchParam:function(){this.form=Object(o["b"])()}}},i=c,u=n("0c7c"),s=Object(u["a"])(i,a,r,!1,null,null,null);t["default"]=s.exports},"502e":function(e,t,n){"use strict";var a=n("cebc"),r=(n("96cf"),n("3b8d")),o=n("51f4"),c={delete:"删除",shelf:"上架",submit:"提交",cancel:"撤销"};t["a"]={data:function(){return{pagedTable:[],multipleSelection:[],isLoadTable:!0,pagination:this._pageOption(),pageOption:this._pageOption(),searchForm:{}}},methods:{_pageOption:function(){return Object(o["a"])()},searchPage:function(e){this.pageOption=this._pageOption(),this.searchForm=e,this.loadPage(e)},loadTable:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,o,c,i,u,s,l,p,d,h=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=h.length>2&&void 0!==h[2]?h[2]:function(e){return e},this.isLoadTable=!0,e.next=4,n(Object(a["a"])({},this.pageOption,t));case 4:return o=e.sent,c=o.data,i=c.data,u=i.records,s=i.size,l=i.total,p=i.current,d=l/s+1===p,d&&0!==l?this.searchPage():this.pagination={current:p,size:s,total:l},this.pagedTable=u.map(r),this.isLoadTable=!1,e.abrupt("return",c.data);case 12:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){this.pageOption.size=e,this.loadPage()},handleCurrentChange:function(e){this.pageOption.current=e,this.loadPage()},_handleGlobalDeleteById:function(e,t){this._handleGlobalById(e,t,"delete")},_handleGlobalDeleteAll:function(e){this._handleGlobalAll(e,"delete")},_handleGlobalById:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"delete",r=c[a];this.$confirm("此操作将".concat(r,"该数据, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t(e).then(function(e){e.data.data?n.$message({type:"success",message:"".concat(r,"成功!")}):n.$message({type:"info",message:"".concat(r,"失败，").concat(e.data.msg)}),n.loadPage()})})},_handleGlobalAll:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,a,o,i=this,u=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:"delete",a=this.multipleSelection,o=c[n],void 0!==a&&0!==a.length){e.next=6;break}return this.$message("请先选择需要".concat(o,"的选项")),e.abrupt("return");case 6:this.$confirm("此操作将".concat(o,"这些数据, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t(a);case 2:n=e.sent,r=n.data,r.data?(i.$message({type:"success",message:"".concat(o,"成功!")}),i.pageOption=i._pageOption()):i.$message({type:"info",message:"".concat(o,"失败，").concat(r.msg)}),i.loadPage();case 6:case"end":return e.stop()}},e)})));case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),_handleComfirm:function(e,t,n,a,o){var c=this;this.$confirm(a||"是否".concat(n),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark(function a(){var r,i;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t(e);case 2:r=a.sent,i=r.data,i.data?c.$message({type:"success",message:o||"".concat(n,"成功!")}):c.$message({type:"info",message:"".concat(i.msg)}),c.loadPage();case 6:case"end":return a.stop()}},a)}))).catch(function(e){c.$message({type:"info",message:"".concat(e,", 已取消").concat(n)})})},mixinsCellPointerStyle:function(e){var t=e.column;return"index"!==t.type&&"selection"!==t.type&&"操作"!==t.label&&"cursor:pointer"}}}},"84df":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("c1df"),r=n.n(a),o=function(){return r()().format("YYYY-MM-DD HH:mm:ss")}},a909:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("basic-container",[n("page-header",{attrs:{title:"渔船列表"}}),n("operation-container",[n("template",{slot:"left"}),n("template",{slot:"right"},[n("operation-search",{attrs:{"advance-search":"",prop:e.searchData},on:{"search-page":e.searchPage}},[n("advance-search",{on:{"search-page":e.searchPage}})],1)],1)],2),n("iep-table",{attrs:{isLoadTable:e.isLoadTable,pagination:e.pagination,columnsMap:e.columnsMap,pagedTable:e.pagedTable,"is-mutiple-selection":""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{prop:"operation",label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("operation-wrapper",[n("iep-button",{on:{click:function(n){return e.handleView(t.row.shipId)}}},[e._v("查看船员列表")])],1),n("operation-wrapper",[n("iep-button",{on:{click:function(n){return e.handleIntoinsure(t.row.shipId)}}},[e._v("渔船保单")])],1)]}}])})],1)],1)],1)},r=[],o=n("cebc"),c=(n("96cf"),n("3b8d")),i=n("ade3"),u=n("46b4"),s=n("502e"),l=n("407d"),p={components:{advanceSearch:u["default"]},mixins:[s["a"]],data:function(){return{columnsMap:l["a"],searchData:"villageName"}},created:function(){this.loadPage()},methods:{handleSelectionChange:function(e){this.multipleSelection=e.map(function(e){return e.id})},handleView:function(e){this.$router.push({path:"/hrms_spa/ship_crew_list/".concat(e)})},handleIntoinsure:function(e){this.$router.push({path:"/hrms_spa/ship_insure/".concat(e)})},loadPage:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:this.searchForm,this.loadTable(Object(o["a"])({villageId:this.villageId},t),i["p"]);case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},computed:{villageId:function(){return this.$route.params.villageId}}},d=p,h=n("0c7c"),m=Object(h["a"])(d,a,r,!1,null,null,null);t["default"]=m.exports},ade3:function(e,t,n){"use strict";n.d(t,"p",function(){return c}),n.d(t,"c",function(){return i}),n.d(t,"k",function(){return u}),n.d(t,"b",function(){return s}),n.d(t,"m",function(){return l}),n.d(t,"o",function(){return p}),n.d(t,"d",function(){return d}),n.d(t,"w",function(){return h}),n.d(t,"e",function(){return m}),n.d(t,"l",function(){return f}),n.d(t,"q",function(){return g}),n.d(t,"r",function(){return b}),n.d(t,"j",function(){return v}),n.d(t,"n",function(){return w}),n.d(t,"s",function(){return O}),n.d(t,"g",function(){return y}),n.d(t,"h",function(){return j}),n.d(t,"i",function(){return x}),n.d(t,"f",function(){return _}),n.d(t,"u",function(){return k}),n.d(t,"v",function(){return T}),n.d(t,"a",function(){return $}),n.d(t,"t",function(){return I});var a=n("b5c6"),r=n("2f9e"),o="/tybship/tybship";function c(e){return Object(a["a"])({url:"".concat(o,"/otherpage"),method:"get",params:e})}function i(e,t){return Object(a["a"])({url:"".concat(o,"/updateVillage?shipId=").concat(e,"&&villageId=").concat(t),method:"post"})}function u(e,t){return Object(a["a"])({url:"".concat(o,"/getFixOrgIds?shipId=").concat(e,"&&orgId=").concat(t),method:"get"})}function s(e,t){return Object(a["a"])({url:"".concat(o,"/updateOrgId?shipId=").concat(e,"&&orgId=").concat(t),method:"post"})}function l(e){return Object(a["a"])({url:"".concat(o,"/").concat(e),method:"get",params:e})}function p(e){return Object(a["a"])({url:"".concat(o,"/").concat(e),method:"get"})}function d(e){return Object(a["a"])({url:"".concat(o,"/save"),method:"post",data:e})}function h(e){return Object(a["a"])({url:"".concat(o,"/update"),method:"post",data:e})}function m(e){return Object(a["a"])({url:"".concat(o,"/del/").concat(e),method:"post"})}function f(e){return Object(a["a"])({url:"".concat(o,"/mypage"),method:"get",params:e})}function g(e){return Object(a["a"])({url:"".concat(o,"/findship/").concat(e),method:"get"})}function b(e){return Object(a["a"])({url:"".concat(o,"/findshipWithOutOrg/").concat(e),method:"get"})}function v(e){return Object(a["a"])({url:"".concat(o,"/findmyship/").concat(e),method:"get"})}function w(e){return Object(a["a"])({url:"".concat(o,"/searchByshipNo"),method:"get",params:{shipNo:e}})}function O(e){return Object(a["a"])({url:"".concat(o,"/newpage"),method:"get",params:e})}function y(e){return Object(r["a"])({url:"tybship/tybshipExcelExport/downShipInfo",data:e,title:"渔船信息"})}function j(e){return Object(r["a"])({url:"tmlms/tybmlmsExcelExport/downShipCrew",data:e,title:e.shipName})}function x(e){return Object(r["a"])({url:"tmlms/tybmlmsExcelExport/downShipCrewTwoOld ",data:e,title:e.shipName})}function _(e){return Object(r["a"])({url:"tmlms/tybmlmsExcelExport/downContractModel",data:e,title:e.shipName})}function k(e){return Object(a["a"])({url:"tmlms/tyb_order/page",method:"get",params:e})}function T(e){return Object(a["a"])({url:"tmlms/tyb_order/getById",method:"get",params:e})}function $(e){return Object(a["a"])({url:"tmlms/tyb_order/agree",method:"post",data:e})}function I(e){return Object(a["a"])({url:"tmlms/tyb_order/reject",method:"post",data:e})}}}]);