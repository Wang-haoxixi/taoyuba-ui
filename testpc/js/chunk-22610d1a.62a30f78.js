(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22610d1a"],{"73b6":function(e,r,t){"use strict";t.d(r,"a",function(){return i}),t.d(r,"d",function(){return l}),t.d(r,"b",function(){return n}),t.d(r,"c",function(){return u}),t.d(r,"e",function(){return m});t("3b2b");var a=t("0e0b"),i=(t("84df"),[{prop:"portName",label:"港口名"},{prop:"address",label:"港口地址"},{prop:"areaCode",label:"港口所属区域",type:"areaCode",text:"暂无"}]),n=function(){return{portName:"",address:"",areaCode:"",lat:"",lng:""}};function o(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=new RegExp("^\\d{0,"+r+"}$");if(0===t)return a.test(e);var i=new RegExp("^\\d{0,"+r+"}\\.\\d{0,"+t+"}$");return a.test(e)||i.test(e)}function s(e){var r=/^\d{0,18}$/,t=/^\d{17}X$/;return r.test(e)||t.test(e)}function d(e,r,t){""===r?t(new Error):s(r)?t():t(new Error)}function c(e,r,t){""===r?t(new Error):o(r,e.length,e.decimal)?t():t(new Error)}var l={zipcode:[{required:!0,validator:c,trigger:"blur",length:6,message:"请输入正确的邮政！"}],engineTotalPower:[{required:!0,validator:c,trigger:"blur",length:3,decimal:2,message:"请输入0~999.99的整数或小数！"}],mainEnginePower:[{required:!0,validator:c,trigger:"blur",length:3,decimal:2,message:"请输入0~999.99的整数或小数！"}],dualPower:[{required:!0,validator:c,trigger:"blur",length:3,decimal:2,message:"请输入0~999.99的整数或小数！"}],mainEngineModel:[{required:!0,message:"该选项必填！",trigger:"blur"}],grossTonnage:[{required:!0,validator:c,trigger:"blur",length:3,decimal:0,message:"请输入0~999的整数！"}],hullLength:[{required:!0,validator:c,trigger:"blur",length:3,decimal:2,message:"请输入0~999.99的整数或小数！"}],mouldedBreadth:[{required:!0,validator:c,trigger:"blur",length:3,decimal:2,message:"请输入0~999.99的整数或小数！"}],mouldedDepth:[{required:!0,validator:c,trigger:"blur",length:3,decimal:2,message:"请输入0~999.99的整数或小数！"}],netTonnage:[{required:!0,validator:c,trigger:"blur",length:3,decimal:0,message:"请输入0~999的整数！"}],villageId:[{required:!0,message:"该选项必填！",trigger:"blur"}],activityType:[{required:!0,message:"该选项必填！",trigger:"change"}],address:[{required:!0,message:"该选项必填！",trigger:"blur"}],buildDate:[{required:!0,message:"该选项必填！",trigger:"blur"}],createTime:[{required:!0,message:"该选项必填！",trigger:"blur"}],fishType:[{required:!0,message:"该选项必填！",trigger:"blur"}],fishingGear:[{required:!0,message:"该选项必填！",trigger:"change"}],hullMaterial:[{required:!0,message:"该选项必填！",trigger:"change"}],licensesDateExpire:[{required:!0,message:"该选项必填！",trigger:"blur"}],licensesDateIssue:[{required:!0,message:"该选项必填！",trigger:"blur"}],licensesFishingNo:[{required:!0,message:"该选项必填！",trigger:"blur"}],licensesInspectionNo:[{required:!0,message:"该选项必填！",trigger:"blur"}],licensesNationalNo:[{required:!0,message:"该选项必填！",trigger:"blur"}],licensesOwnerShip:[{required:!0,message:"该选项必填！",trigger:"blur"}],mobile:[{required:!0,validator:c,trigger:"blur",length:11,decimal:0,message:"请输入正确的手机号码！"}],portRegister:[{required:!0,message:"该选项必填！",trigger:"change"}],shipId:[{required:!0,message:"该选项必填！",trigger:"blur"}],portName:[{required:!0,message:"该选项必填！",trigger:"blur"}],shipNo:[{required:!0,message:"该选项必填！",trigger:"blur"}],areaCode:[{required:!0,message:"该选项必填！",trigger:"change"}],shipowner:[{required:!0,message:"该选项必填！",trigger:"blur"}],shipownerIdcard:[{required:!0,validator:d,trigger:"blur",length:3,decimal:0,message:"请输入正确的身份证号码！"}],updateTime:[{required:!0,message:"该选项必填！",trigger:"blur"}],workMode:[{required:!0,message:"该选项必填！",trigger:"change"}],workMode2:[{required:!0,message:"该选项必填！",trigger:"change"}]},u=function(){return{shipName:"",realName:"",idcard:"",startDate:"",endDate:""}},g=function(){return{contactName:"",positionName:""}},m=function(e){var r=Object(a["g"])(g(),e);return r.contactName=e.contactName?e.contactName:null,r.positionName=e.positionName?e.positionName:null,r}},"84df":function(e,r,t){"use strict";t.d(r,"a",function(){return n});var a=t("c1df"),i=t.n(a),n=function(){return i()().format("YYYY-MM-DD HH:mm:ss")}},8519:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"port-detail"},[t("basic-container",[t("page-header",{attrs:{title:e.getTitle,backOption:e.backOption}}),t("el-form",{ref:"form",attrs:{disabled:"view"===e.type,model:e.form,rules:e.rules,"label-width":"150px",size:"small"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"港口名称：",prop:"portName"}},[t("el-input",{attrs:{maxlength:"20"},model:{value:e.form.portName,callback:function(r){e.$set(e.form,"portName",r)},expression:"form.portName"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"所属区域：",prop:"areaCode"}},[t("el-cascader",{attrs:{options:e.options,props:e.props},on:{"active-item-change":e.handleItemChange},model:{value:e.form.areaCode,callback:function(r){e.$set(e.form,"areaCode",r)},expression:"form.areaCode"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:24}},[t("el-form-item",{staticClass:"amap-page-container is-required",attrs:{label:"港口地址:",prop:"address"}},[t("el-amap-search-box",{staticClass:"search-box training",staticStyle:{width:"450px",height:"30px","margin-top":"10px"},attrs:{"search-option":e.searchOption,"on-search-result":e.onSearchResult},model:{value:e.form.address,callback:function(r){e.$set(e.form,"address",r)},expression:"form.address"}}),t("el-amap",{staticClass:"amap-demo",attrs:{vid:"amapDemo",center:e.mapCenter,zoom:15}},[t("el-amap-marker",{attrs:{position:e.marker}})],1)],1)],1)],1),"view"!==e.type?t("el-form-item",{attrs:{label:""}},[t("operation-wrapper",[t("iep-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("保存")])],1)],1):e._e()],1)],1)],1)},i=[],n=(t("ac6a"),t("23d6")),o=t("85ff"),s=t("73b6"),d=t("8f9b"),c={data:function(){var e=this;return{backOption:{isBack:!0,backPath:null,backFunction:function(){e.onGoBack()}},rules:s["d"],form:Object(s["b"])(),regions:{province:[],city:[],district:[],town:[],village:[]},regionChosen:{province:"",city:"",district:"",town:"",village:""},init:!1,options:[],props:{value:"areaCode",label:"name",children:"childList"},arr:[],marker:[121.59996,31.197646],searchOption:{city:"全国",citylimit:!1},mapCenter:[121.59996,31.197646]}},computed:{type:function(){return this.$route.params.type},portId:function(){return this.$route.params.id},getTitle:function(){return"".concat("create"===this.type?"新增":"update"===this.type?"编辑":"","港口信息")}},created:function(){var e=this;d["lazyAMapApiLoaderInstance"].load().then(function(){setTimeout(function(){e.show=!0,Object(o["b"])(e.portId).then(function(r){var t=r.data.data;document.getElementsByClassName("search-box-wrapper")[0].childNodes[0].value=t.address,e.mapCenter=[t.lng,t.lat],e.marker=[t.lng,t.lat],e.show=!0})},100)}),"create"!==this.type&&this.portId?this.getportDetail():Object(n["c"])(33e10).then(function(r){e.options=r.data.data,e.options.forEach(function(r){e.$set(r,"childList",[])})})},mounted:function(){},methods:{handleItemChange:function(e){var r=this;Object(n["c"])(e[e.length-1]).then(function(t){var a=t.data.data;r.getNode(r.options,e[e.length-1],a)})},getNode:function(e,r,t){var a=this;e.forEach(function(e){e.areaCode==r?(e.childList=t,e.level<3&&e.childList.forEach(function(e){void 0===e.childList&&a.$set(e,"childList",[])})):e.childList&&0!==e.childList.length&&a.getNode(e.childList,r,t)})},getportDetail:function(){var e=this;Object(o["b"])(this.portId).then(function(r){var t=r.data;0===t.code&&(0!==t.data.areaCode&&Object(n["a"])(t.data.areaCode).then(function(r){e.options=r.data.data}),0===t.data.areaCode?(e.form=t.data,Object(n["c"])(33e10).then(function(r){e.options=r.data.data,e.options.forEach(function(r){e.$set(r,"childList",[])})}),e.form.areaCode=e.options):Object(n["b"])(t.data.areaCode).then(function(r){e.getarr(r.data.data,e.arr),t.data.areaCode=e.arr,e.form=t.data}))},function(r){e.$message.error(r.message)})},getarr:function(e){this.arr.push(e.areaCode),e.child&&this.getarr(e.child)},handleSubmit:function(){var e=this;this.$refs.form.validate(function(r){r?"create"===e.type?(e.form.areaCode=e.form.areaCode[e.form.areaCode.length-1],Object(o["a"])(e.form).then(function(r){var t=r.data;0===t.code&&(e.$message.success("添加成功！"),e.onGoBack())},function(r){e.$message.error(r.message)})):"update"===e.type&&(e.form.areaCode=e.form.areaCode[e.form.areaCode.length-1],Object(o["d"])(e.form).then(function(r){var t=r.data;0===t.code&&(e.$message.success("修改成功！"),e.onGoBack())},function(r){e.$message.error(r.message)})):e.$message.error("请按规则输入填写表单！")})},onGoBack:function(){this.$router.history.go(-1)},onSearchResult:function(e){this.form.address=e[0].address,this.form.lng=e[0].lng,this.form.lat=e[0].lat,this.mapCenter=[e[0].lng,e[0].lat],this.marker=[e[0].lng,e[0].lat]}},watch:{}},l=c,u=(t("e858"),t("0c7c")),g=Object(u["a"])(l,a,i,!1,null,null,null);r["default"]=g.exports},"85ff":function(e,r,t){"use strict";t.d(r,"c",function(){return n}),t.d(r,"a",function(){return o}),t.d(r,"d",function(){return s}),t.d(r,"b",function(){return d});var a=t("b5c6"),i="/tybship/tybshipinoutport";function n(e){return Object(a["a"])({url:"".concat(i,"/page"),method:"get",params:e})}function o(e){return Object(a["a"])({url:"".concat(i,"/save"),method:"post",data:e})}function s(e){return Object(a["a"])({url:"".concat(i,"/update"),method:"post",data:e})}function d(e){return Object(a["a"])({url:"".concat(i,"/").concat(e),method:"get",params:e})}},d11a:function(e,r,t){},e858:function(e,r,t){"use strict";var a=t("d11a"),i=t.n(a);i.a}}]);