(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page"],{"124f":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"social-container"},[r("div",{staticClass:"box wechat",on:{click:function(t){return e.handleClick("wechat")}}},[e._m(0),r("p",{staticClass:"title"},[e._v("微信")])]),r("div",{staticClass:"box qq",on:{click:function(t){return e.handleClick("tencent")}}},[e._m(1),r("p",{staticClass:"title"},[e._v("QQ")])])])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"container"},[r("i",{staticClass:"iconfont icon-weixin",attrs:{"icon-class":"wechat"}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"container"},[r("i",{staticClass:"iconfont icon-qq",attrs:{"icon-class":"qq"}})])}],n=r("0e0b"),a={name:"SocialSignin",methods:{handleClick:function(e){var t,r,o,s;o=encodeURIComponent(window.location.origin+"/#/authredirect"),"wechat"===e?(t="wxd1678d3f83b1d83a",s="https://open.weixin.qq.com/connect/qrconnect?appid="+t+"&redirect_uri="+o+"&state=WX&response_type=code&scope=snsapi_login#wechat_redirect"):"tencent"===e&&(r="101322838",s="https://graph.qq.com/oauth2.0/authorize?response_type=code&state=QQ&client_id="+r+"&redirect_uri="+o),Object(n["j"])(s,e,540,540)}}},i=a,c=(r("2d007"),r("2877")),l=Object(c["a"])(i,o,s,!1,null,"10a9e99e",null);t["default"]=l.exports},"15c5":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"lock-container pull-height"},[r("div",{staticClass:"lock-form animated bounceInDown"},[r("div",{staticClass:"animated",class:{shake:e.passwdError,bounceOut:e.pass}},[r("h3",{staticClass:"title"},[e._v(e._s(e.userInfo.username))]),r("el-input",{staticClass:"input-with-select animated",attrs:{placeholder:"请输入登录密码",type:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.passwd,callback:function(t){e.passwd=t},expression:"passwd"}},[r("el-button",{attrs:{slot:"append",icon:"icon-bofangqi-suoping"},on:{click:e.handleLogin},slot:"append"}),r("el-button",{attrs:{slot:"append",icon:"icon-tuichu"},on:{click:e.handleLogout},slot:"append"})],1)],1)])])},s=[],n=(r("8e6e"),r("ac6a"),r("456d"),r("ade3")),a=r("2f62");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={name:"Lock",data:function(){return{passwd:"",passwdError:!1,pass:!1}},computed:c({},Object(a["c"])(["tag","lockPasswd","userInfo"])),methods:c(c(c({},Object(a["b"])(["LogOut"])),Object(a["d"])({clearLock:"CLEAR_LOCK"})),{},{handleLogout:function(){var e=this;this.$confirm("是否退出系统, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.LogOut().then((function(){e.$router.push({path:"/login"})}))}))},handleLogin:function(){var e=this;if(this.passwd!=this.lockPasswd)return this.passwd="",this.$message({message:"解锁密码错误,请重新输入",type:"error"}),this.passwdError=!0,void setTimeout((function(){e.passwdError=!1}),1e3);this.pass=!0,setTimeout((function(){e.clearLock(),e.$router.push({path:e.$router.$avueRouter.getPath({src:e.tag.value})})}),1e3)}}),components:{}},u=l,f=(r("b51f"),r("2877")),p=Object(f["a"])(u,o,s,!1,null,"404fb435",null);t["default"]=p.exports},"1d4d":function(e,t,r){"use strict";r("ea78")},"222a":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("container",{attrs:{title:"欢迎注册"},scopedSlots:e._u([{key:"tab-panel",fn:function(){return["user"===e.activeName?r("user-login"):e._e()]},proxy:!0},{key:"tab-footer",fn:function(){return[r("p",[e._v("已有账号？"),r("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.loadLoginPage.apply(null,arguments)}}},[e._v("立即登录")])])]},proxy:!0}])})},s=[],n=(r("8e6e"),r("ac6a"),r("456d"),r("ade3")),a=r("2868"),i=r("bc00"),c=r("e3c4"),l=r("2f62"),u=r("c54a");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={name:"Login",components:{Container:a["default"],userLogin:i["default"]},data:function(){return{active:1,activeName:"user"}},methods:{loadLoginPage:function(){this.$router.push("/login")}},watch:{$route:function(){var e=this.$route.query;if(this.socialForm.state=e.state,this.socialForm.code=e.code,!Object(u["c"])(this.socialForm.state)){var t=this.$loading({lock:!0,text:"登录中,请稍后。。。",spinner:"el-icon-loading"});setTimeout((function(){t.close()}),2e3),this.handleSocialLogin()}}},created:function(){Object(c["c"])({name:"tenantId",content:1})},mounted:function(){},computed:p({},Object(l["c"])(["website"])),props:[]},m=d,h=(r("5b99"),r("2877")),g=Object(h["a"])(m,o,s,!1,null,"87860bde",null);t["default"]=g.exports},2868:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container pull-height"},[r("div",{staticClass:"login-weaper"},[r("div",{staticClass:"login-border animated fadeInRight"},[r("div",{staticClass:"login-main"},[r("div",{staticClass:"title-image"},[r("img",{staticClass:"top-image",attrs:{src:"/img/logo.png"}}),r("div",{staticClass:"login-title"},[e._v(e._s(e.title))])]),e._t("tab-panel")],2),r("div",{staticClass:"login-menu"},[e._t("tab-footer")],2),e._m(0)])])])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-bottom"},[r("div",{staticClass:"bottom-text"},[e._v("Copyright©TAOYU58 版权所有 2018-2020")])])}],n={props:{title:{type:String,required:!0}}},a=n,i=(r("c4fd"),r("2877")),c=Object(i["a"])(a,o,s,!1,null,"8e8d8544",null);t["default"]=c.exports},"29e8":function(e,t,r){},"2d007":function(e,t,r){"use strict";r("29e8")},3561:function(e,t,r){"use strict";r("a7e6")},"363f":function(e,t,r){"use strict";r("d401")},"3ee2":function(e,t,r){},5596:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("container",{attrs:{title:"用户登录"},scopedSlots:e._u([{key:"tab-panel",fn:function(){return["user"===e.activeName?r("user-login",{on:{"tab-active":e.handleActive}}):e._e(),"code"===e.activeName?r("code-login"):e._e(),"third"===e.activeName?r("third-login"):e._e(),"retrieve"===e.activeName?r("retrieve",{on:{"tab-active":e.handleActive}}):e._e()]},proxy:!0}])})},s=[],n=(r("8e6e"),r("ac6a"),r("456d"),r("ade3")),a=r("2868"),i=r("7c05"),c=r("acd4"),l=r("124f"),u=r("fa05"),f=r("e3c4"),p=r("2f62"),d=r("c54a");function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g={name:"Login",components:{Container:a["default"],userLogin:i["default"],codeLogin:c["default"],thirdLogin:l["default"],retrieve:u["default"]},data:function(){return{active:1,activeName:"user"}},computed:h({},Object(p["c"])(["website"])),watch:{$route:function(){var e=this.$route.query;if(this.socialForm.state=e.state,this.socialForm.code=e.code,!Object(d["c"])(this.socialForm.state)){var t=this.$loading({lock:!0,text:"登录中,请稍后。。。",spinner:"el-icon-loading"});setTimeout((function(){t.close()}),2e3),this.handleSocialLogin()}}},created:function(){Object(f["c"])({name:"tenantId",content:1})},methods:{handleActive:function(e){this.activeName=e}}},b=g,v=(r("3561"),r("2877")),y=Object(v["a"])(b,o,s,!1,null,"69ad77fe",null);t["default"]=y.exports},"59f0":function(e,t,r){},"5b99":function(e,t,r){"use strict";r("9e02")},"7aef":function(e,t,r){"use strict";r("8042")},"7c05":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"form",staticClass:"login-form",attrs:{"status-icon":"",rules:e.rules,model:e.form,"label-width":"0"}},[r("el-form-item",{attrs:{prop:"username"}},[r("a-input",{ref:"username",attrs:{"auto-complete":"off",placeholder:"请输入用户名",size:"large"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}},[r("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"}),e.form.username?r("a-icon",{attrs:{slot:"suffix",type:"close-circle"},on:{click:function(t){return e.emitEmpty("username")}},slot:"suffix"}):e._e()],1)],1),r("el-form-item",{attrs:{prop:"password"}},[r("a-input",{ref:"password",attrs:{type:e.passwordType,"auto-complete":"false",placeholder:"请输入密码",size:"large"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[r("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"}),e.form.password?r("a-icon",{attrs:{slot:"suffix",type:e.passwordType?"eye-invisible":"eye"},on:{click:e.showPassword},slot:"suffix"}):e._e()],1)],1),r("el-form-item",{attrs:{prop:"code"}},[r("a-input",{staticClass:"login-code",attrs:{maxlength:e.code.len,"auto-complete":"false",placeholder:"请输入验证码",size:"large"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}},[r("img",{staticClass:"login-code-img",attrs:{slot:"addonAfter",src:e.code.src},on:{click:e.refreshCode},slot:"addonAfter"})])],1),r("el-form-item",[r("div",{staticClass:"login-text"},[r("el-checkbox",{model:{value:e.form.isKeepLogin,callback:function(t){e.$set(e.form,"isKeepLogin",t)},expression:"form.isKeepLogin"}},[e._v("保持登录")]),r("div",{staticClass:"check-text"},[r("el-button",{attrs:{type:"text"},on:{click:function(t){return t.preventDefault(),e.handleRetrieve.apply(null,arguments)}}},[e._v("忘记密码?")]),r("el-button",{attrs:{type:"text"},on:{click:function(t){return t.preventDefault(),e.handleRegister.apply(null,arguments)}}},[e._v("立即注册")])],1)],1)]),r("el-form-item",[r("a-row",{attrs:{gutter:8}},[r("a-col",{attrs:{span:12}},[r("a-button",{attrs:{type:"primary",size:"large",loading:e.loginLoading,block:""},on:{click:e.handleLogin}},[e._v("登录")])],1),r("a-col",{attrs:{span:12}},[r("a-button",{attrs:{size:"large",block:""},on:{click:function(t){return e.$message.success("功能开发中")}}},[e._v("访客")])],1)],1)],1)],1)},s=[],n=(r("8e6e"),r("ac6a"),r("456d"),r("96cf"),r("1da1")),a=(r("7f7f"),r("ade3")),i=r("51be"),c=r("0e0b"),l=r("2f62"),u=r("c54a"),f=r("7ded");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={name:"Userlogin",data:function(){return{socialForm:{code:"",state:""},form:{username:"",password:"",code:"",redomStr:"",isKeepLogin:!1},code:{src:"/code",value:"",len:4,type:"image"},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度最少为6位",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},passwordType:"password",loginLoading:!1}},watch:{$route:function(){var e=this.$route.query;if(this.socialForm.state=e.state,this.socialForm.code=e.code,!Object(u["c"])(this.socialForm.state)){var t=this.$loading({lock:!0,text:"登录中,请稍后。。。",spinner:"el-icon-loading"});setTimeout((function(){t.close()}),2e3),this.handleSocialLogin()}}},created:function(){this.loadPage()},computed:d({},Object(l["c"])(["tagWel"])),methods:d(d({},Object(l["b"])(["LoginBySocial","LoginByUsername","GetMenu"])),{},{emitEmpty:function(e){this.$refs[e].focus(),this.form[e]=""},loadPage:function(){this.refreshCode()},handleRetrieve:function(){this.$emit("tab-active","retrieve")},handleRegister:function(){this.$router.push("/register")},refreshCode:function(){this.form.code="",this.form.randomStr=Object(c["l"])(this.code.len,!0),"text"===this.code.type?this.code.value=Object(c["l"])(this.code.len):this.code.src="".concat(i["b"],"?randomStr=").concat(this.form.randomStr)},showPassword:function(){""==this.passwordType?this.passwordType="password":this.passwordType=""},handleSocialLogin:function(){var e=this;this.LoginBySocial(this.socialForm).then((function(){e.$router.push({path:e.tagWel.value})}))},handleLogin:function(){var e=this;this.$refs.form.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=18;break}return t.prev=1,e.loginLoading=!0,t.next=5,e.LoginByUsername(e.form);case 5:return t.next=7,e.GetMenu();case 7:o=t.sent,Object(f["c"])().then((function(t){var r=t.data;localStorage.setItem("user",JSON.stringify(r.data)),e.$router.$avueRouter.formatRoutes(o,!0),e.$router.push({path:e.tagWel.value})})),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),e.$message.error(t.t0.message);case 14:return t.prev=14,e.loginLoading=!1,e.refreshCode(),t.finish(14);case 18:case"end":return t.stop()}}),t,null,[[1,11,14,18]])})));return function(e){return t.apply(this,arguments)}}())}})},h=m,g=(r("fbae"),r("2877")),b=Object(g["a"])(h,o,s,!1,null,"8f132c5c",null);t["default"]=b.exports},8042:function(e,t,r){},"8da9":function(e,t,r){"use strict";r("d4e9")},"94de":function(e,t,r){"use strict";r("59f0")},"9e02":function(e,t,r){},a2d5:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var o=r("b5c6");function s(e){return Object(o["a"])({url:"/admin/mobile/".concat(e),method:"get"})}},a7e6:function(e,t,r){},acd4:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{"status-icon":"",rules:e.loginRules,model:e.loginForm,"label-width":"0"}},[r("el-form-item",{attrs:{prop:"mobile"}},[r("a-input",{attrs:{"auto-complete":"off",placeholder:"请输入手机号码",size:"large"},model:{value:e.loginForm.mobile,callback:function(t){e.$set(e.loginForm,"mobile",t)},expression:"loginForm.mobile"}})],1),r("el-form-item",{attrs:{prop:"code"}},[r("a-input-search",{attrs:{maxlength:4,"auto-complete":"off",placeholder:"请输入验证码",size:"large"},on:{search:e.handleSend},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}},[r("a-button",{class:[{display:e.msgKey}],attrs:{slot:"enterButton"},slot:"enterButton"},[e._v(e._s(e.msgText))])],1)],1),r("el-form-item",[r("a-button",{attrs:{type:"primary",size:"large",block:""},on:{click:e.handleLogin}},[e._v("登录")])],1)],1)},s=[],n=(r("8e6e"),r("ac6a"),r("456d"),r("ade3")),a=r("c54a"),i=r("2f62"),c=r("a2d5");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f="发送验证码",p="${time}秒后重发",d=60,m={name:"Codelogin",data:function(){var e=function(e,t,r){Object(a["b"])(t)[0]?r(new Error(Object(a["b"])(t)[1])):r()},t=function(e,t,r){4!=t.length?r(new Error("请输入4位数的验证码")):r()};return{msgText:f,msgTime:d,msgKey:!1,loginForm:{mobile:"",code:""},loginRules:{mobile:[{required:!0,trigger:"blur",validator:e}],code:[{required:!0,trigger:"blur",validator:t}]}}},computed:u({},Object(i["c"])(["tagWel"])),methods:u(u({},Object(i["b"])(["LoginByPhone"])),{},{handleSend:function(){var e=this;if(!this.msgKey){Object(c["a"])(this.loginForm.mobile).then((function(t){t.data.data?e.$message.success("验证码发送成功"):e.$message.error(t.data.msg)})),this.msgText=p.replace("${time}",this.msgTime),this.msgKey=!0;var t=setInterval((function(){e.msgTime--,e.msgText=p.replace("${time}",e.msgTime),0==e.msgTime&&(e.msgTime=d,e.msgText=f,e.msgKey=!1,clearInterval(t))}),1e3)}},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){t&&e.LoginByPhone(e.loginForm).then((function(){e.$router.push({path:e.tagWel.value})}))}))}})},h=m,g=(r("7aef"),r("ef50"),r("2877")),b=Object(g["a"])(h,o,s,!1,null,"0682d480",null);t["default"]=b.exports},b51f:function(e,t,r){"use strict";r("bf67")},bc00:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"form",staticClass:"login-form",attrs:{"status-icon":"",rules:e.rules,model:e.form,"label-width":"0"}},[r("el-form-item",{attrs:{prop:"phone"}},[r("a-input",{ref:"phone",attrs:{"auto-complete":"off",placeholder:"请输入手机号码",size:"large"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}},[r("a-icon",{attrs:{slot:"prefix",type:"phone"},slot:"prefix"}),e.form.phone?r("a-icon",{attrs:{slot:"suffix",type:"close-circle"},on:{click:function(t){return e.emitEmpty("phone")}},slot:"suffix"}):e._e()],1)],1),r("el-form-item",{attrs:{prop:"password"}},[r("a-input",{ref:"password",attrs:{type:e.passwordType,"auto-complete":"false",placeholder:"请输入密码",size:"large"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[r("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"}),e.form.password?r("a-icon",{attrs:{slot:"suffix",type:e.passwordType?"eye-invisible":"eye"},on:{click:e.showPassword},slot:"suffix"}):e._e()],1)],1),r("el-form-item",{attrs:{prop:"cpassword"}},[r("a-input",{ref:"cpassword",attrs:{type:e.passwordType,"auto-complete":"false",placeholder:"确认你的密码",size:"large"},model:{value:e.form.cpassword,callback:function(t){e.$set(e.form,"cpassword",t)},expression:"form.cpassword"}},[r("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"}),e.form.cpassword?r("a-icon",{attrs:{slot:"suffix",type:e.passwordType?"eye-invisible":"eye"},on:{click:e.showPassword},slot:"suffix"}):e._e()],1)],1),r("el-form-item",{attrs:{prop:"code"}},[r("a-input-search",{attrs:{maxlength:4,"auto-complete":"off",placeholder:"请输入验证码",size:"large"},on:{search:e.handleSend},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}},[r("a-button",{class:[{display:e.msgKey}],attrs:{slot:"enterButton"},slot:"enterButton"},[e._v(e._s(e.msgText))])],1)],1),r("el-form-item",[r("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("同意并遵守\n      "),r("el-button",{attrs:{type:"text"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("《免责声明》")])],1),r("el-dialog",{attrs:{title:"免责声明","modal-append-to-body":!1,visible:e.dialogVisible,width:"70%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("p",{staticStyle:{"text-indent":"2em"}},[e._v("\n        本网站是一个旨以提供渔船及配件交易服务、渔需渔获供销服务、渔业船员服务、渔业管理服务为一体的公共服务平台，不适宜发表政治实事、危害国家安全、破坏民族团结、破坏国家宗教政策、破坏社会稳定、侮辱、诽谤、教唆、淫秽等内容的作品。我们有权检查并删除任何不恰当、违法、侵害、中伤、胁迫以及违反条款的其它内容、信息、图片或资料。\n      ")]),r("p",{staticStyle:{"text-indent":"2em"}},[e._v("\n        本网站所收集的部分公开资料来源于互联网，转载的目的在于传递更多信息及用于网络分享，并不代表本站赞同其观点和对其真实性负责，也不构成任何其他建议。本站部分作品是由会员自主发布、编辑整理上传，对此类作品本站仅提供发布平台，不为其版权负责，本网站不为任何由于作品发布而引起的纠纷承担责任。如果您发现网站上有侵犯您的知识产权的作品，请与我们取得联系，我们会及时修改或删除。\n      ")]),r("p",{staticStyle:{"text-indent":"2em"}},[e._v("\n        本网站所提供的信息，只供参考之用。本网站不保证信息的准确性、有效性、及时性和完整性。本网站及其雇员一概毋须以任何方式就任何信息传递或传送的失误、不准确或错误，对用户或任何其他人士负任何直接或间接责任。在法律允许的范围内，本网站在此声明，不承担用户或任何人士就使用或未能使用本网站所提供的信息或任何链接所引致的任何直接、间接、附带、从属、特殊、惩罚性或惩戒性的损害赔偿。\n      ")]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleDagree}},[e._v("同 意")])],1)])],1),r("el-form-item",[r("a-button",{attrs:{type:"primary",size:"large",block:""},on:{click:e.handleRegister}},[e._v("注册")])],1)],1)},s=[],n=(r("8e6e"),r("ac6a"),r("456d"),r("7f7f"),r("ade3")),a=r("0e0b"),i=r("2f62"),c=r("a2d5"),l=r("7ded"),u=r("c54a");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d="发送验证码",m="${time}秒后重发",h=60,g={name:"Userlogin",data:function(){var e=this,t=function(e,t,r){return t?/^[a-zA-Z][a-zA-Z0-9_]{4,15}$/.test(t)?void Object(l["k"])(t).then((function(e){var t=e.data;t.data?r():r(new Error("该用户名已存在，无需新增。"))})):r(new Error("4个字符以上，15个字符以下，不能以数字或符号和开头，不含中文")):r(new Error("用户名不能为空"))},r=function(e,t,r){Object(u["b"])(t)[0]?r(new Error(Object(u["b"])(t)[1])):Object(l["l"])(t).then((function(e){var t=e.data;t.data?r():r(new Error("该手机号已存在，无需新增。"))}))},o=function(t,r,o){""===r?o(new Error("请输入密码")):(""!==e.form.cpassword&&e.$refs.form.validateField("cpassword"),o())},s=function(t,r,o){""===r?o(new Error("请再次输入密码")):r!==e.form.password?o(new Error("两次输入密码不一致!")):o()};return{msgText:d,msgTime:h,msgKey:!1,form:{username:"",password:"",cpassword:"",phone:"",code:"",randomStr:""},code:{src:"/code",value:"",len:4,type:"image"},checked:!1,rules:{username:[{validator:t,trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"blur",validator:o},{min:6,message:"密码长度最少为6位",trigger:"blur"}],cpassword:[{trigger:"blur",validator:s},{min:6,message:"密码长度最少为6位",trigger:"blur"}],phone:[{required:!0,trigger:"blur",validator:r}]},passwordType:"password",dialogVisible:!1}},created:function(){this.refreshCode()},mounted:function(){},computed:p({},Object(i["c"])(["tagWel"])),props:[],methods:{emitEmpty:function(e){this.$refs[e].focus(),this.form[e]=""},handleSend:function(){var e=this;if(!this.msgKey){Object(c["a"])(this.form.phone).then((function(t){t.data.data?e.$message.success("验证码发送成功"):e.$message.error(t.data.msg)})),this.msgText=m.replace("${time}",this.msgTime),this.msgKey=!0;var t=setInterval((function(){e.msgTime--,e.msgText=m.replace("${time}",e.msgTime),0==e.msgTime&&(e.msgTime=h,e.msgText=d,e.msgKey=!1,clearInterval(t))}),1e3)}},refreshCode:function(){this.form.code="",this.form.randomStr=Object(a["l"])(this.code.length,!0),"text"===this.code.type?this.code.value=Object(a["l"])(this.code.len):this.code.src="".concat(this.codeUrl,"?randomStr=").concat(this.form.randomStr)},showPassword:function(){""==this.passwordType?this.passwordType="password":this.passwordType=""},handleRegister:function(){var e=this;this.checked?this.$refs.form.validate((function(t){t&&Object(l["j"])(e.form).then((function(t){var r=t.data;r.data?(e.$message({message:"恭喜你，注册成功",type:"success"}),e.$router.push("/login")):e.$message({message:r.msg,type:"warning"})})).catch((function(t){e.$message({type:"warning",message:t})}))})):this.$message("请先同意用户守则")},handleClose:function(){this.dialogVisible=!1},handleDagree:function(){this.dialogVisible=!1,this.checked=!0}}},b=g,v=(r("8da9"),r("2877")),y=Object(v["a"])(b,o,s,!1,null,"5019b20a",null);t["default"]=y.exports},bf67:function(e,t,r){},c1a1:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.$route.query.src?r("iframe",{ref:"iframe",staticClass:"iframe",attrs:{src:e.$route.query.src}}):r("iframe",{ref:"iframe",staticClass:"iframe",attrs:{src:e.urlPath}})])},s=[],n=(r("8e6e"),r("ac6a"),r("456d"),r("a481"),r("6b54"),r("ade3")),a=r("2f62"),i=r("323e"),c=r.n(i);r("a5d8");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={name:"AvueIframe",data:function(){return{urlPath:this.getUrlPath()}},created:function(){c.a.configure({showSpinner:!1})},mounted:function(){this.load(),this.resize()},props:["routerPath"],watch:{$route:function(){this.load()},routerPath:function(){this.urlPath=this.getUrlPath()}},components:u({},Object(a["c"])(["screen"])),methods:{show:function(){c.a.start()},hide:function(){c.a.done()},resize:function(){var e=this;window.onresize=function(){e.iframeInit()}},load:function(){var e=this;this.show();var t=!0;-1==this.$route.query.src.indexOf("?")&&(t=!1);var r=[];for(var o in this.$route.query)"src"!=o&&"name"!=o&&r.push("".concat(o,"= this.$route.query[key]"));r=r.join("&").toString(),this.$route.query.src=t?"".concat(this.$route.query.src).concat(r.length>0?"&list":""):"".concat(this.$route.query.src).concat(r.length>0?"?list":"");var s=5,n=setInterval((function(){s--,0==s&&(e.hide(),clearInterval(n))}),1e3);this.iframeInit()},iframeInit:function(){var e=this,t=this.$refs.iframe;t.attachEvent?t.attachEvent("onload",(function(){e.hide()})):t.onload=function(){e.hide()}},getUrlPath:function(){var e=window.location.href;return e=e.replace("/myiframe",""),e}}},p=f,d=(r("94de"),r("2877")),m=Object(d["a"])(p,o,s,!1,null,"e59e4d28",null);t["default"]=m.exports},c4fd:function(e,t,r){"use strict";r("ecc4")},c820:function(e,t,r){},d401:function(e,t,r){},d4e9:function(e,t,r){},ea78:function(e,t,r){},ecc4:function(e,t,r){},ef50:function(e,t,r){"use strict";r("c820")},fa05:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"retrieve-con"},[r("el-steps",{attrs:{active:e.active,"align-center":""}},[r("el-step",{attrs:{description:"输入账号"}}),r("el-step",{attrs:{description:"重置密码"}}),r("el-step",{attrs:{description:"完成"}})],1),0===e.active?r("el-form",{ref:"form",staticClass:"login-form",attrs:{"status-icon":"",rules:e.registerRule,model:e.form,"label-width":"0px"}},[r("el-form-item",{attrs:{prop:"phone"}},[r("a-input",{ref:"phone",attrs:{"auto-complete":"off",placeholder:"请输入手机号码",size:"large"},on:{blur:function(t){return e.checkphone()}},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}},[r("a-icon",{attrs:{slot:"prefix",type:"phone"},slot:"prefix"}),e.form.phone?r("a-icon",{attrs:{slot:"suffix",type:"close-circle"},on:{click:function(t){return e.emitEmpty("phone")}},slot:"suffix"}):e._e()],1)],1),r("el-form-item",{staticClass:"input-last",attrs:{prop:"code"}},[r("a-input-search",{attrs:{maxlength:4,"auto-complete":"off",placeholder:"请输入验证码",size:"large"},on:{search:e.handleSend},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}},[r("a-button",{class:[{display:e.msgKey}],attrs:{slot:"enterButton"},slot:"enterButton"},[e._v(e._s(e.msgText))])],1)],1),r("el-form-item",[r("a-button",{attrs:{type:"primary",size:"large",block:""},on:{click:function(t){e.active++,e.checkcode()}}},[e._v("下一步")])],1)],1):e._e(),1===e.active?r("el-form",{ref:"form",staticClass:"login-form",attrs:{"status-icon":"",rules:e.registerRule,model:e.form,"label-width":"0"}},[r("el-form-item",{attrs:{prop:"password"}},[r("a-input",{ref:"password",attrs:{type:e.passwordType,"auto-complete":"false",placeholder:"请输入密码",size:"large"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[r("a-icon",{attrs:{slot:"prefix",type:"key"},slot:"prefix"}),e.form.password?r("a-icon",{attrs:{slot:"suffix",type:e.passwordType?"eye-invisible":"eye"},on:{click:e.showPassword},slot:"suffix"}):e._e()],1)],1),r("el-form-item",{staticClass:"input-last",attrs:{prop:"cpassword"}},[r("a-input",{ref:"cpassword",attrs:{type:e.passwordType,"auto-complete":"false",placeholder:"确认你的密码",size:"large"},model:{value:e.form.cpassword,callback:function(t){e.$set(e.form,"cpassword",t)},expression:"form.cpassword"}},[r("a-icon",{attrs:{slot:"prefix",type:"key"},slot:"prefix"}),e.form.cpassword?r("a-icon",{attrs:{slot:"suffix",type:e.passwordType?"eye-invisible":"eye"},on:{click:e.showPassword},slot:"suffix"}):e._e()],1)],1),r("el-form-item",[r("a-button",{attrs:{type:"primary",size:"large",block:""},on:{click:function(t){return e.refreshpassword()}}},[e._v("确定")])],1)],1):e._e(),2===e.active?r("div",{staticClass:"login-menu"},[e._m(0),r("p",[e._v("重置密码成功"),r("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e._v("立即登录")])])]):e._e()],1)},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"center-image"},[r("img",{attrs:{src:"/img/finishLogin.jpg"}})])}],n=(r("8e6e"),r("ac6a"),r("456d"),r("7f7f"),r("ade3")),a=r("0e0b"),i=r("2f62"),c=r("7ded"),l=r("c54a");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p="获取验证码",d="${time}秒后重发",m=60,h={data:function(){var e=this,t=function(e,t,r){if(!t)return r(new Error("用户名不能为空"));Object(c["k"])(t).then((function(e){var t=e.data;t.data?r():r(new Error("该用户名已存在，无需新增。"))}))},r=function(e,t,r){Object(l["b"])(t)[0]?r(new Error(Object(l["b"])(t)[1])):Object(c["l"])(t).then((function(e){var t=e.data;t.data?r():r(new Error("该手机号已存在，无需新增。"))}))},o=function(t,r,o){""===r?o(new Error("请输入密码")):(""!==e.form.cpassword&&e.$refs.form.validateField("cpassword"),o())},s=function(t,r,o){""===r?o(new Error("请再次输入密码")):r!==e.form.password?o(new Error("两次输入密码不一致!")):o()};return{active:0,msgText:p,msgTime:m,msgKey:!1,form:{username:"",password:"",cpassword:"",phone:"",code:"",randomStr:""},code:{src:"/code",value:"",len:4,type:"image"},checked:!1,registerRule:{username:[{validator:t,trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur",validator:o},{min:6,message:"密码长度最少为6位",trigger:"blur"}],cpassword:[{trigger:"blur",validator:s},{min:6,message:"密码长度最少为6位",trigger:"blur"}],phone:[{required:!0,trigger:"blur",validator:r}]},passwordType:"password",passform:Object(c["d"])()}},created:function(){this.refreshCode()},mounted:function(){},computed:f({},Object(i["c"])(["tagWel"])),methods:{emitEmpty:function(e){this.$refs[e].focus(),this.form[e]=""},handleLogin:function(){this.$emit("tab-active","user")},handleSend:function(){var e=this;if(!this.msgKey){Object(c["b"])(this.form.phone).then((function(t){t.data.data?e.$message.success("验证码发送成功"):e.$message.error(t.data.msg)})),this.msgText=d.replace("${time}",this.msgTime),this.msgKey=!0;var t=setInterval((function(){e.msgTime--,e.msgText=d.replace("${time}",e.msgTime),0==e.msgTime&&(e.msgTime=m,e.msgText=p,e.msgKey=!1,clearInterval(t))}),1e3)}},refreshCode:function(){this.form.code="",this.form.randomStr=Object(a["l"])(this.code.length,!0),"text"===this.code.type?this.code.value=Object(a["l"])(this.code.len):this.code.src="".concat(this.codeUrl,"?randomStr=").concat(this.form.randomStr)},showPassword:function(){""==this.passwordType?this.passwordType="password":this.passwordType=""},handleRegister:function(){var e=this;this.$refs.form.validate((function(t){t&&Object(c["j"])(e.form).then((function(t){var r=t.data;r.data?(e.$message({message:"恭喜你，注册成功",type:"success"}),e.$router.push("/login")):e.$message({message:r.msg,type:"warning"})}))}))},checkcode:function(){this.form.code||(this.$message.error("验证码不能为空"),this.active--)},checkphone:function(){if(!this.form.phone)return this.$message.error("手机号不能为空"),!1;var e=/(^1[0-9]{10}$)|(^0\d{2,3}-?\d{7,8}$)/;e.test(this.form.phone)||this.$message.error("请输入正确的手机号码")},refreshpassword:function(){var e=this;return this.form.password?this.form.cpassword?this.form.password!==this.form.cpassword?(this.$message.error("密码不一致!"),!1):(this.passform.phone=this.form.phone,this.passform.vCode=this.form.code,this.passform.newPassword=this.form.password,this.passform.rePassword=this.form.cpassword,void Object(c["a"])(this.passform).then((function(t){var r=t.data;0===r.code?(e.$message.success("修改密码成功"),e.active++):e.$message.error(r.message)}))):(this.$message.error("请再次输入密码"),!1):(this.$message.error("请输入密码"),!1)}}},g=h,b=(r("1d4d"),r("363f"),r("2877")),v=Object(b["a"])(g,o,s,!1,null,"2d0d6b7f",null);t["default"]=v.exports},fbae:function(e,t,r){"use strict";r("3ee2")}}]);