(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22500a3f"],{"0d9c":function(t,e,a){"use strict";a("51bb")},"1c70":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return n})),a.d(e,"d",(function(){return s})),a.d(e,"c",(function(){return l}));var i=a("b5c6"),o="/tmlms/orgRelation";function r(t){return Object(i["a"])({url:"".concat(o,"/getPage"),method:"get",params:t})}function n(t){return Object(i["a"])({url:"".concat(o,"/create"),method:"post",data:t})}function s(t){return Object(i["a"])({url:"".concat(o,"/edit"),method:"post",data:t})}function l(t){return Object(i["a"])({url:"".concat(o,"/remove/").concat(t),method:"post"})}},"301f6":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"min-width":"1200px"},attrs:{id:"statisrics"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{display:"flex","flex-direction":"column"}},[a("div",{staticClass:"chart-title"},[t._v(t._s(t.orgTitle)+"渔业船员大数据统计墙")]),a("div",{staticClass:"chart-time"},[t._v("数据更新时间："+t._s(t.time))])]),a("div",{staticClass:"select-wrapper"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{staticStyle:{width:"180px"}},[a("el-cascader",{attrs:{placeholder:"",options:t.orgList,props:t.areaListProps,"change-on-select":"",disabled:t.disabled},on:{change:t.changeOrg},model:{value:t.areaValue,callback:function(e){t.areaValue=e},expression:"areaValue"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.levelShow,expression:"levelShow"}],staticStyle:{width:"120px"}},[a("el-select",{on:{change:t.onChangeLevel},model:{value:t.villageId,callback:function(e){t.villageId=e},expression:"villageId"}},t._l(t.levelList,(function(t){return a("el-option",{key:t.userId,attrs:{label:t.villageName,value:t.userId}})})),1)],1),a("el-form-item",{staticStyle:{width:"120px"}},[a("el-select",{attrs:{disabled:t.positionDisabled,placeholder:"职位船员"},on:{change:t.onChangePositionId},model:{value:t.positionId,callback:function(e){t.positionId=e},expression:"positionId"}},t._l(t.positionDicMap,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1)],1)])],1),a("el-row",[a("el-col",{attrs:{span:7}},[a("div",{staticClass:"chart-bg panel"},[a("div",[a("h2",[t._v(t._s(t.title)+"工资统计")])]),a("div",{style:{width:"100%",height:t.echartHeight+"px"},attrs:{id:"salaryTotal"}}),a("div",{staticClass:"panel-footer"})]),a("div",{staticClass:"chart-bg panel"},[a("h2",[t._v(t._s(t.contractTitle)+"劳动合同状态统计")]),a("div",{style:{width:"100%",height:t.echartHeight+"px"},attrs:{id:"contractToal"}}),a("div",{staticClass:"panel-footer"})]),a("div",{staticClass:"chart-bg panel"},[a("h2",[t._v("职务船员数量统计")]),a("div",{style:{width:"100%",height:t.echartHeight+"px"},attrs:{id:"certTotal"}}),a("div",{staticClass:"panel-footer"})])]),a("el-col",{staticClass:"all-crew",attrs:{span:10}},[a("div",{staticClass:"chart-bg panel font-height"},[a("el-row",[a("el-col",{staticClass:"font-yellow",attrs:{span:12}},[t._v(t._s(t.totalCrew))]),a("el-col",{staticClass:"font-yellow",attrs:{span:12}},[t._v(t._s(t.contractCrew))])],1),a("el-row",{staticClass:"el-row-text"},[a("el-col",{staticClass:"font-text",attrs:{span:12}},[t._v("已上船登记船员")]),a("el-col",{staticClass:"font-text",attrs:{span:12}},[t._v("已签订劳务协议船员")])],1),a("el-row",[a("el-col",{staticClass:"font-yellow",attrs:{span:8}},[t._v(t._s(t.counts.shipStandardCertCount))]),a("el-col",{staticClass:"font-yellow",attrs:{span:8}},[t._v("0")]),a("el-col",{staticClass:"font-yellow",attrs:{span:8}},[t._v(t._s(t.counts.shipCount))])],1),a("el-row",[a("el-col",{staticClass:"font-text",attrs:{span:8}},[t._v("应配职务船员")]),a("el-col",{staticClass:"font-text",attrs:{span:8}},[t._v("应配船员")]),a("el-col",{staticClass:"font-text",attrs:{span:8}},[t._v("渔船数量")])],1),a("el-row",[a("el-col",{staticClass:"font-yellow",attrs:{span:8}},[t._v(t._s(t.counts.shipRealCertCount))]),a("el-col",{staticClass:"font-yellow",attrs:{span:8}},[t._v("0")]),a("el-col",{staticClass:"font-yellow",attrs:{span:8}},[t._v(t._s(t.counts.upShipCount))])],1),a("el-row",[a("el-col",{staticClass:"font-text",attrs:{span:8}},[t._v("实配职务船员")]),a("el-col",{staticClass:"font-text",attrs:{span:8}},[t._v("实配船员")]),a("el-col",{staticClass:"font-text",attrs:{span:8}},[t._v("今年上船登记船员")])],1)],1),a("div",{style:{width:"100%",height:"600px"},attrs:{id:"mapChina"}}),a("div",{staticClass:"panel-footer"}),a("div",{staticClass:"chart-bg panel"},[a("h2",[t._v("船东统计")]),a("div",{style:{width:"100%",height:"290px"},attrs:{id:"peopleTotal"}}),a("div",{staticClass:"panel-footer"})])]),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"chart-bg panel"},[a("h2",[t._v(t._s(t.title)+"年龄分布")]),a("div",{style:{width:"100%",height:t.echartHeight+"px"},attrs:{id:"ageTotal"}}),a("div",{staticClass:"panel-footer"})]),a("div",{staticClass:"chart-bg panel"},[a("h2",[t._v(t._s(t.title)+"籍贯分布")]),a("div",{style:{width:"100%",height:t.echartHeight+"px"},attrs:{id:"provinceTotal"}}),a("div",{staticClass:"panel-footer"})]),a("div",{staticClass:"chart-bg panel"},[a("h2",[t._v("渔船船龄分布")]),a("div",{style:{width:"100%",height:t.echartHeight+"px"},attrs:{id:"shipAge"}}),a("div",{staticClass:"panel-footer"})])])],1)],1)},o=[],r=(a("8e6e"),a("a481"),a("96cf"),a("1da1")),n=(a("c5f6"),a("7f7f"),a("456d"),a("ac6a"),a("ade3")),s=a("2f62"),l=a("23d6"),c=a("1c70"),h=a("a19d"),d=a("c1df"),u=a.n(d);function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={data:function(){return{time:"",counts:{upShipCount:0,shipCount:0,shipRealCertCount:0,shipStandardCertCount:0},levelShow:!1,levelList:[],title:"职务船员",contractTitle:"",positionId:"",villageId:"",positionDicMap:[{label:"全部",value:""}],areaListProps:{value:"id",label:"orgRelationName",children:"children"},echartHeight:"332",disabled:!1,positionDisabled:!1,areaValue:[],orgList:[],orgId:21,orgTitle:"",chartData:[],certTitle:[],certTitleName:[],certTitleNum:[],province:[],getProvince:[],localProvince:[],salary:[],salaryName:["10K以下","10~12","12~15","15~20","20以上"],salaryValue:[],shipName:["0~5年","6~10年","11~15年","16~20年","20年以上"],shipValue:[],age:[],contract:[],contractStatus:[],contractNum:[],mapProvice:[],provinceTotal:"",ageTotal:"",salaryTotal:"",contractToal:"",peopleTotal:"",mapChina:"",shipAge:"",statusDict:[{lable:"",value:"全部"},{lable:0,value:"未审核"},{lable:1,value:"合同成立"},{lable:2,value:"未通过审核"},{lable:3,value:"合同纠纷"},{lable:4,value:"合同解除"},{lable:5,value:"合同过期"},{lable:6,value:"未签纸质合同"}],totalCrew:0,contractCrew:0}},computed:g({},Object(s["c"])(["dictGroup"])),mounted:function(){this.drawLine()},created:function(){this.positionDicMap=this.positionDicMap.concat(this.dictGroup["tyb_resume_position"]),this.getPageArea(),this.getTime()},methods:{getTime:function(){this.time=u()().format("lll")},getCountCrewVillage:function(){var t=this;Object(h["d"])({orgRelationId:this.orgId,villageId:this.villageId,positionId:this.positionId}).then((function(e){var a;a=e.data.data,Object.keys(a).forEach((function(e){var i=parseInt(a[e]);t.totalCrew=t.totalCrew+i,"1"==e&&(t.contractCrew=i)})),t.disabled=!1}))},getCrewOrgRelationVillage:function(){var t=this;Object(h["f"])({villageId:this.villageId}).then((function(e){t.getCrewNumber(e),t.getCrewAge(e),t.getShipOwner(e),t.getSalary(e),t.getShipAge(e),t.getContract(e),t.getNativePlace(e)}))},onChangeLevel:function(){this.totalCrew=0,this.contractCrew=0,this.positionId="",this.villageId?(this.getCrewOrgRelationVillage(),this.getCountCrewVillage(),this.getShipCountVillage()):(this.findName(this.orgList),this.getPosition(),this.getTotalNum(),this.totalCrew=0,this.contractCrew=0,this.getShipCount(),this.positionId&&this.getPositionInforByOrg()),this.getTime()},onChangePositionId:function(t){var e=this,a=this.positionDicMap.filter((function(e){return e.value===t}));this.villageId?a&&""!==a[0].value?(this.contractTitle=a[0].label,this.title=a[0].label,this.positionDisabled=!0,Object(h["i"])({positionId:this.positionId,orgRelationId:this.areaValue[this.areaValue.length-1],villageId:this.villageId}).then((function(t){e.positionDisabled=!1,e.setSalary(),e.setCrewAge(),e.setContract(),e.setNativePlace(),e.getSalary(t),e.getCrewAge(t),e.getContract(t),e.getNativePlace(t,!1)})).catch((function(){e.positionDisabled=!1}))):(this.contractTitle="",this.title="职务船员",this.getPosition(),this.drawLine()):a&&""!==a[0].value?(this.contractTitle=a[0].label,this.title=a[0].label,this.positionDisabled=!0,this.getPositionInforByOrg()):(this.contractTitle="",this.title="职务船员",this.getPosition(),this.drawLine()),this.getTime()},getPositionInforByOrg:function(){var t=this;Object(h["h"])({positionId:this.positionId,orgRelationId:this.areaValue[this.areaValue.length-1]}).then((function(e){t.positionDisabled=!1,t.setSalary(),t.setCrewAge(),t.setContract(),t.setNativePlace(),t.getSalary(e),t.getCrewAge(e),t.getContract(e),t.getNativePlace(e,!1)})).catch((function(){t.positionDisabled=!1}))},getPageArea:function(){var t=this;Object(c["b"])({current:1,size:100}).then((function(e){var a=e.data;0===a.code&&(t.orgList=a.data.records,t.areaValue=[t.orgList[0].id],t.changeOrg(t.areaValue))}))},findName:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=0,a=t.length;e<a;e++){if(t[e].id===this.orgId){this.orgTitle=t[e].orgRelationName;break}var i=t[e].children;i&&i.length>0&&this.findName(i)}},changeOrg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.orgId=t[t.length-1],this.findName(this.orgList),this.disabled=!0,this.getPosition(),this.getTotalNum(),this.getShipCount(),this.totalCrew=0,this.contractCrew=0,this.positionId="",this.contractTitle="",this.title="职务船员";var e=this.getOrgInfo(this.orgList,this.orgId);this.levelShow=e&&!(e.children&&e.children.length>0),this.levelShow&&this.getOrgList(this.orgId),this.villageId="",this.getTime()},getShipCount:function(){var t=this;Object(h["j"])({orgRelationId:this.orgId}).then((function(e){var a=e.data;0===a.code&&(t.counts.upShipCount=a.data.upShipCount,t.counts.shipCount=a.data.shipCount,t.counts.shipRealCertCount=a.data.shipRealCert["0_0"],t.counts.shipStandardCertCount=a.data.shipStandardCert["0_0"])}))},getShipCountVillage:function(){var t=this;Object(h["k"])({orgRelationId:this.orgId,villageId:this.villageId}).then((function(e){var a=e.data;0===a.code&&(t.counts.upShipCount=a.data.upShipCount,t.counts.shipCount=a.data.shipCount,t.counts.shipRealCertCount=a.data.shipRealCert["0_0"],t.counts.shipStandardCertCount=a.data.shipStandardCert["0_0"])}))},getOrgList:function(t){var e=this;Object(h["l"])({id:t,page:100}).then((function(t){var a=t.data;0===a.code&&(e.levelList=[{villageName:"全部",userId:""}],e.levelList=e.levelList.concat(a.data.records))}))},getOrgInfo:function(t,e){for(var a=0,i=t.length;a<i;a++){if(t[a].id===e)return t[a];var o=t[a].children;if(o&&o.length>0){var r=this.getOrgInfo(o,e);if(r)return r}}},getCrewNumber:function(t){var e=this;this.certTitle=t.data.data.crew.filter((function(t){if(t.position_id&&"0"!==t.position_id)return t})),this.certTitle=this.certTitle.map((function(t){return e.$store.getters.dictGroup.tyb_resume_position.map((function(e){t.position_id==e.value&&(t.position_id=e.label)})),{value:t.number,name:t.position_id}})),this.certTitleName=this.certTitle.map((function(t){return t.name})),this.certTitleNum=this.certTitle.map((function(t){return t.value})),this.certTotal.setOption({xAxis:[{data:this.certTitleName}],series:[{name:"职务船员",data:this.certTitleNum}]})},setCrewNumber:function(){this.certTotal=this.$echarts.init(document.getElementById("certTotal")),this.certTotal.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:[],axisLabel:{color:"rgba(255,255,255,.7)",interval:0,rotate:45},axisTick:{alignWithLabel:!0},axisLine:{show:!1}},yAxis:{type:"value",axisLabel:{textStyle:{color:"rgba(255,255,255,.6)",fontSize:"12"}},axisLine:{lineStyle:{color:"rgba(255,255,255,.1)"}},splitLine:{lineStyle:{color:"rgba(255,255,255,.1)"}}},series:[{name:"职务船员数量",barWidth:"35%",data:[],type:"bar",itemStyle:{normal:{color:this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#01ECFD"},{offset:1,color:"#5AB7FE"}]),barBorderRadius:[20,20,0,0]}}}]})},getSalary:function(t){this.salaryValue=t.data.data.salary,this.salaryTotal.setOption({xAxis:{data:this.salaryName},series:[{data:this.salaryValue}]})},setSalary:function(){this.salaryTotal=this.$echarts.init(document.getElementById("salaryTotal")),this.salaryTotal.setOption({color:["#ed3f35"],tooltip:{trigger:"axis"},xAxis:{type:"category",data:[],axisTick:{show:!1},axisLabel:{color:"rgba(255,255,255,.7)",interval:0},axisLine:{show:!1}},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"rgba(255,255,255,.7)"},splitLine:{lineStyle:{color:"#012f4a"}}},series:[{name:"工资统计",data:[],type:"line",smooth:!0}]})},getCrewAge:function(t){var e=this;this.age=[],Object.keys(t.data.data.age).forEach((function(a){var i={};switch(a){case"0":i.value=t.data.data.age["0"],i.name="30及以下";break;case"1":i.value=t.data.data.age["1"],i.name="31~40";break;case"2":i.value=t.data.data.age["2"],i.name="41~50";break;case"3":i.value=t.data.data.age["3"],i.name="51~60";break;case"4":i.value=t.data.data.age["4"],i.name="60及以上",i.itemStyle={color:e.$echarts.graphic.LinearGradient(1,0,0,0,[{offset:0,color:"#F74437"},{offset:1,color:"#FFB171"}])};break;default:break}e.age.push(i)})),this.ageTotal.setOption({yAxis:[{},{data:this.age}],series:[{data:this.age},{}]})},setCrewAge:function(){this.ageTotal=this.$echarts.init(document.getElementById("ageTotal")),this.ageTotal.setOption({tooltip:{},grid:[{left:"10%",top:"12%",right:"5%",bottom:"8%",containLabel:!0}],xAxis:[{show:!1}],yAxis:[{inverse:!0,axisTick:"none",axisLine:"none",offset:"27",axisLabel:{textStyle:{color:"rgba(187, 214, 236, 1)",fontSize:"16"}},data:["≤30","31~40","41~50","51~60","≥60"]},{show:!0,inverse:!0,data:[],axisLine:{show:!1},splitLine:{show:!1},axisTick:{show:!1},axisLabel:{textStyle:{color:"rgba(187, 214, 236, 1)",fontSize:"16"}}}],series:[{name:"年龄分布",type:"bar",yAxisIndex:0,data:[],label:{normal:{show:!1,formatter:function(t){return console.log(t),t.value/2+"%"},textStyle:{color:"#ffffff",fontSize:"16"}},emphasis:{show:!1}},barWidth:12,itemStyle:{normal:{color:this.$echarts.graphic.LinearGradient(1,0,0,0,[{offset:0,color:"#01ECFD"},{offset:1,color:"#5AB7FE"}]),borderRadius:[0,20,20,0]}},z:2},{tooltip:{show:!1},name:"年龄分布",type:"bar",yAxisIndex:1,data:[3e3,3e3,3e3,3e3,3e3,3e3],barWidth:12,itemStyle:{normal:{color:"rgba(237, 237, 237, 0.1)",borderRadius:[0,100,100,0]}},z:1}]})},getContract:function(t){var e=this;this.contractStatus=[],this.contract=t.data.data.contract,this.contractStatus=t.data.data.contract.map((function(t){return e.statusDict.forEach((function(e){e.lable==t.status&&(t.status=e.value)})),t.status}));var a=0;t.data.data.contract.forEach((function(t){a+=parseInt(t.number)})),this.contractNum=[],this.contractNum=t.data.data.contract.map((function(t){return t.number=Number(t.number/a*100).toFixed(0),t.number})),this.contractToal.setOption({yAxis:[{data:this.contractStatus},{data:this.contractStatus}],series:[{data:this.contractNum}]})},setContract:function(){this.contractToal=this.$echarts.init(document.getElementById("contractToal"));var t=["#1089E7","#F57474","#56D0E3","#F8B448","#8B78F6","#1089E7"];this.contractToal.setOption({grid:{top:"10%",left:"25%",bottom:"10%"},xAxis:{show:!1},yAxis:[{show:!0,data:[],inverse:!0,axisLine:{show:!1},splitLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#fff",padding:5,rich:{lg:{backgroundColor:"#339911",color:"#fff",borderRadius:15,align:"center",width:15,height:15}}}},{show:!1,inverse:!0,data:[]}],series:[{name:"条",type:"bar",yAxisIndex:0,data:[],barCategoryGap:50,barWidth:10,itemStyle:{normal:{barBorderRadius:20,color:function(e){var a=t.length;return t[e.dataIndex%a]}}},label:{normal:{show:!0,position:"inside",formatter:"{c}%"}}},{name:"框",type:"bar",yAxisIndex:1,barCategoryGap:50,data:[100,100,100,100,100,100],barWidth:15,itemStyle:{normal:{color:"none",borderColor:"#00c1de",borderWidth:3,barBorderRadius:15}}}]})},getShipAge:function(t){this.shipValue=t.data.data.ship,this.shipAge.setOption({xAxis:[{data:this.shipName}],series:[{data:this.shipValue}]})},setShipAge:function(){this.shipAge=this.$echarts.init(document.getElementById("shipAge")),this.shipAge.setOption({tooltip:{trigger:"axis",axisPointer:{lineStyle:{color:"#29FFF7",type:"solid"}},backgroundColor:"rgba(41, 255, 247, .9)",padding:[5,10],formatter:"{c0}艘",textStyle:{color:"#fff"},borderWidth:0},legend:{top:"0%",textStyle:{color:"rgba(255,255,255,.5)",fontSize:"12"},show:!1},grid:{left:"10",top:"30",right:"10",bottom:"10",containLabel:!0},xAxis:[{boundaryGap:!0,type:"category",axisLabel:{textStyle:{color:"rgba(255,255,255,.6)",fontSize:12},interval:0},axisLine:{lineStyle:{color:"rgba(255,255,255,.2)"}},data:[]},{axisPointer:{show:!1},axisLine:{show:!1},position:"bottom",offset:20}],yAxis:[{type:"value",axisTick:{show:!1},axisLine:{lineStyle:{color:"rgba(255,255,255,.1)"}},axisLabel:{textStyle:{color:"rgba(255,255,255,.6)",fontSize:12}},splitLine:{lineStyle:{color:"rgba(255,255,255,.1)"}}}],series:[{name:"船龄",type:"line",smooth:!0,symbol:"circle",symbolSize:10,showSymbol:!1,lineStyle:{normal:{color:"#29FFF7",width:2}},areaStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(41, 255, 247, 0.9)"},{offset:.8,color:"rgba(41, 255, 247, 0.2)"}],!1),shadowColor:"rgba(0, 0, 0, 0.1)"}},itemStyle:{color:"#FFFFFF",borderColor:"rgba(41, 255, 247, 1)",borderWidth:4},data:[]}]})},getNativePlace:function(t){var e=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.getProvince=[],this.getProvince=t.data.data.province.map((function(t){return{value:t.number,name:t.province_id}})),this.getProvince.length){var i=[];i=this.getProvince.map(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["b"])(e.name).then((function(t){if(t.data.data.name)return t.data.data.name}));case 2:return e.name=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.province=[],i.map((function(t){t.then((function(t){e.province.push(t)})).then((function(){e.provinceTotal.setOption({legend:{data:e.province.name},series:[{name:"籍贯分布",data:e.province}]}),e.mapProvice=JSON.parse(JSON.stringify(e.province));var t=/省|市/g,i=/自治区/;e.mapProvice=e.mapProvice.map((function(e){return e.name=e.name.replace(t,""),i.test(e.name)&&(e.name=e.name.substring(0,2)),e})),a&&e.chinaMap(e.mapProvice)}))}))}else{this.provinceTotal.setOption({legend:{data:this.province.name},series:[{name:"籍贯分布",data:this.province}]}),this.mapProvice=JSON.parse(JSON.stringify(this.province));var o=/省|自治区|市/g;this.mapProvice=this.mapProvice.map((function(t){return t.name=t.name.replace(o,""),t})),a&&this.chinaMap(this.mapProvice)}},setNativePlace:function(){this.provinceTotal=this.$echarts.init(document.getElementById("provinceTotal")),this.provinceTotal.setOption({color:["#FFB171","#E45857","#2936ED","#9EFF81","#29FFF7","#FCFF83","#FCFF83","#FF74DF","#8B78F6","#4480F8"],tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",top:"bottom",textStyle:{color:"#ffffff"},icon:"rect",itemWidth:5,itemHeight:5,data:[],width:"50%"},series:[{name:"籍贯分布",type:"pie",radius:["10%","60%"],center:["50%","42%"],data:[],label:{fontSize:14},labelLine:{length:10,length2:10}}]})},getShipOwner:function(t){var e=t.data.data.shipHaver;this.peopleTotal.setOption({radar:{indicator:function(){var t=[];return e.forEach((function(e){t.push({text:"".concat(e.number,"艘渔船").concat(e.havers,"人"),max:1e3})})),t}()},series:[{data:[{name:"船东统计",value:function(){var t=[];return t=e.map((function(t){return t.havers})),t}()}]}]})},setShipOwner:function(){this.peopleTotal=this.$echarts.init(document.getElementById("peopleTotal")),this.peopleTotal.setOption({tooltip:{trigger:"axis"},radar:{indicator:[],center:["50%","50%"],radius:150,axisName:{color:"#f66"},splitLine:{lineStyle:{color:"rgba(43, 196, 243, .5)"}},splitArea:{show:!1},axisLine:{lineStyle:{color:"rgba(43, 196, 243, .5)"}}},series:[{name:"船东统计",type:"radar",itemStyle:{color:"rgba(43, 196, 243)"},emphasis:{lineStyle:{width:4}},areaStyle:{color:"rgba(43, 196, 243,.5)"},data:[]}]})},getTotalNum:function(){var t=this;Object(h["c"])(this.orgId).then((function(e){var a;a=e.data.data,t.totalCrew=0,Object.keys(a).forEach((function(e){var i=parseInt(a[e]);t.totalCrew=t.totalCrew+i,"1"==e&&(t.contractCrew=i)})),t.disabled=!1}))},getPosition:function(){var t=this;this.age=[],this.province=[],Object(h["e"])(this.orgId).then((function(e){t.disabled=!1,t.getCrewNumber(e),t.getCrewAge(e),t.getShipOwner(e),t.getSalary(e),t.getShipAge(e),t.getContract(e),t.getNativePlace(e)}))},chinaMap:function(t){this.mapChina=this.$echarts.init(document.getElementById("mapChina"));var e={tooltip:{trigger:"item"},legend:{inactiveBorderColor:"rgba(204, 204, 204, 0.5)",inactiveBorderWidth:10,data:[{name:"疫情高风险区域",icon:"circle",textStyle:{fontSize:12,color:"#fff"},itemStyle:{borderWidth:10,borderColor:"rgba(253, 101, 101, .3)"}},{name:"疫情中风险区域",icon:"circle",textStyle:{fontSize:12,color:"#fff"},itemStyle:{borderWidth:10,borderColor:"rgba(255, 177, 113, .3)"}},{name:"疫情低风险区域",textStyle:{fontSize:12,color:"#fff"},icon:"circle",itemStyle:{borderWidth:10,borderColor:"rgba(1, 236, 253, .3)"}}],textStyle:{color:"black"},orient:"vertical",x:"left",y:"top"},visualMap:{show:!0,textStyle:{color:"#fff"},x:"left",y:"bottom",splitList:[{start:1e3},{start:500,end:999},{start:200,end:499},{start:100,end:199},{start:50,end:99},{start:1,end:49}],color:["#5475f5","#9feaa5","#85daef","#74e2ca","#e6ac53","#9fb5ea"],seriesIndex:0},geo:{top:"10%",type:"map",map:"china",roam:!1,enter:[104.114129,37.550339],itemStyle:{normal:{areaColor:"rgba(43, 196, 243, 0.42)",borderColor:"rgba(43, 196, 243, 1)",borderWidth:1}},label:{show:!0,color:"#FFF"}},series:[{name:"籍贯分布",type:"map",geoIndex:0,label:{normal:{show:!0,fontSize:"10",color:"rgba(255,255,255)"},emphasis:{show:!1}},itemStyle:{normal:{areaColor:"rgba(43, 196, 243, 0.42)",borderColor:"rgba(43, 196, 243, 1)",borderWidth:1}},data:t},{name:"疫情高风险区域",type:"effectScatter",coordinateSystem:"geo",data:[[98.582245,24.440102],[119.754812,49.168796]],symbolSize:12,visualMap:!1,emphasis:{scale:!0},itemStyle:{color:"rgba(253, 101, 101, 1)"},showEffectOn:"render",rippleEffect:{brushType:"stroke"},encode:{tooltip:[0,1]}},{name:"疫情中风险区域",type:"effectScatter",coordinateSystem:"geo",data:[[113.270216,23.135237],[121.630872,29.865922],[121.479696,31.235458],[126.669513,45.747934]],symbolSize:12,visualMap:!1,emphasis:{scale:!0},itemStyle:{color:"rgba(255, 177, 113, 1)"},showEffectOn:"render",rippleEffect:{brushType:"stroke"},encode:{tooltip:[0,1]}},{name:"疫情低风险区域",type:"effectScatter",coordinateSystem:"geo",data:[[106.634858,26.652434],[123.472721,41.683052],[118.801156,32.04554],[113.631708,34.752861],[114.521403,38.048292],[112.946939,28.232687],[112.556197,37.876857],[114.185398,22.287344],[101.784562,36.623236],[117.208087,39.091091],[116.731394,39.910433],[91.123993,29.654594],[126.556065,43.843414],[106.558234,29.569046],[106.26545,38.477905],[87.635087,43.79934],[113.580586,22.1538],[115.8226,28.642675],[117.02702,36.674443],[114.348174,30.551647],[103.840755,36.066746],[103.840755,36.066746],[108.37878,22.848207],[108.960636,34.275514],[120.650074,24.160554],[104.082823,30.657042],[117.233674,31.826972],[110.206684,20.052127]],symbolSize:12,visualMap:!1,emphasis:{scale:!0},itemStyle:{color:"rgba(1, 236, 253, 1)"},showEffectOn:"render",rippleEffect:{brushType:"stroke"},encode:{tooltip:[0,1]}}]};this.mapChina.setOption(e)},drawLine:function(){this.setCrewNumber(),this.setSalary(),this.setCrewAge(),this.setShipOwner(),this.setContract(),this.setShipAge(),this.setNativePlace()}}},m=f,b=(a("0d9c"),a("2877")),v=Object(b["a"])(m,i,o,!1,null,"bc510b94",null);e["default"]=v.exports},"51bb":function(t,e,a){},a19d:function(t,e,a){"use strict";a.d(e,"g",(function(){return r})),a.d(e,"h",(function(){return n})),a.d(e,"e",(function(){return s})),a.d(e,"c",(function(){return l})),a.d(e,"l",(function(){return c})),a.d(e,"f",(function(){return h})),a.d(e,"d",(function(){return d})),a.d(e,"i",(function(){return u})),a.d(e,"j",(function(){return p})),a.d(e,"k",(function(){return g})),a.d(e,"a",(function(){return f})),a.d(e,"b",(function(){return m}));var i=a("b5c6"),o="/tmlms/statistic";function r(t){return Object(i["a"])({url:"".concat(o,"/position?positionId=").concat(t),method:"get",params:t})}function n(t){return Object(i["a"])({url:"".concat(o,"/positionOrgRelation"),method:"get",params:t})}function s(t){return Object(i["a"])({url:"".concat(o,"/crewOrgRelation?orgRelationId=").concat(t),method:"get",params:t})}function l(t){return Object(i["a"])({url:"".concat(o,"/countOrgRelationCrew?orgRelationId=").concat(t),method:"get",params:t})}function c(t){return Object(i["a"])({url:"/tmlms/orgRelation/village_page",method:"get",params:t})}function h(t){return Object(i["a"])({url:"".concat(o,"/crewOrgRelationVillage"),method:"get",params:t})}function d(t){return Object(i["a"])({url:"".concat(o,"/vi_countOrgRelationCrew"),method:"get",params:t})}function u(t){return Object(i["a"])({url:"".concat(o,"/positionOrgRelationVillage"),method:"get",params:t})}function p(t){return Object(i["a"])({url:"".concat(o,"/shipCount"),method:"get",params:t})}function g(t){return Object(i["a"])({url:"".concat(o,"/shipCountVillage"),method:"get",params:t})}function f(t){return Object(i["a"])({url:"/tmlms/statistic/crewOrgRelationNew?orgRelationId=".concat(t),method:"get",params:t})}function m(t){return Object(i["a"])({url:"/tmlms/statistic/crewOrgRelationVillageNew?villageId=".concat(t),method:"get",params:t})}}}]);