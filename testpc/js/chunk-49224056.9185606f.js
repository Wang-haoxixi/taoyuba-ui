(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49224056"],{"0b89":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"agent-add"},[r("basic-container",[t.$route.query.userId?t._e():r("h1",[t._v(t._s(t.$route.query.see?"查看":t.$route.query.edit?"编辑":"新增")+"船员信息")]),t.$route.query.userId?r("h1",[t._v("完善个人信息")]):t._e(),r("el-form",{ref:"form",attrs:{model:t.form,rules:t.$route.query.shipCrew?t.shipCrewRules:t.rules,"label-width":"150px",size:"small",disabled:1===t.type}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"船名号：",prop:"shipName"}},[r("el-input",{model:{value:t.form.shipName,callback:function(e){t.$set(t.form,"shipName",e)},expression:"form.shipName"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"个人姓名：",prop:"realName"}},[r("el-input",{model:{value:t.form.realName,callback:function(e){t.$set(t.form,"realName",e)},expression:"form.realName"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"联系电话：",prop:"phone"}},[r("el-input",{model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"性别",prop:"gender"}},[r("el-radio",{attrs:{label:1},model:{value:t.form.gender,callback:function(e){t.$set(t.form,"gender",e)},expression:"form.gender"}},[t._v("男")]),r("el-radio",{attrs:{label:2},model:{value:t.form.gender,callback:function(e){t.$set(t.form,"gender",e)},expression:"form.gender"}},[t._v("女")])],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"身份证号码：",prop:"idcard"}},[r("el-select",{attrs:{disabled:t.$route.query.edit,placeholder:"请选择",filterable:"",remote:"",maxlength:"20",loading:t.loading,"allow-create":"",clearable:"","remote-method":t.getidcardList},on:{change:t.idcardChange},model:{value:t.form.idcard,callback:function(e){t.$set(t.form,"idcard",e)},expression:"form.idcard"}},t._l(t.idcards,(function(t){return r("el-option",{key:t.id,attrs:{label:t.idcard+"(手机号："+t.phone+")",value:t}})})),1)],1)],1),r("el-col",{attrs:{span:12}},[r("iep-form-item",{staticClass:"form-half",attrs:{prop:"birthday","label-name":"出生日期"}},[r("iep-date-picker",{attrs:{type:"date",placeholder:"选择日期",readonly:""},model:{value:t.form.birthday,callback:function(e){t.$set(t.form,"birthday",e)},expression:"form.birthday"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"籍贯地区：",prop:"districtId"}},[r("el-select",{staticStyle:{width:"33%!important"},attrs:{placeholder:"省级地区"},on:{change:function(e){return t.choseProvince(t.form.provinceId)}},model:{value:t.form.provinceId,callback:function(e){t.$set(t.form,"provinceId",e)},expression:"form.provinceId"}},t._l(t.province,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.areaCode,prop:"provinceId"}})})),1),r("el-select",{staticStyle:{width:"33%!important"},attrs:{placeholder:"市级地区"},on:{change:function(e){return t.choseCity(t.form.cityId)}},model:{value:t.form.cityId,callback:function(e){t.$set(t.form,"cityId",e)},expression:"form.cityId"}},t._l(t.city,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.areaCode,prop:"cityId"}})})),1),r("el-select",{staticStyle:{width:"33%!important"},attrs:{placeholder:"区级地区"},model:{value:t.form.districtId,callback:function(e){t.$set(t.form,"districtId",e)},expression:"form.districtId"}},t._l(t.district,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.areaCode,prop:"districtId"}})})),1)],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"国籍",prop:"nationality"}},[r("el-input",{model:{value:t.form.nationality,callback:function(e){t.$set(t.form,"nationality",e)},expression:"form.nationality"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"民族",prop:"nation"}},[r("el-select",{attrs:{placeholder:"请输入民族"},model:{value:t.form.nation,callback:function(e){t.$set(t.form,"nation",e)},expression:"form.nation"}},t._l(t.nationals,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})})),1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"家庭地址：",prop:"address"}},[r("el-input",{model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"身份证正面照片：",prop:"photoFront"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/admin/file/upload/avatar","show-file-list":!1,"on-success":t.handleAvatarSuccessFront,headers:t.headers,accept:"image/*"}},[t.form.photoFront?r("img",{staticClass:"avatar",attrs:{src:t.form.photoFront}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1)],1),r("div",{staticStyle:{"text-align":"center"}},[t.$route.query.see?t._e():r("el-button",{on:{click:t.save}},[t._v("提交")]),t.manager?r("el-button",{on:{click:function(e){return t.$router.push({name:"listcrewSyslog"})}}},[t._v("返回")]):t._e()],1)],1)],1)},n=[],o=(r("8e6e"),r("456d"),r("a481"),r("ade3")),i=(r("6762"),r("2fdb"),r("53ca")),c=(r("6b54"),r("34ef"),r("28a5"),r("7f7f"),r("ac6a"),r("96cf"),r("1da1")),d=(r("4917"),r("c533b")),s=r("5612"),u=r("b440"),l=r("e9bd"),m=r("7ded"),f=r("4525"),p=r("e420"),h=r("4360"),b=r("b047"),g=r.n(b),y=r("2f62");function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var j={mixins:[p["a"]],data:function(){this.getidcardList=g()(this.getidcardList,800);var t=function(t,e,r){""===e?r(new Error("请输入联系电话")):e.match(/^(0|86|17951)?(13[0-9]|15[012356789]|17[0-9]|18[0-9]|14[0-9]|19[0-9]|16[0-9])[0-9]{8}$/)?r():r(new Error("请输入正确的手机号码!"))};return{certificateColumns:l["a"],form:{address:"",idcard:"",realName:"",birthday:"",nation:"",gender:1,isTrain:0,districtId:"",remark:"",positionId:"",nationality:"中国",speciality:"",photoFront:"",photoReverse:"",idcardPhoto:"",facePhoto:"",cityId:"",contactPhone:"",contactName:"",phone:"",applyType:"",certList:[],workStatus:0,maritalStatus:0,salary:"",preAddress:"",eduDegree:"",workExprience:"",certPhoto:""},agent:{businessLicense:""},position:[],province:[],city:[],district:[],nationals:[{id:1,name:"汉族"},{id:2,name:"蒙古族"},{id:3,name:"回族"},{id:4,name:"藏族"},{id:5,name:"维吾尔族"},{id:6,name:"苗族"},{id:7,name:"彝族"},{id:8,name:"壮族"},{id:9,name:"布依族"},{id:10,name:"朝鲜族"},{id:11,name:"满族"},{id:12,name:"侗族"},{id:13,name:"瑶族"},{id:14,name:"白族"},{id:15,name:"土家族"},{id:16,name:"哈尼族"},{id:17,name:"哈萨克族"},{id:18,name:"傣族"},{id:19,name:"黎族"},{id:20,name:"傈僳族"},{id:21,name:"佤族"},{id:22,name:"畲族"},{id:23,name:"高山族"},{id:24,name:"拉祜族"},{id:25,name:"水族"},{id:26,name:"东乡族"},{id:27,name:"纳西族"},{id:28,name:"景颇族"},{id:29,name:"柯尔克孜族"},{id:30,name:"土族"},{id:31,name:"达翰尔族"},{id:32,name:"么佬族"},{id:33,name:"羌族"},{id:34,name:"布朗族"},{id:35,name:"撒拉族"},{id:36,name:"毛南族"},{id:37,name:"仡佬族"},{id:38,name:"锡伯族"},{id:39,name:"阿昌族"},{id:40,name:"普米族"},{id:41,name:"塔吉克族"},{id:42,name:"怒族"},{id:43,name:"乌孜别克族"},{id:44,name:"俄罗斯族"},{id:45,name:"鄂温克族"},{id:46,name:"德昂族"},{id:47,name:"保安族"},{id:48,name:"裕固族"},{id:49,name:"京族"},{id:50,name:"塔塔尔族"},{id:51,name:"独龙族"},{id:52,name:"鄂伦春族"},{id:53,name:"赫哲族"},{id:54,name:"门巴族"},{id:55,name:"珞巴族"},{id:56,name:"基诺族"},{id:57,name:"穿青人"}],rules:{realName:[{required:!0,message:"请填写个人姓名",trigger:"blur"}],contactName:[{required:!0,message:"请填联系人",trigger:"blur"}],gender:[{required:!0,message:"请填写性别",trigger:"blur"}],idcard:[{required:!0,message:"请填写身份证信息",trigger:"blur"}],birthday:[{required:!0,message:"请填写生日信息",trigger:"blur"}],nationality:[{required:!0,message:"请填写国籍",trigger:"blur"}],contactPhone:[{required:!0,message:"请填写联系电话",trigger:"blur"}],positionId:[{required:!0,message:"请填写职位",trigger:"blur"}],applyType:[{required:!0,message:"请填写申请类别",trigger:"blur"}],address:[{required:!0,message:"请填写地址",trigger:"blur"}],phone:[{required:!0,message:"请填写联系电话",trigger:"blur"},{validator:t,trigger:"blur"}]},shipCrewRules:{},options:[],applyTypes:[{id:1,name:"以旧换新"},{id:2,name:"普通船员"},{id:3,name:"职务船员"},{id:4,name:"证书换发"},{id:5,name:"证书补发"},{id:6,name:"其他"}],dataLoad:[],sn:"",manager:!1,headers:{Authorization:"Bearer "+h["a"].getters.access_token},isIdcard:!1,idx:"",loading:!1,idcards:[],isShipCrew:!1}},methods:{save:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.form.idcardPhoto.length>200)){t.next=3;break}return t.next=3,this.getIdcardFile();case 3:if(!(this.form.facePhoto.length>200)){t.next=6;break}return t.next=6,this.getFaceFile();case 6:this.$refs["form"].validate((function(t){if(!t)return!1;var r=e.form,a=1;if(e.$route.query.edit){var n=r;e.$route.query.userId&&(a=2,n.userId=e.$route.query.userId),e.$route.query.shipCrew&&(a=3),e.$route.query.shipId?(a=3,n.shipId=e.$route.query.shipId,Object(s["t"])(n,a).then((function(){e.$message.success("船员添加成功!"),e.$router.go(-2)}))):Object(s["g"])(n,a).then((function(t){e.$message({message:t.data.msg,type:"success"}),e.$route.query.userId||e.$route.query.shipCrew?e.$router.go(-1):e.$router.push({name:"boatMan"})})).catch((function(t){e.$message.error(t.message)}))}else{var o=JSON.parse(JSON.stringify(r));e.$route.query.userId&&(a=2,o.userId=e.$route.query.userId),!0===e.isIdcard?Object(s["g"])(o,a).then((function(t){e.$message({message:t.data.msg,type:"success"}),e.$route.query.userId?e.$router.go(-1):e.$router.push({name:"boatMan"})})).catch((function(t){e.$message.error(t.message)})):Object(s["t"])(o,a).then((function(t){e.$message({message:t.data.msg,type:"success"}),e.$route.query.userId?e.$router.go(-1):e.$router.push({name:"boatMan"})})).catch((function(t){e.$message.error(t.message)}))}}));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),choseProvince:function(t){var e=this;this.form.cityId="",this.form.districtId="",this.form.villageId="",this.district=[],Object(d["d"])(t).then((function(t){var r=t.data;e.city=r.data}))},setData:function(t){this.form.certList=t},choseCity:function(t){var e=this;Object(d["d"])(t).then((function(t){var r=t.data;e.district=r.data}))},handleSave:function(){},collect:function(){var t=this;this.sn="",Object(u["a"])({sn:this.sn}).then((function(e){Object(s["k"])(e.data.data.identityNumber).then((function(r){!0!==r.data.data?(t.choseProvince(r.data.data.provinceId),t.choseCity(r.data.data.cityId),t.form=r.data.data,t.$set(t.form,"idcardPhoto","data:image/png;base64,"+e.data.data.photo),t.$set(t.form,"facePhoto","data:image/png;base64,"+e.data.data.picture),t.$set(t.form,"certList",[]),t.isIdcard=!0,Object(f["g"])(e.data.data.identityNumber).then((function(e){e.data.data.forEach((function(e){if(t.form.certList.push(e),t.form.certList){var r=0;t.form.certList.forEach((function(t){t.id=r,r++}))}}))}))):0===e.data.code&&(t.form.address=e.data.data.address,t.form.idcard=e.data.data.identityNumber,t.form.realName=e.data.data.name,t.form.nation=e.data.data.nation,t.$set(t.form,"idcardPhoto","data:image/png;base64,"+e.data.data.photo),t.$set(t.form,"facePhoto","data:image/png;base64,"+e.data.data.picture))}))})).catch((function(e){t.$message.error(e.message)}))},handleAvatarSuccessFront:function(t){this.form.photoFront=t.data.url},handleAvatarSuccessReverse:function(t){this.form.photoReverse=t.data.url},handleAvatarSuccessCert:function(t){this.form.certPhoto=t.data.url},getIdcardFile:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,r,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.dataURLtoFile(this.form.idcardPhoto),r=new FormData,r.append("file",e),t.next=5,Object(s["z"])(r).then((function(t){return a.form.idcardPhoto=t.data.data.url}));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getFaceFile:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,r,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.dataURLtoFile(this.form.facePhoto),r=new FormData,r.append("file",e),t.next=5,Object(s["z"])(r).then((function(t){return a.form.facePhoto=t.data.data.url}));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),dataURLtoFile:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"img";console.log(t);var r=t.split(","),a=r[0].match(/:(.*?);/)[1],n=a.split("/")[1],o=atob(r[1]),i=o.length,c=new Uint8Array(i);while(i--)c[i]=o.charCodeAt(i);return new File([c],"".concat(e,".").concat(n),{type:a})},newMember:function(){this.form.certList||this.$set(this.form,"certList",[]);var t=this.form.certList.length;t<2?this.form.certList.push({id:t?(parseInt(this.form.certList[t-1].id)+1).toString():"0"}):this.$message({message:"最多两个证书",type:"warning"})},remove:function(t){var e=this;this.$confirm("此操作将永久删除该证书, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){if(2===e.form.certList.length){var r=e.form.certList.filter((function(e){return e.id!=t}));e.form.certList=r}else if(1===e.form.certList.length){var a=e.form.certList.filter((function(t){return 2==t.id}));e.form.certList=a}e.$message({type:"success",message:"删除成功!"})})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleAvatarSuccessFile:function(t){this.$set(this.form.certList[this.idx],"certFile",t.data.url)},fileUpload:function(t){this.idx=t},idcardChange:function(t){"object"===Object(i["a"])(t)?this.refreshCard(t):this.refreshCard({idcard:t}),this.idcards=[]},refreshCard:function(t){if(null!==t){var e=t.idcard,r=void 0===e?"":e;this.form.idcard=r}else this.form.idcard=""},getidcardList:function(t){var e=this;this.loading=!1,""!==t?Object(s["k"])(t).then((function(r){if(!e.roles.includes(111)&&!e.roles.includes(1)&&0!==r.data.data.userId&&!0!==r.data.data)return e.$message.error("该船员已存在，请重新填写！"),void(e.form={});!0!==r.data.data?(e.choseProvince(r.data.data.provinceId),e.choseCity(r.data.data.cityId),e.form=r.data.data,e.$set(e.form,"certList",[]),e.isIdcard=!0,Object(f["g"])(t).then((function(t){t.data.data.forEach((function(t){if(e.form.certList.push(t),e.form.certList){var r=0;e.form.certList.forEach((function(t){t.id=r,r++}))}}))}))):(e.form.realName="",e.form.positionId="",e.form.birthday="",e.form.provinceId="",e.form.cityId="",e.form.districtId="",e.form.address="",e.form.phone="",e.form.contactName="",e.form.contactPhone="",e.form.applyType="",e.form.remark="",e.form.nation="",e.form.speciality="",e.form.photoFront="",e.form.photoReverse="",e.form.idcardPhoto="",e.form.facePhoto="",e.form.certList=[])})):this.idcards=[],this.loading=!1}},created:function(){var t=this;function e(){return r.apply(this,arguments)}function r(){return r=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["f"])(this.$route.query.edit||this.$route.query.see||this.$route.query.idcard).then((function(t){return t.data.data}));case 2:return e=t.sent,e.shipName=this.$route.query.shipName,t.next=6,this.choseProvince(e.provinceId);case 6:return r=t.sent,t.next=9,this.choseCity(e.cityId);case 9:a=t.sent,console.log(r),console.log(a),e.certList&&(n=0,e.certList.forEach((function(t){t.id=n,n++}))),console.log("编辑数据"),console.log(e),this.form=e;case 16:case"end":return t.stop()}}),t,this)}))),r.apply(this,arguments)}Object(d["d"])(0).then((function(e){var r=e.data;t.province=r.data})),Object(d["f"])("tyb_resume_position").then((function(e){var r=e.data;t.position=r.data})),(this.$route.query.edit||this.$route.query.see||this.$route.query.userId)&&e.call(this),Object(m["c"])().then((function(e){e.data.data.roles.includes(111)?t.manager=!0:t.manager=!1,-1!==e.data.data.roles.indexOf(111)||-1!==e.data.data.roles.indexOf(112)?t.isManger=!1:t.isManger=!0,e.data.data.sysUser.userId}))},computed:O({type:function(){return this.$route.query.see?1:2}},Object(y["e"])({roles:function(t){return t.user.roles}})),watch:{"form.idcard":{handler:function(t){if(void 0!==t&&18===t.length){var e=t.substr(6,8).replace(/^(\d{4})(\d{2})(\d{2})$/,"$1-$2-$3");this.form.birthday=e}},deep:!0}}},w=j,$=(r("f35f"),r("2877")),I=Object($["a"])(w,a,n,!1,null,null,null);e["default"]=I.exports},"2f9e":function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r("ac6a"),r("28a5"),r("a481");var a=r("b5c6");function n(t){var e=t.url,r=t.method,n=void 0===r?"post":r,i=t.data,c=void 0===i?{}:i,d=t.title,s=void 0===d?"":d;return new Promise((function(t){return Object(a["a"])({url:e,method:n,headers:{responseType:"arraybuffer"},data:c,responseType:"blob"}).then((function(e){o({title:s,response:e}).then((function(){t()}))}))}))}function o(t){var e=t.title,r=void 0===e?"":e,a=t.response,n=i(a.headers["content-disposition"].replace(/"/g,""));return new Promise((function(t){var e=a.headers,o=new Blob([a.data],{type:e["content-type"]});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(o,r);else{var i=document.createElement("a");i.href=window.URL.createObjectURL(o),i.download=r?"".concat(r,".").concat(n.suffix):n.filename,document.body.appendChild(i),i.style.display="none",i.click()}t()}))}function i(t){var e={},r=t.split(";");return r.forEach((function(t){var r=t.replace(/^\s+|\s+$/g,""),a=r.split("=");a[1]?e[a[0]]=a[1]:e[a[0]]=a[0]})),e.suffix=e.filename.split(".")[1],e}},4525:function(t,e,r){"use strict";r.d(e,"h",(function(){return o})),r.d(e,"i",(function(){return i})),r.d(e,"b",(function(){return c})),r.d(e,"d",(function(){return d})),r.d(e,"f",(function(){return s})),r.d(e,"e",(function(){return u})),r.d(e,"c",(function(){return l})),r.d(e,"g",(function(){return m})),r.d(e,"a",(function(){return f}));var a=r("b5c6"),n="tmlms/crew_cert";function o(t){return Object(a["a"])({url:"".concat(n,"/create"),method:"post",data:t})}function i(t){return Object(a["a"])({url:"".concat(n,"/edit"),method:"post",data:t})}function c(t){return Object(a["a"])({url:"".concat(n,"/remove"),method:"post",params:{certId:t}})}function d(t){return Object(a["a"])({url:"".concat(n,"/detail"),method:"get",params:{certId:t}})}function s(t){return Object(a["a"])({url:"".concat(n,"/myCerts"),method:"get",params:{userId:t}})}function u(t,e){return Object(a["a"])({url:"".concat(n,"/getPage"),method:"get",params:t,data:e})}function l(t){return Object(a["a"])({url:"".concat(n,"/")+t,method:"post",data:t})}function m(t){return Object(a["a"])({url:"".concat(n,"/mycertlist"),method:"get",params:{idcard:t}})}function f(t){return Object(a["a"])({url:"".concat(n,"/certStandard/")+t,method:"get"})}},5612:function(t,e,r){"use strict";r.d(e,"i",(function(){return i})),r.d(e,"j",(function(){return c})),r.d(e,"l",(function(){return d})),r.d(e,"m",(function(){return s})),r.d(e,"r",(function(){return u})),r.d(e,"c",(function(){return l})),r.d(e,"t",(function(){return m})),r.d(e,"u",(function(){return f})),r.d(e,"d",(function(){return p})),r.d(e,"e",(function(){return h})),r.d(e,"g",(function(){return b})),r.d(e,"v",(function(){return g})),r.d(e,"f",(function(){return y})),r.d(e,"z",(function(){return v})),r.d(e,"k",(function(){return O})),r.d(e,"n",(function(){return j})),r.d(e,"h",(function(){return w})),r.d(e,"p",(function(){return $})),r.d(e,"x",(function(){return I})),r.d(e,"y",(function(){return k})),r.d(e,"w",(function(){return x})),r.d(e,"b",(function(){return P})),r.d(e,"q",(function(){return q})),r.d(e,"a",(function(){return C})),r.d(e,"s",(function(){return L})),r.d(e,"o",(function(){return _}));var a=r("b5c6"),n=r("2f9e"),o="/tmlms/crew";function i(t){return Object(a["a"])({url:"".concat(o,"/Page"),method:"get",params:t})}function c(t){return Object(a["a"])({url:"".concat(o,"/findByShipId?shipId=").concat(t),method:"get",params:t})}function d(t){return Object(a["a"])({url:"".concat(o,"/getHistoryByShipId?shipId=").concat(t.shipId),method:"get",params:t})}function s(t){return Object(a["a"])({url:"".concat(o,"/pageWithShip"),method:"get",params:t})}function u(t){return Object(a["a"])({url:"".concat(o,"/shipLogPage"),method:"get",params:t})}function l(t){return Object(a["a"])({url:"".concat(o,"/checkMoreRelations"),method:"post",data:t})}function m(t,e){return Object(a["a"])({url:"".concat(o,"/create?type=").concat(e),method:"post",data:t})}function f(t,e){return Object(a["a"])({url:"".concat(o,"/batchCreate?type=").concat(e),method:"post",data:t,timeout:3e5})}function p(t){return Object(a["a"])({url:"".concat(o,"/delete?idcard=").concat(t),method:"post"})}function h(t,e){return Object(a["a"])({url:"".concat(o,"/deleteRelation?idcard=").concat(t,"&&shipId=").concat(e),method:"post"})}function b(t,e){return Object(a["a"])({url:"".concat(o,"/edit?type=").concat(e),method:"post",data:t})}function g(t,e){return Object(a["a"])({url:"".concat(o,"/review?status=").concat(t,"&userId=").concat(e),method:"post"})}function y(t){return Object(a["a"])({url:"".concat(o,"/getCrewByidcard?idcard=").concat(t),method:"get"})}function v(t){return Object(a["a"])({url:"admin/file/upload/avatar",method:"post",data:t})}function O(t){return Object(a["a"])({url:"".concat(o,"/idcardcheck?idcard=").concat(t),method:"get"})}function j(t){return Object(a["a"])({url:"".concat(o,"/idcardcheck?idcard=").concat(t),method:"get"})}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"船员信息";return Object(n["a"])({url:"tmlms/tybmlmsExcelExport/downloadCrew",data:t,title:e})}function $(t){return Object(a["a"])({url:"".concat(o,"/badPage"),method:"get",params:t})}function I(t){return Object(a["a"])({url:"".concat(o,"/badUpdateBatch"),method:"post",data:t})}function k(t){return Object(a["a"])({url:"".concat(o,"/uploadBaseImage"),method:"post",data:t})}function x(t){return Object(a["a"])({url:"".concat(o,"/updateCertByIdcard"),method:"post",params:t})}function P(t){return Object(a["a"])({url:"".concat(o,"/changeShip"),method:"post",data:t})}function q(t){return Object(a["a"])({url:"".concat(o,"/getShipRelationByIdcard"),method:"get",params:t})}function C(t){return Object(a["a"])({url:"/tmlms/tybship/pageForChange",method:"get",params:t})}function L(t){return Object(a["a"])({url:"/tmlms/importTask/lookTask",method:"get",params:{taksId:t}})}function _(t){return Object(a["a"])({url:"/tmlms/crew_cert/newPage",method:"get",params:t})}},b440:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var a=r("b5c6"),n="/tybhrms/databuspayload";function o(t){return Object(a["a"])({url:"".concat(n,"/getlast"),method:"get",params:t})}},c533b:function(t,e,r){"use strict";r.d(e,"i",(function(){return c})),r.d(e,"f",(function(){return d})),r.d(e,"d",(function(){return s})),r.d(e,"g",(function(){return u})),r.d(e,"c",(function(){return l})),r.d(e,"a",(function(){return m})),r.d(e,"e",(function(){return f})),r.d(e,"j",(function(){return p})),r.d(e,"h",(function(){return h})),r.d(e,"b",(function(){return b}));var a=r("b5c6"),n="tmlms/crew",o="admin/region",i="admin/dict";function c(t){return Object(a["a"])({url:"".concat(o,"/getinfo/")+t,method:"get"})}function d(t){return Object(a["a"])({url:"".concat(i,"/type/")+t,method:"get"})}function s(t){return Object(a["a"])({url:"".concat(o,"/area"),method:"get",params:{parentCode:t}})}function u(t){return Object(a["a"])({url:"".concat(n,"/Page"),method:"get",params:t})}function l(t){return Object(a["a"])({url:"".concat(n,"/delete"),method:"post",params:{userId:t}})}function m(t){return Object(a["a"])({url:"".concat(n,"/create"),method:"post",data:t,params:{type:1}})}function f(t){return Object(a["a"])({url:"".concat(n,"/getCrewByUserId"),method:"get",params:{userId:t}})}function p(t){return Object(a["a"])({url:"".concat(n,"/edit"),method:"post",params:{type:1},data:t})}function h(t){return Object(a["a"])({url:"/tybship/tybregion/parent/".concat(t),method:"get"})}function b(t,e,r){return Object(a["a"])({url:"".concat(n,"/upWork?idcard=").concat(e,"&workStatus=").concat(r),method:"post",data:t})}},ccad:function(t,e,r){},e420:function(t,e,r){"use strict";r("7f7f");var a=r("7ded");e["a"]={data:function(){return{haveInfo:{}}},methods:{getInformation:function(t,e){var r=this;Object(a["c"])().then((function(a){-1===a.data.data.roles.indexOf(1)&&-1===a.data.data.roles.indexOf(111)&&(a.data.data.sysUser.phone&&(r.$set(r.haveInfo,"phone",!0),r[t][e[0]]=a.data.data.sysUser.phone),a.data.data.sysUser.realName&&(r.$set(r.haveInfo,"realName",!0),r[t][e[1]]=a.data.data.sysUser.realName),a.data.data.sysUser.idCard&&[e[2]]&&(r.$set(r.haveInfo,"idcard",!0),r[t].idcard=a.data.data.sysUser.idCard))}))}}}},e9bd:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var a=[{prop:"certNo",label:"证书编码"},{prop:"certType",label:"证书类型",type:"dict",dictName:"tyb_crew_cert_type"},{prop:"certLevel",label:"证书等级",type:"dict",dictName:"tyb_crew_cert_level"},{prop:"certTitle",label:"证书职务",type:"dict",dictName:"tyb_crew_cert_title"},{prop:"certDateIssue",label:"有效期至",type:"date"},{prop:"certDateExpire",label:"结束日期",type:"date"},{prop:"annex",label:"扫描件",type:"file"}]},f35f:function(t,e,r){"use strict";r("ccad")}}]);