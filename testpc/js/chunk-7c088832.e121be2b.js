(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c088832"],{"41d2":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{"label-width":"100px",size:"mini"}},[n("el-form-item",[n("operation-wrapper",[n("iep-button",{attrs:{type:"primary"},on:{click:e.searchPage}},[e._v("搜索")]),n("iep-button",{on:{click:e.clearSearchParam}},[e._v("清空")])],1)],1)],1)},r=[],i=n("b9b5"),o={data:function(){return{dictsMap:i["b"]}},methods:{searchPage:function(){},clearSearchParam:function(){}}},c=o,s=n("0c7c"),u=Object(s["a"])(c,a,r,!1,null,null,null);t["default"]=u.exports},"502e":function(e,t,n){"use strict";var a=n("cebc"),r=(n("96cf"),n("3b8d")),i=n("51f4"),o={delete:"删除",shelf:"上架",submit:"提交",cancel:"撤销"};t["a"]={data:function(){return{pagedTable:[],multipleSelection:[],isLoadTable:!0,pagination:this._pageOption(),pageOption:this._pageOption(),searchForm:{}}},methods:{_pageOption:function(){return Object(i["a"])()},searchPage:function(e){this.pageOption=this._pageOption(),this.searchForm=e,this.loadPage(e)},loadTable:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,i,o,c,s,u,l,d,p,h=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=h.length>2&&void 0!==h[2]?h[2]:function(e){return e},this.isLoadTable=!0,e.next=4,n(Object(a["a"])({},this.pageOption,t));case 4:return i=e.sent,o=i.data,c=o.data,s=c.records,u=c.size,l=c.total,d=c.current,p=l/u+1===d,p&&0!==l?this.searchPage():this.pagination={current:d,size:u,total:l},this.pagedTable=s.map(r),this.isLoadTable=!1,e.abrupt("return",o.data);case 12:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){this.pageOption.size=e,this.loadPage()},handleCurrentChange:function(e){this.pageOption.current=e,this.loadPage()},_handleGlobalDeleteById:function(e,t){this._handleGlobalById(e,t,"delete")},_handleGlobalDeleteAll:function(e){this._handleGlobalAll(e,"delete")},_handleGlobalById:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"delete",r=o[a];this.$confirm("此操作将".concat(r,"该数据, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t(e).then(function(e){e.data.data?n.$message({type:"success",message:"".concat(r,"成功!")}):n.$message({type:"info",message:"".concat(r,"失败，").concat(e.data.msg)}),n.loadPage()})})},_handleGlobalAll:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,a,i,c=this,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:"delete",a=this.multipleSelection,i=o[n],void 0!==a&&0!==a.length){e.next=6;break}return this.$message("请先选择需要".concat(i,"的选项")),e.abrupt("return");case 6:this.$confirm("此操作将".concat(i,"这些数据, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t(a);case 2:n=e.sent,r=n.data,r.data?(c.$message({type:"success",message:"".concat(i,"成功!")}),c.pageOption=c._pageOption()):c.$message({type:"info",message:"".concat(i,"失败，").concat(r.msg)}),c.loadPage();case 6:case"end":return e.stop()}},e)})));case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),_handleComfirm:function(e,t,n,a,i){var o=this;this.$confirm(a||"是否".concat(n),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark(function a(){var r,c;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t(e);case 2:r=a.sent,c=r.data,c.data?o.$message({type:"success",message:i||"".concat(n,"成功!")}):o.$message({type:"info",message:"".concat(c.msg)}),o.loadPage();case 6:case"end":return a.stop()}},a)}))).catch(function(e){o.$message({type:"info",message:"".concat(e,", 已取消").concat(n)})})},mixinsCellPointerStyle:function(e){var t=e.column;return"index"!==t.type&&"selection"!==t.type&&"操作"!==t.label&&"cursor:pointer"}}}},"6a8a":function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"c",function(){return c}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});var a=n("b5c6"),r="/cpms/suggestion";function i(e){return Object(a["a"])({url:"".concat(r,"/pageIssue"),method:"get",params:e})}function o(e){return Object(a["a"])({url:"".concat(r,"/pageReceived"),method:"get",params:e})}function c(e){return Object(a["a"])({url:"".concat(r,"/").concat(e),method:"get"})}function s(e){return Object(a["a"])({url:"".concat(r,"/create"),method:"post",data:e})}function u(e){return Object(a["a"])({url:"".concat(r,"/update"),method:"post",data:e})}function l(e){return Object(a["a"])({url:"".concat(r,"/feedback"),method:"post",data:e})}function d(e){return Object(a["a"])({url:"".concat(r,"/delete/batch"),method:"post",data:[e]})}function p(e){return Object(a["a"])({url:"".concat(r,"/delete/batch"),method:"post",data:e})}},8876:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("basic-container",[n("page-header",{attrs:{title:"我发出的建议"}}),n("operation-container",[n("template",{slot:"left"},[n("iep-button",{attrs:{type:"primary",icon:"el-icon-plus",plain:""},on:{click:e.handleAdd}},[e._v("新增")]),n("el-dropdown",{attrs:{size:"medium"}},[n("iep-button",{attrs:{type:"default"}},[e._v("更多操作"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(t){return e.handleDeleteBatch(t)}}},[e._v("删除")])],1)],1)],1),n("template",{slot:"right"},[n("operation-search",{attrs:{"advance-search":""},on:{"search-page":e.searchPage}},[n("advance-search",{on:{"search-page":e.searchPage}})],1)],1)],2),n("iep-table",{attrs:{isLoadTable:e.isLoadTable,pagination:e.pagination,dictsMap:e.dictsMap,columnsMap:e.columnsMap,pagedTable:e.pagedTable,"is-mutiple-selection":""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"selection-change":e.handleSelectionChange}},[n("template",{slot:"before-columns"},[n("el-table-column",{attrs:{label:"收件人",width:"160px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.attendeeList[0])+"\n          ")]}}])}),n("el-table-column",{attrs:{label:"主题"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.theme)),n("i",{directives:[{name:"show",rawName:"v-show",value:t.row.annex,expression:"scope.row.annex"}],staticClass:"iconfont icon-fujian"})]}}])})],1),n("el-table-column",{attrs:{label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("operation-wrapper",[n("iep-button",{attrs:{type:"warning",plain:""},on:{click:function(n){return e.handleDetail(t.row)}}},[e._v("查看")]),0==t.row.status?n("iep-button",{on:{click:function(n){return e.handleEdit(t.row)}}},[e._v("修改")]):e._e(),n("iep-button",{nativeOn:{click:function(n){return e.handleDelete(t.row)}}},[e._v("删除")])],1)]}}])})],2)],1)],1)},r=[],i=n("6a8a"),o=n("502e"),c=n("41d2"),s=n("b9b5"),u={components:{AdvanceSearch:c["default"]},mixins:[o["a"]],data:function(){return{dictsMap:s["b"],columnsMap:s["a"]}},created:function(){this.loadPage()},methods:{loadPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.searchForm;this.loadTable(e,i["d"])},handleCommandType:function(){},handleCommandUser:function(){},handleSelectionChange:function(e){this.multipleSelection=e.map(function(e){return e.id})},handleAdd:function(){this.$router.push("/hrms_spa/suggestion_new")},handleEdit:function(e){this.$router.push("/hrms_spa/suggestion_edit/".concat(e.id))},handleDeleteBatch:function(){this._handleGlobalDeleteAll(i["a"])},handleDelete:function(e){this._handleGlobalDeleteById(e.id,i["b"])},handleDetail:function(e){this.$router.push({path:"/hrms_spa/suggestion_detail/".concat(e.id)})}}},l=u,d=n("0c7c"),p=Object(d["a"])(l,a,r,!1,null,"938703b0",null);t["default"]=p.exports},b9b5:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return c}),n.d(t,"e",function(){return s});var a=n("cebc"),r={status:{0:"草稿",1:"未处理",2:"以采纳",3:"已驳回"}},i=[{prop:"status",label:"状态",type:"dict"},{prop:"sendTime",label:"发送时间"}],o=function(){return{id:"",userId:"",theme:"",status:"",proposeContent:"",attendeeList:"",attendeeId:"",feedbackOpinion:"",gratuity:"",disabled:"",annexList:[],fileName:"",proposeRelatioList:""}},c=function(e){var t=Object(a["a"])({},e);return t},s={theme:[{required:!0,message:"请填写建议主题",trigger:"blur"}],proposeContent:[{required:!0,message:"请填写建议内容",trigger:"blur"}],attendeeId:[{required:!0,message:"请填写接收对象",trigger:"blur"}],feedbackStatus:[{required:!0,message:"请填写处理意见",trigger:"blur"}],feedbackOpinion:[{required:!0,message:"请填写反馈意见",trigger:"blur"}],gratuity:[{required:!0,message:"请输入打赏金额",trigger:"blur"}]}}}]);