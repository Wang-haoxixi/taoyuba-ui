(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page"],{"124f":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"social-container"},[s("div",{staticClass:"box wechat",on:{click:function(t){return e.handleClick("wechat")}}},[e._m(0),s("p",{staticClass:"title"},[e._v("微信")])]),s("div",{staticClass:"box qq",on:{click:function(t){return e.handleClick("tencent")}}},[e._m(1),s("p",{staticClass:"title"},[e._v("QQ")])])])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"container"},[s("i",{staticClass:"iconfont icon-weixin",attrs:{"icon-class":"wechat"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"container"},[s("i",{staticClass:"iconfont icon-qq",attrs:{"icon-class":"qq"}})])}],a=s("0e0b"),n={name:"SocialSignin",methods:{handleClick:function(e){var t,s,o,r;o=encodeURIComponent(window.location.origin+"/#/authredirect"),"wechat"===e?(t="wxd1678d3f83b1d83a",r="https://open.weixin.qq.com/connect/qrconnect?appid="+t+"&redirect_uri="+o+"&state=WX&response_type=code&scope=snsapi_login#wechat_redirect"):"tencent"===e&&(s="101322838",r="https://graph.qq.com/oauth2.0/authorize?response_type=code&state=QQ&client_id="+s+"&redirect_uri="+o),Object(a["j"])(r,e,540,540)}}},i=n,c=(s("2d007"),s("2877")),l=Object(c["a"])(i,o,r,!1,null,"10a9e99e",null);t["default"]=l.exports},"15c5":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"lock-container pull-height"},[s("div",{staticClass:"lock-form animated bounceInDown"},[s("div",{staticClass:"animated",class:{shake:e.passwdError,bounceOut:e.pass}},[s("h3",{staticClass:"title"},[e._v(e._s(e.userInfo.username))]),s("el-input",{staticClass:"input-with-select animated",attrs:{placeholder:"请输入登录密码",type:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.passwd,callback:function(t){e.passwd=t},expression:"passwd"}},[s("el-button",{attrs:{slot:"append",icon:"icon-bofangqi-suoping"},on:{click:e.handleLogin},slot:"append"}),s("el-button",{attrs:{slot:"append",icon:"icon-tuichu"},on:{click:e.handleLogout},slot:"append"})],1)],1)])])},r=[],a=s("be94"),n=s("2f62"),i={name:"Lock",data:function(){return{passwd:"",passwdError:!1,pass:!1}},computed:Object(a["a"])({},Object(n["c"])(["tag","lockPasswd","userInfo"])),methods:Object(a["a"])({},Object(n["b"])(["LogOut"]),Object(n["d"])({clearLock:"CLEAR_LOCK"}),{handleLogout:function(){var e=this;this.$confirm("是否退出系统, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.LogOut().then(function(){e.$router.push({path:"/login"})})})},handleLogin:function(){var e=this;if(this.passwd!=this.lockPasswd)return this.passwd="",this.$message({message:"解锁密码错误,请重新输入",type:"error"}),this.passwdError=!0,void setTimeout(function(){e.passwdError=!1},1e3);this.pass=!0,setTimeout(function(){e.clearLock(),e.$router.push({path:e.$router.$avueRouter.getPath({src:e.tag.value})})},1e3)}}),components:{}},c=i,l=(s("b51f"),s("2877")),u=Object(l["a"])(c,o,r,!1,null,"404fb435",null);t["default"]=u.exports},"1d4d":function(e,t,s){"use strict";s("ea22")},"222a":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("container",{attrs:{title:"欢迎注册"},scopedSlots:e._u([{key:"tab-panel",fn:function(){return["user"===e.activeName?s("user-login"):e._e()]},proxy:!0},{key:"tab-footer",fn:function(){return[s("p",[e._v("已有账号？"),s("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.loadLoginPage(t)}}},[e._v("立即登录")])])]},proxy:!0}])})},r=[],a=s("be94"),n=s("2868"),i=s("bc00"),c=s("e3c4"),l=s("2f62"),u=s("c54a"),d={name:"Login",components:{Container:n["default"],userLogin:i["default"]},data:function(){return{active:1,activeName:"user"}},methods:{loadLoginPage:function(){this.$router.push("/login")}},watch:{$route:function(){var e=this.$route.query;if(this.socialForm.state=e.state,this.socialForm.code=e.code,!Object(u["c"])(this.socialForm.state)){var t=this.$loading({lock:!0,text:"登录中,请稍后。。。",spinner:"el-icon-loading"});setTimeout(function(){t.close()},2e3),this.handleSocialLogin()}}},created:function(){Object(c["c"])({name:"tenantId",content:1})},mounted:function(){},computed:Object(a["a"])({},Object(l["c"])(["website"])),props:[]},f=d,m=(s("5b99"),s("2877")),p=Object(m["a"])(f,o,r,!1,null,"87860bde",null);t["default"]=p.exports},2868:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-container pull-height"},[s("div",{staticClass:"login-weaper"},[s("div",{staticClass:"login-border animated fadeInRight"},[s("div",{staticClass:"login-main"},[s("div",{staticClass:"title-image"},[s("img",{staticClass:"top-image",attrs:{src:"/img/logo.png"}}),s("div",{staticClass:"login-title"},[e._v(e._s(e.title))])]),e._t("tab-panel")],2),s("div",{staticClass:"login-menu"},[e._t("tab-footer")],2),e._m(0)])])])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-bottom"},[s("div",{staticClass:"bottom-text"},[e._v("Copyright©TAOYU58 版权所有 2018-2020")])])}],a={props:{title:{type:String,required:!0}}},n=a,i=(s("c4fd"),s("2877")),c=Object(i["a"])(n,o,r,!1,null,"8e8d8544",null);t["default"]=c.exports},"2d007":function(e,t,s){"use strict";s("a34b")},3561:function(e,t,s){"use strict";s("b57c")},"363f":function(e,t,s){"use strict";s("d401")},4014:function(e,t,s){},4209:function(e,t,s){},5596:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("container",{attrs:{title:"用户登录"},scopedSlots:e._u([{key:"tab-panel",fn:function(){return["user"===e.activeName?s("user-login",{on:{"tab-active":e.handleActive}}):e._e(),"code"===e.activeName?s("code-login"):e._e(),"third"===e.activeName?s("third-login"):e._e(),"retrieve"===e.activeName?s("retrieve",{on:{"tab-active":e.handleActive}}):e._e()]},proxy:!0}])})},r=[],a=s("be94"),n=s("2868"),i=s("7c05"),c=s("acd4"),l=s("124f"),u=s("fa05"),d=s("e3c4"),f=s("2f62"),m=s("c54a"),p={name:"Login",components:{Container:n["default"],userLogin:i["default"],codeLogin:c["default"],thirdLogin:l["default"],retrieve:u["default"]},data:function(){return{active:1,activeName:"user"}},computed:Object(a["a"])({},Object(f["c"])(["website"])),watch:{$route:function(){var e=this.$route.query;if(this.socialForm.state=e.state,this.socialForm.code=e.code,!Object(m["c"])(this.socialForm.state)){var t=this.$loading({lock:!0,text:"登录中,请稍后。。。",spinner:"el-icon-loading"});setTimeout(function(){t.close()},2e3),this.handleSocialLogin()}}},created:function(){Object(d["c"])({name:"tenantId",content:1})},methods:{handleActive:function(e){this.activeName=e}}},h=p,g=(s("3561"),s("2877")),v=Object(g["a"])(h,o,r,!1,null,"69ad77fe",null);t["default"]=v.exports},"5b99":function(e,t,s){"use strict";s("dc16")},"5e23":function(e,t,s){},"638c":function(e,t,s){},"7aef":function(e,t,s){"use strict";s("4209")},"7c05":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"form",staticClass:"login-form",attrs:{"status-icon":"",rules:e.rules,model:e.form,"label-width":"0"}},[s("el-form-item",{attrs:{prop:"username"}},[s("a-input",{ref:"username",attrs:{"auto-complete":"off",placeholder:"请输入用户名",size:"large"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}},[s("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"}),e.form.username?s("a-icon",{attrs:{slot:"suffix",type:"close-circle"},on:{click:function(t){return e.emitEmpty("username")}},slot:"suffix"}):e._e()],1)],1),s("el-form-item",{attrs:{prop:"password"}},[s("a-input",{ref:"password",attrs:{type:e.passwordType,"auto-complete":"false",placeholder:"请输入密码",size:"large"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[s("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"}),e.form.password?s("a-icon",{attrs:{slot:"suffix",type:e.passwordType?"eye-invisible":"eye"},on:{click:e.showPassword},slot:"suffix"}):e._e()],1)],1),s("el-form-item",{attrs:{prop:"code"}},[s("a-input",{staticClass:"login-code",attrs:{maxlength:e.code.len,"auto-complete":"false",placeholder:"请输入验证码",size:"large"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}},[s("img",{staticClass:"login-code-img",attrs:{slot:"addonAfter",src:e.code.src},on:{click:e.refreshCode},slot:"addonAfter"})])],1),s("el-form-item",[s("a-row",{attrs:{gutter:8}},[s("a-col",{attrs:{span:24}},[s("a-button",{attrs:{type:"primary",size:"large",loading:e.loginLoading,block:""},on:{click:e.handleLogin}},[e._v("登录")])],1)],1)],1)],1)},r=[],a=(s("96cf"),s("1da1")),n=(s("7f7f"),s("be94")),i=s("51be"),c=s("0e0b"),l=s("2f62"),u=s("c54a"),d=s("7ded"),f={name:"Userlogin",data:function(){return{socialForm:{code:"",state:""},form:{username:"",password:"",code:"",redomStr:"",isKeepLogin:!1},code:{src:"/code",value:"",len:4,type:"image"},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度最少为6位",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},passwordType:"password",loginLoading:!1}},watch:{$route:function(){var e=this.$route.query;if(this.socialForm.state=e.state,this.socialForm.code=e.code,!Object(u["c"])(this.socialForm.state)){var t=this.$loading({lock:!0,text:"登录中,请稍后。。。",spinner:"el-icon-loading"});setTimeout(function(){t.close()},2e3),this.handleSocialLogin()}}},created:function(){this.loadPage()},computed:Object(n["a"])({},Object(l["c"])(["tagWel"])),methods:Object(n["a"])({},Object(l["b"])(["LoginBySocial","LoginByUsername","GetMenu"]),{emitEmpty:function(e){this.$refs[e].focus(),this.form[e]=""},loadPage:function(){this.refreshCode()},handleRetrieve:function(){this.$emit("tab-active","retrieve")},handleRegister:function(){this.$router.push("/register")},refreshCode:function(){this.form.code="",this.form.randomStr=Object(c["l"])(this.code.len,!0),"text"===this.code.type?this.code.value=Object(c["l"])(this.code.len):this.code.src="".concat(i["b"],"?randomStr=").concat(this.form.randomStr)},showPassword:function(){""==this.passwordType?this.passwordType="password":this.passwordType=""},handleSocialLogin:function(){var e=this;this.LoginBySocial(this.socialForm).then(function(){e.$router.push({path:e.tagWel.value})})},handleLogin:function(){var e=this;this.$refs.form.validate(function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(s){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!s){t.next=18;break}return t.prev=1,e.loginLoading=!0,t.next=5,e.LoginByUsername(e.form);case 5:return t.next=7,e.GetMenu();case 7:o=t.sent,Object(d["c"])().then(function(t){var s=t.data;localStorage.setItem("user",JSON.stringify(s.data)),e.$router.$avueRouter.formatRoutes(o,!0),e.$router.push({path:e.tagWel.value})}),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),e.$message.error(t.t0.message);case 14:return t.prev=14,e.loginLoading=!1,e.refreshCode(),t.finish(14);case 18:case"end":return t.stop()}},t,null,[[1,11,14,18]])}));return function(e){return t.apply(this,arguments)}}())}})},m=f,p=(s("a119"),s("2877")),h=Object(p["a"])(m,o,r,!1,null,"44a9f3a1",null);t["default"]=h.exports},"8da9":function(e,t,s){"use strict";s("5e23")},"94de":function(e,t,s){"use strict";s("e796")},a119:function(e,t,s){"use strict";s("4014")},a2d5:function(e,t,s){"use strict";s.d(t,"a",function(){return r});var o=s("b5c6");function r(e){return Object(o["a"])({url:"/admin/mobile/".concat(e),method:"get"})}},a34b:function(e,t,s){},acd4:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{"status-icon":"",rules:e.loginRules,model:e.loginForm,"label-width":"0"}},[s("el-form-item",{attrs:{prop:"mobile"}},[s("a-input",{attrs:{"auto-complete":"off",placeholder:"请输入手机号码",size:"large"},model:{value:e.loginForm.mobile,callback:function(t){e.$set(e.loginForm,"mobile",t)},expression:"loginForm.mobile"}})],1),s("el-form-item",{attrs:{prop:"code"}},[s("a-input-search",{attrs:{maxlength:4,"auto-complete":"off",placeholder:"请输入验证码",size:"large"},on:{search:e.handleSend},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}},[s("a-button",{class:[{display:e.msgKey}],attrs:{slot:"enterButton"},slot:"enterButton"},[e._v(e._s(e.msgText))])],1)],1),s("el-form-item",[s("a-button",{attrs:{type:"primary",size:"large",block:""},on:{click:e.handleLogin}},[e._v("登录")])],1)],1)},r=[],a=s("be94"),n=s("c54a"),i=s("2f62"),c=s("a2d5"),l="发送验证码",u="${time}秒后重发",d=60,f={name:"Codelogin",data:function(){var e=function(e,t,s){Object(n["b"])(t)[0]?s(new Error(Object(n["b"])(t)[1])):s()},t=function(e,t,s){4!=t.length?s(new Error("请输入4位数的验证码")):s()};return{msgText:l,msgTime:d,msgKey:!1,loginForm:{mobile:"",code:""},loginRules:{mobile:[{required:!0,trigger:"blur",validator:e}],code:[{required:!0,trigger:"blur",validator:t}]}}},computed:Object(a["a"])({},Object(i["c"])(["tagWel"])),methods:Object(a["a"])({},Object(i["b"])(["LoginByPhone"]),{handleSend:function(){var e=this;if(!this.msgKey){Object(c["a"])(this.loginForm.mobile).then(function(t){t.data.data?e.$message.success("验证码发送成功"):e.$message.error(t.data.msg)}),this.msgText=u.replace("${time}",this.msgTime),this.msgKey=!0;var t=setInterval(function(){e.msgTime--,e.msgText=u.replace("${time}",e.msgTime),0==e.msgTime&&(e.msgTime=d,e.msgText=l,e.msgKey=!1,clearInterval(t))},1e3)}},handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(t){t&&e.LoginByPhone(e.loginForm).then(function(){e.$router.push({path:e.tagWel.value})})})}})},m=f,p=(s("7aef"),s("ef50"),s("2877")),h=Object(p["a"])(m,o,r,!1,null,"0682d480",null);t["default"]=h.exports},b287:function(e,t,s){},b51f:function(e,t,s){"use strict";s("638c")},b57c:function(e,t,s){},bc00:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"form",staticClass:"login-form",attrs:{"status-icon":"",rules:e.rules,model:e.form,"label-width":"0"}},[s("el-form-item",{attrs:{prop:"phone"}},[s("a-input",{ref:"phone",attrs:{"auto-complete":"off",placeholder:"请输入手机号码",size:"large"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}},[s("a-icon",{attrs:{slot:"prefix",type:"phone"},slot:"prefix"}),e.form.phone?s("a-icon",{attrs:{slot:"suffix",type:"close-circle"},on:{click:function(t){return e.emitEmpty("phone")}},slot:"suffix"}):e._e()],1)],1),s("el-form-item",{attrs:{prop:"password"}},[s("a-input",{ref:"password",attrs:{type:e.passwordType,"auto-complete":"false",placeholder:"请输入密码",size:"large"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[s("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"}),e.form.password?s("a-icon",{attrs:{slot:"suffix",type:e.passwordType?"eye-invisible":"eye"},on:{click:e.showPassword},slot:"suffix"}):e._e()],1)],1),s("el-form-item",{attrs:{prop:"cpassword"}},[s("a-input",{ref:"cpassword",attrs:{type:e.passwordType,"auto-complete":"false",placeholder:"确认你的密码",size:"large"},model:{value:e.form.cpassword,callback:function(t){e.$set(e.form,"cpassword",t)},expression:"form.cpassword"}},[s("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"}),e.form.cpassword?s("a-icon",{attrs:{slot:"suffix",type:e.passwordType?"eye-invisible":"eye"},on:{click:e.showPassword},slot:"suffix"}):e._e()],1)],1),s("el-form-item",{attrs:{prop:"code"}},[s("a-input-search",{attrs:{maxlength:4,"auto-complete":"off",placeholder:"请输入验证码",size:"large"},on:{search:e.handleSend},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}},[s("a-button",{class:[{display:e.msgKey}],attrs:{slot:"enterButton"},slot:"enterButton"},[e._v(e._s(e.msgText))])],1)],1),s("el-form-item",[s("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("同意并遵守\n      "),s("el-button",{attrs:{type:"text"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("《免责声明》")])],1),s("el-dialog",{attrs:{title:"免责声明","modal-append-to-body":!1,visible:e.dialogVisible,width:"70%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("p",{staticStyle:{"text-indent":"2em"}},[e._v("\n        本网站是一个旨以提供渔船及配件交易服务、渔需渔获供销服务、渔业船员服务、渔业管理服务为一体的公共服务平台，不适宜发表政治实事、危害国家安全、破坏民族团结、破坏国家宗教政策、破坏社会稳定、侮辱、诽谤、教唆、淫秽等内容的作品。我们有权检查并删除任何不恰当、违法、侵害、中伤、胁迫以及违反条款的其它内容、信息、图片或资料。\n      ")]),s("p",{staticStyle:{"text-indent":"2em"}},[e._v("\n        本网站所收集的部分公开资料来源于互联网，转载的目的在于传递更多信息及用于网络分享，并不代表本站赞同其观点和对其真实性负责，也不构成任何其他建议。本站部分作品是由会员自主发布、编辑整理上传，对此类作品本站仅提供发布平台，不为其版权负责，本网站不为任何由于作品发布而引起的纠纷承担责任。如果您发现网站上有侵犯您的知识产权的作品，请与我们取得联系，我们会及时修改或删除。\n      ")]),s("p",{staticStyle:{"text-indent":"2em"}},[e._v("\n        本网站所提供的信息，只供参考之用。本网站不保证信息的准确性、有效性、及时性和完整性。本网站及其雇员一概毋须以任何方式就任何信息传递或传送的失误、不准确或错误，对用户或任何其他人士负任何直接或间接责任。在法律允许的范围内，本网站在此声明，不承担用户或任何人士就使用或未能使用本网站所提供的信息或任何链接所引致的任何直接、间接、附带、从属、特殊、惩罚性或惩戒性的损害赔偿。\n      ")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.handleDagree}},[e._v("同 意")])],1)])],1),s("el-form-item",[s("a-button",{attrs:{type:"primary",size:"large",block:""},on:{click:e.handleRegister}},[e._v("注册")])],1)],1)},r=[],a=(s("7f7f"),s("be94")),n=s("0e0b"),i=s("2f62"),c=s("a2d5"),l=s("7ded"),u=s("c54a"),d="发送验证码",f="${time}秒后重发",m=60,p={name:"Userlogin",data:function(){var e=this,t=function(e,t,s){return t?/^[a-zA-Z][a-zA-Z0-9_]{4,15}$/.test(t)?void Object(l["k"])(t).then(function(e){var t=e.data;t.data?s():s(new Error("该用户名已存在，无需新增。"))}):s(new Error("4个字符以上，15个字符以下，不能以数字或符号和开头，不含中文")):s(new Error("用户名不能为空"))},s=function(e,t,s){Object(u["b"])(t)[0]?s(new Error(Object(u["b"])(t)[1])):Object(l["l"])(t).then(function(e){var t=e.data;t.data?s():s(new Error("该手机号已存在，无需新增。"))})},o=function(t,s,o){""===s?o(new Error("请输入密码")):(""!==e.form.cpassword&&e.$refs.form.validateField("cpassword"),o())},r=function(t,s,o){""===s?o(new Error("请再次输入密码")):s!==e.form.password?o(new Error("两次输入密码不一致!")):o()};return{msgText:d,msgTime:m,msgKey:!1,form:{username:"",password:"",cpassword:"",phone:"",code:"",randomStr:""},code:{src:"/code",value:"",len:4,type:"image"},checked:!1,rules:{username:[{validator:t,trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"blur",validator:o},{min:6,message:"密码长度最少为6位",trigger:"blur"}],cpassword:[{trigger:"blur",validator:r},{min:6,message:"密码长度最少为6位",trigger:"blur"}],phone:[{required:!0,trigger:"blur",validator:s}]},passwordType:"password",dialogVisible:!1}},created:function(){this.refreshCode()},mounted:function(){},computed:Object(a["a"])({},Object(i["c"])(["tagWel"])),props:[],methods:{emitEmpty:function(e){this.$refs[e].focus(),this.form[e]=""},handleSend:function(){var e=this;if(!this.msgKey){Object(c["a"])(this.form.phone).then(function(t){t.data.data?e.$message.success("验证码发送成功"):e.$message.error(t.data.msg)}),this.msgText=f.replace("${time}",this.msgTime),this.msgKey=!0;var t=setInterval(function(){e.msgTime--,e.msgText=f.replace("${time}",e.msgTime),0==e.msgTime&&(e.msgTime=m,e.msgText=d,e.msgKey=!1,clearInterval(t))},1e3)}},refreshCode:function(){this.form.code="",this.form.randomStr=Object(n["l"])(this.code.length,!0),"text"===this.code.type?this.code.value=Object(n["l"])(this.code.len):this.code.src="".concat(this.codeUrl,"?randomStr=").concat(this.form.randomStr)},showPassword:function(){""==this.passwordType?this.passwordType="password":this.passwordType=""},handleRegister:function(){var e=this;this.checked?this.$refs.form.validate(function(t){t&&Object(l["j"])(e.form).then(function(t){var s=t.data;s.data?(e.$message({message:"恭喜你，注册成功",type:"success"}),e.$router.push("/login")):e.$message({message:s.msg,type:"warning"})}).catch(function(t){e.$message({type:"warning",message:t})})}):this.$message("请先同意用户守则")},handleClose:function(){this.dialogVisible=!1},handleDagree:function(){this.dialogVisible=!1,this.checked=!0}}},h=p,g=(s("8da9"),s("2877")),v=Object(g["a"])(h,o,r,!1,null,"5019b20a",null);t["default"]=v.exports},c1a1:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.$route.query.src?s("iframe",{ref:"iframe",staticClass:"iframe",attrs:{src:e.$route.query.src}}):s("iframe",{ref:"iframe",staticClass:"iframe",attrs:{src:e.urlPath}})])},r=[],a=(s("a481"),s("6b54"),s("be94")),n=s("2f62"),i=s("323e"),c=s.n(i),l=(s("a5d8"),{name:"AvueIframe",data:function(){return{urlPath:this.getUrlPath()}},created:function(){c.a.configure({showSpinner:!1})},mounted:function(){this.load(),this.resize()},props:["routerPath"],watch:{$route:function(){this.load()},routerPath:function(){this.urlPath=this.getUrlPath()}},components:Object(a["a"])({},Object(n["c"])(["screen"])),methods:{show:function(){c.a.start()},hide:function(){c.a.done()},resize:function(){var e=this;window.onresize=function(){e.iframeInit()}},load:function(){var e=this;this.show();var t=!0;-1==this.$route.query.src.indexOf("?")&&(t=!1);var s=[];for(var o in this.$route.query)"src"!=o&&"name"!=o&&s.push("".concat(o,"= this.$route.query[key]"));s=s.join("&").toString(),this.$route.query.src=t?"".concat(this.$route.query.src).concat(s.length>0?"&list":""):"".concat(this.$route.query.src).concat(s.length>0?"?list":"");var r=5,a=setInterval(function(){r--,0==r&&(e.hide(),clearInterval(a))},1e3);this.iframeInit()},iframeInit:function(){var e=this,t=this.$refs.iframe;t.attachEvent?t.attachEvent("onload",function(){e.hide()}):t.onload=function(){e.hide()}},getUrlPath:function(){var e=window.location.href;return e=e.replace("/myiframe",""),e}}}),u=l,d=(s("94de"),s("2877")),f=Object(d["a"])(u,o,r,!1,null,"e59e4d28",null);t["default"]=f.exports},c4fd:function(e,t,s){"use strict";s("b287")},c820:function(e,t,s){},d401:function(e,t,s){},dc16:function(e,t,s){},e796:function(e,t,s){},ea22:function(e,t,s){},ef50:function(e,t,s){"use strict";s("c820")},fa05:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"retrieve-con"},[s("el-steps",{attrs:{active:e.active,"align-center":""}},[s("el-step",{attrs:{description:"输入账号"}}),s("el-step",{attrs:{description:"重置密码"}}),s("el-step",{attrs:{description:"完成"}})],1),0===e.active?s("el-form",{ref:"form",staticClass:"login-form",attrs:{"status-icon":"",rules:e.registerRule,model:e.form,"label-width":"0px"}},[s("el-form-item",{attrs:{prop:"phone"}},[s("a-input",{ref:"phone",attrs:{"auto-complete":"off",placeholder:"请输入手机号码",size:"large"},on:{blur:function(t){return e.checkphone()}},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}},[s("a-icon",{attrs:{slot:"prefix",type:"phone"},slot:"prefix"}),e.form.phone?s("a-icon",{attrs:{slot:"suffix",type:"close-circle"},on:{click:function(t){return e.emitEmpty("phone")}},slot:"suffix"}):e._e()],1)],1),s("el-form-item",{staticClass:"input-last",attrs:{prop:"code"}},[s("a-input-search",{attrs:{maxlength:4,"auto-complete":"off",placeholder:"请输入验证码",size:"large"},on:{search:e.handleSend},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}},[s("a-button",{class:[{display:e.msgKey}],attrs:{slot:"enterButton"},slot:"enterButton"},[e._v(e._s(e.msgText))])],1)],1),s("el-form-item",[s("a-button",{attrs:{type:"primary",size:"large",block:""},on:{click:function(t){e.active++,e.checkcode()}}},[e._v("下一步")])],1)],1):e._e(),1===e.active?s("el-form",{ref:"form",staticClass:"login-form",attrs:{"status-icon":"",rules:e.registerRule,model:e.form,"label-width":"0"}},[s("el-form-item",{attrs:{prop:"password"}},[s("a-input",{ref:"password",attrs:{type:e.passwordType,"auto-complete":"false",placeholder:"请输入密码",size:"large"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[s("a-icon",{attrs:{slot:"prefix",type:"key"},slot:"prefix"}),e.form.password?s("a-icon",{attrs:{slot:"suffix",type:e.passwordType?"eye-invisible":"eye"},on:{click:e.showPassword},slot:"suffix"}):e._e()],1)],1),s("el-form-item",{staticClass:"input-last",attrs:{prop:"cpassword"}},[s("a-input",{ref:"cpassword",attrs:{type:e.passwordType,"auto-complete":"false",placeholder:"确认你的密码",size:"large"},model:{value:e.form.cpassword,callback:function(t){e.$set(e.form,"cpassword",t)},expression:"form.cpassword"}},[s("a-icon",{attrs:{slot:"prefix",type:"key"},slot:"prefix"}),e.form.cpassword?s("a-icon",{attrs:{slot:"suffix",type:e.passwordType?"eye-invisible":"eye"},on:{click:e.showPassword},slot:"suffix"}):e._e()],1)],1),s("el-form-item",[s("a-button",{attrs:{type:"primary",size:"large",block:""},on:{click:function(t){return e.refreshpassword()}}},[e._v("确定")])],1)],1):e._e(),2===e.active?s("div",{staticClass:"login-menu"},[e._m(0),s("p",[e._v("重置密码成功"),s("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("立即登录")])])]):e._e()],1)},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"center-image"},[s("img",{attrs:{src:"/img/finishLogin.jpg"}})])}],a=(s("7f7f"),s("be94")),n=s("0e0b"),i=s("2f62"),c=s("7ded"),l=s("c54a"),u="获取验证码",d="${time}秒后重发",f=60,m={data:function(){var e=this,t=function(e,t,s){if(!t)return s(new Error("用户名不能为空"));Object(c["k"])(t).then(function(e){var t=e.data;t.data?s():s(new Error("该用户名已存在，无需新增。"))})},s=function(e,t,s){Object(l["b"])(t)[0]?s(new Error(Object(l["b"])(t)[1])):Object(c["l"])(t).then(function(e){var t=e.data;t.data?s():s(new Error("该手机号已存在，无需新增。"))})},o=function(t,s,o){""===s?o(new Error("请输入密码")):(""!==e.form.cpassword&&e.$refs.form.validateField("cpassword"),o())},r=function(t,s,o){""===s?o(new Error("请再次输入密码")):s!==e.form.password?o(new Error("两次输入密码不一致!")):o()};return{active:0,msgText:u,msgTime:f,msgKey:!1,form:{username:"",password:"",cpassword:"",phone:"",code:"",randomStr:""},code:{src:"/code",value:"",len:4,type:"image"},checked:!1,registerRule:{username:[{validator:t,trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur",validator:o},{min:6,message:"密码长度最少为6位",trigger:"blur"}],cpassword:[{trigger:"blur",validator:r},{min:6,message:"密码长度最少为6位",trigger:"blur"}],phone:[{required:!0,trigger:"blur",validator:s}]},passwordType:"password",passform:Object(c["d"])()}},created:function(){this.refreshCode()},mounted:function(){},computed:Object(a["a"])({},Object(i["c"])(["tagWel"])),methods:{emitEmpty:function(e){this.$refs[e].focus(),this.form[e]=""},handleLogin:function(){this.$emit("tab-active","user")},handleSend:function(){var e=this;if(!this.msgKey){Object(c["b"])(this.form.phone).then(function(t){t.data.data?e.$message.success("验证码发送成功"):e.$message.error(t.data.msg)}),this.msgText=d.replace("${time}",this.msgTime),this.msgKey=!0;var t=setInterval(function(){e.msgTime--,e.msgText=d.replace("${time}",e.msgTime),0==e.msgTime&&(e.msgTime=f,e.msgText=u,e.msgKey=!1,clearInterval(t))},1e3)}},refreshCode:function(){this.form.code="",this.form.randomStr=Object(n["l"])(this.code.length,!0),"text"===this.code.type?this.code.value=Object(n["l"])(this.code.len):this.code.src="".concat(this.codeUrl,"?randomStr=").concat(this.form.randomStr)},showPassword:function(){""==this.passwordType?this.passwordType="password":this.passwordType=""},handleRegister:function(){var e=this;this.$refs.form.validate(function(t){t&&Object(c["j"])(e.form).then(function(t){var s=t.data;s.data?(e.$message({message:"恭喜你，注册成功",type:"success"}),e.$router.push("/login")):e.$message({message:s.msg,type:"warning"})})})},checkcode:function(){this.form.code||(this.$message.error("验证码不能为空"),this.active--)},checkphone:function(){if(!this.form.phone)return this.$message.error("手机号不能为空"),!1;var e=/(^1[0-9]{10}$)|(^0\d{2,3}-?\d{7,8}$)/;e.test(this.form.phone)||this.$message.error("请输入正确的手机号码")},refreshpassword:function(){var e=this;return this.form.password?this.form.cpassword?this.form.password!==this.form.cpassword?(this.$message.error("密码不一致!"),!1):(this.passform.phone=this.form.phone,this.passform.vCode=this.form.code,this.passform.newPassword=this.form.password,this.passform.rePassword=this.form.cpassword,void Object(c["a"])(this.passform).then(function(t){var s=t.data;0===s.code?(e.$message.success("修改密码成功"),e.active++):e.$message.error(s.message)})):(this.$message.error("请再次输入密码"),!1):(this.$message.error("请输入密码"),!1)}}},p=m,h=(s("1d4d"),s("363f"),s("2877")),g=Object(h["a"])(p,o,r,!1,null,"2d0d6b7f",null);t["default"]=g.exports}}]);