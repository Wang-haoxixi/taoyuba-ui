(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55659612"],{"27ed":function(t,e,a){"use strict";a("e2cd")},"6ada":function(t,e,a){"use strict";e["a"]={methods:{getQuery:function(){var t=sessionStorage.getItem("query");if(sessionStorage.getItem("query")){var e=JSON.parse(t);for(var a in this.params)e[a]&&(this.params[a]=e[a])}},setQuery:function(t){if(t){var e=sessionStorage.getItem("query");if(sessionStorage.getItem("query")){var a=JSON.parse(e);for(var n in t)a[n]=t[n];sessionStorage.setItem("query",JSON.stringify(a))}else sessionStorage.setItem("query",JSON.stringify(t))}else sessionStorage.setItem("query",JSON.stringify(this.params))}}}},b8b7:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contract-box"},[a("basic-container",[a("div",{staticClass:"shipowner_title"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.addShipowner}},[t._v("新增")]),a("div",{staticStyle:{float:"right"}},[a("span",[a("el-input",{attrs:{placeholder:"请输入基层名称",size:"small",clearable:""},model:{value:t.params.villageName,callback:function(e){t.$set(t.params,"villageName","string"===typeof e?e.trim():e)},expression:"params.villageName"}})],1),a("span",[a("el-input",{attrs:{placeholder:"请输入联系人",size:"small",clearable:""},model:{value:t.params.contactName,callback:function(e){t.$set(t.params,"contactName","string"===typeof e?e.trim():e)},expression:"params.contactName"}})],1),a("span",[a("el-input",{attrs:{placeholder:"请输入联系电话",size:"small",clearable:""},model:{value:t.params.phone,callback:function(e){t.$set(t.params,"phone","string"===typeof e?e.trim():e)},expression:"params.phone"}})],1),a("span",[a("el-select",{attrs:{placeholder:"请选择状态",size:"small",clearable:""},model:{value:t.params.status,callback:function(e){t.$set(t.params,"status",e)},expression:"params.status"}},t._l(t.status,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-button",{attrs:{size:"small"},on:{click:t.onSearch}},[t._v("搜索")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.shipownerList,stripe:""}},[t._l(t.options.columns,function(e,n){return a("el-table-column",{key:n,attrs:{prop:e.value,label:e.text},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\r\n              "+t._s(a.row[e.value]?a.row[e.value]:"--")+"\r\n          ")]}}],null,!0)})}),a("el-table-column",{attrs:{prop:"status",label:"审核操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return t.getStatus(e.row.swith,e.row.userId)}},model:{value:e.row.swith,callback:function(a){t.$set(e.row,"swith",a)},expression:"scope.row.swith"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"status",label:"审核状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\r\n            "+t._s(t._f("typeFilter")(e.row.status))+"\r\n          ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"310",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleView(e.row.userId)}}},[t._v("查看")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.row.userId)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleDel(e.row.userId)}}},[t._v("删除")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleShip(e.row.userId)}}},[t._v("渔船分配")])]}}])})],2),a("div",{staticStyle:{"text-align":"center",margin:"20px 0"}},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.total,"page-size":t.params.size,"current-page":t.params.current},on:{"update:currentPage":function(e){return t.$set(t.params,"current",e)},"update:current-page":function(e){return t.$set(t.params,"current",e)},"current-change":t.currentChange}})],1)],1)],1)},r=[],s=(a("ac6a"),a("daa6")),i=a("6ada"),o={mixins:[i["a"]],data:function(){return{shipownerList:[],total:10,params:{current:1,size:10,villageName:"",phone:"",contactName:"",status:""},options:{expandAll:!1,columns:[{text:"基层名称",value:"villageName"},{text:"联系人",value:"contactName"},{text:"联系电话",value:"phone"},{text:"基层地址",value:"address"},{text:"介绍",value:"content"}]},status:[{label:"审核中",value:1},{label:"审核通过",value:2},{label:"审核失败",value:3}]}},methods:{onSearch:function(){this.setQuery(),this.params.current=1,this.getData()},currentChange:function(t){this.params.current=t,this.setQuery({current:this.params.current}),this.getData()},addShipowner:function(){this.$router.push({name:"detailBvillage"})},handleView:function(t){this.$router.push({name:"detailBvillage",query:{see:t}})},handleEdit:function(t){this.$router.push({name:"detailBvillage",query:{edit:t}})},handleShip:function(t){this.$router.push({name:"allotship",query:{allot:t}})},getData:function(){var t=this;Object(s["f"])(this.params).then(function(e){t.shipownerList=e.data.data.records,t.shipownerList.forEach(function(t){2===t.status?t.swith=!0:t.swith=!1}),t.total=e.data.data.total})},handleDel:function(t){var e=this;this.$confirm("此操作将永久删除该渔村, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s["a"])(t).then(function(t){e.$message({type:"success",message:t.data.msg}),e.getData()}).catch(function(t){e.$message.error(t.data.msg)})}).catch(function(){})},getStatus:function(t,e){var a=this,n="";n=t?2:3,Object(s["k"])(n,e).then(function(t){a.$message({type:"success",message:t.data.msg}),a.getData()})}},computed:{},created:function(){this.getQuery(),this.getData()},filters:{typeFilter:function(t){if(t){var e={1:"审核中",2:"审核通过",3:"审核失败"};return e[t]}return"--"}}},c=o,u=(a("27ed"),a("2877")),l=Object(u["a"])(c,n,r,!1,null,"4407c52e",null);e["default"]=l.exports},daa6:function(t,e,a){"use strict";a.d(e,"f",function(){return s}),a.d(e,"g",function(){return i}),a.d(e,"i",function(){return o}),a.d(e,"a",function(){return c}),a.d(e,"c",function(){return u}),a.d(e,"b",function(){return l}),a.d(e,"k",function(){return p}),a.d(e,"h",function(){return d}),a.d(e,"d",function(){return m}),a.d(e,"e",function(){return f}),a.d(e,"j",function(){return h});var n=a("b5c6"),r="/tmlms/village";function s(t){return Object(n["a"])({url:"".concat(r,"/page"),method:"get",params:t})}function i(){return Object(n["a"])({url:"".concat(r,"/getVillageByOrg"),method:"get"})}function o(t,e){return Object(n["a"])({url:"".concat(r,"/create?type=").concat(e),method:"post",data:t})}function c(t){return Object(n["a"])({url:"".concat(r,"/delete?userId=").concat(t),method:"post"})}function u(t,e){return Object(n["a"])({url:"".concat(r,"/edit?type=").concat(e),method:"post",data:t})}function l(t){return Object(n["a"])({url:"".concat(r,"/detail?userId=").concat(t),method:"get"})}function p(t,e){return Object(n["a"])({url:"".concat(r,"/review?status=").concat(t,"&userId=").concat(e),method:"post"})}function d(t){return Object(n["a"])({url:"".concat(r,"/page/villageshipowner"),method:"get",params:t})}function m(t){return Object(n["a"])({url:"".concat(r,"/getByVillagename"),method:"get",params:t})}function f(t){return Object(n["a"])({url:"/tmlms/relationship/countRecordWithShip",method:"get",params:t})}function h(t){return Object(n["a"])({url:"/tmlms/trainMeet/createTime?id=".concat(t.id,"&type=").concat(t.type),method:"post"})}},e2cd:function(t,e,a){}}]);