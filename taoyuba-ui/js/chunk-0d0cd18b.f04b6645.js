(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d0cd18b"],{"502e":function(e,t,n){"use strict";var a=n("be94"),r=(n("96cf"),n("1da1")),i=n("51f4"),o={delete:"删除",shelf:"上架",submit:"提交",cancel:"撤销"};t["a"]={data:function(){return{pagedTable:[],multipleSelection:[],isLoadTable:!0,pagination:this._pageOption(),pageOption:this._pageOption(),searchForm:{}}},methods:{_pageOption:function(){return Object(i["a"])()},searchPage:function(e){this.pageOption=this._pageOption(),this.searchForm=e,this.loadPage(e)},loadTable:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,i,o,c,s,u,l,m,p,d=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=d.length>2&&void 0!==d[2]?d[2]:function(e){return e},this.isLoadTable=!0,e.next=4,n(Object(a["a"])({},this.pageOption,t));case 4:return i=e.sent,o=i.data,c=o.data,s=c.records,u=c.size,l=c.total,m=c.current,p=l/u+1===m,p&&0!==l?this.searchPage({current:m-1,size:u,total:l}):this.pagination={current:m,size:u,total:l},this.pagedTable=s.map(r),this.isLoadTable=!1,e.abrupt("return",o.data);case 12:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){this.pageOption.size=e,this.loadPage()},handleCurrentChange:function(e){this.pageOption.current=e,this.loadPage()},_handleGlobalDeleteById:function(e,t){this._handleGlobalById(e,t,"delete")},_handleGlobalDeleteAll:function(e){this._handleGlobalAll(e,"delete")},_handleGlobalById:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"delete",r=o[a];this.$confirm("此操作将".concat(r,"该数据, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t(e).then(function(e){e.data.data?n.$message({type:"success",message:"".concat(r,"成功!")}):n.$message({type:"info",message:"".concat(r,"失败，").concat(e.data.msg)}),n.loadPage()})})},_handleGlobalAll:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,a,i,c=this,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:"delete",a=this.multipleSelection,i=o[n],void 0!==a&&0!==a.length){e.next=6;break}return this.$message("请先选择需要".concat(i,"的选项")),e.abrupt("return");case 6:this.$confirm("此操作将".concat(i,"这些数据, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t(a);case 2:n=e.sent,r=n.data,r.data?(c.$message({type:"success",message:"".concat(i,"成功!")}),c.pageOption=c._pageOption()):c.$message({type:"info",message:"".concat(i,"失败，").concat(r.msg)}),c.loadPage();case 6:case"end":return e.stop()}},e)})));case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),_handleComfirm:function(e,t,n,a,i){var o=this;this.$confirm(a||"是否".concat(n),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark(function a(){var r,c;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t(e);case 2:r=a.sent,c=r.data,c.data?o.$message({type:"success",message:i||"".concat(n,"成功!")}):o.$message({type:"info",message:"".concat(c.msg)}),o.loadPage();case 6:case"end":return a.stop()}},a)}))).catch(function(e){o.$message({type:"info",message:"".concat(e,", 已取消").concat(n)})})},mixinsCellPointerStyle:function(e){var t=e.column;return"index"!==t.type&&"selection"!==t.type&&"操作"!==t.label&&"cursor:pointer"}}}},"84df":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("c1df"),r=n.n(a),i=function(){return r()().format("YYYY-MM-DD HH:mm:ss")}},"990a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("basic-container",[n("page-header",{attrs:{title:"禁渔期工作"}}),n("operation-container",[n("template",{slot:"left"},[n("iep-button",{attrs:{type:"primary",icon:"el-icon-plus",plain:""},on:{click:function(t){return e.handleAdd()}}},[e._v("新增")])],1),n("template",{slot:"right"},[n("operation-search",{attrs:{"advance-search":"",prop:e.searchData},on:{"search-page":e.searchPage}},[n("advance-search",{on:{"search-page":e.searchPage}})],1)],1)],2),n("iep-table",{attrs:{isLoadTable:e.isLoadTable,pagination:e.pagination,columnsMap:e.columnsMap,pagedTable:e.pagedTable,"is-mutiple-selection":""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{prop:"operation",label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("operation-wrapper",[n("iep-button",{attrs:{type:"warning",plain:""},on:{click:function(n){return e.handleEdit(t.row)}}},[e._v("编辑")]),n("iep-button",{on:{click:function(n){return e.handleDetail(t.row)}}},[e._v("查看")]),n("iep-button",{attrs:{type:"default"},on:{click:function(n){return e.handleDelete(t.row)}}},[n("i",{staticClass:"el-icon-delete"})])],1)]}}])})],1)],1)],1)},r=[],i=(n("96cf"),n("1da1")),o=n("a7c4"),c=n("9c0b"),s=n("502e"),u=n("cd58"),l={components:{AdvanceSearch:c["default"]},mixins:[s["a"]],data:function(){return{dictsMap:u["b"],columnsMap:u["a"],searchData:"contactName"}},created:function(){this.loadPage()},methods:{handleSelectionChange:function(e){this.multipleSelection=e.map(function(e){return e.id})},handleDelete:function(e){this._handleGlobalDeleteById(e.positionId,o["b"])},handleAdd:function(){this.$router.push({path:"/hrms_spa/position_post/0"})},handleEdit:function(e){this.$router.push({path:"/hrms_spa/position_post/".concat(e.positionId)})},handleDetail:function(e){this.$emit("onDetail",e)},loadPage:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this.searchForm,e.next=3,this.loadTable(t,o["d"]);case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},m=l,p=n("2877"),d=Object(p["a"])(m,a,r,!1,null,null,null);t["default"]=d.exports},"9c0b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{model:e.form,"label-width":"120px",size:"mini"}},[n("el-form-item",{attrs:{label:"联系人："}},[n("el-input",{model:{value:e.form.contactName,callback:function(t){e.$set(e.form,"contactName",t)},expression:"form.contactName"}})],1),n("el-form-item",{attrs:{label:"岗位名称："}},[n("el-input",{model:{value:e.form.positionName,callback:function(t){e.$set(e.form,"positionName",t)},expression:"form.positionName"}})],1),n("el-form-item",[n("operation-wrapper",[n("iep-button",{attrs:{type:"primary"},on:{click:e.searchPage}},[e._v("搜索")]),n("iep-button",{on:{click:e.clearSearchParam}},[e._v("清空")])],1)],1)],1)},r=[],i=n("cd58"),o={data:function(){return{dictsMap:i["b"],form:Object(i["e"])(),pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]}}},methods:{searchPage:function(){this.$emit("search-page",Object(i["g"])(this.form))},clearSearchParam:function(){this.form=Object(i["e"])()}}},c=o,s=n("2877"),u=Object(s["a"])(c,a,r,!1,null,null,null);t["default"]=u.exports},a7c4:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return u});var a=n("b5c6"),r="tybhrms/position";function i(e){return Object(a["a"])({url:"".concat(r,"/page"),method:"get",params:e})}function o(e){return Object(a["a"])({url:"".concat(r,"/delete/")+e,method:"post",data:e})}function c(e){return Object(a["a"])({url:"".concat(r,"/add"),method:"post",data:e})}function s(e){return Object(a["a"])({url:"".concat(r,"/")+e,method:"get",params:e})}function u(e,t){return Object(a["a"])({url:"".concat(r,"/update"),method:"put",params:{publish:t},data:e})}},cd58:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"f",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return d}),n.d(t,"e",function(){return m}),n.d(t,"g",function(){return g});var a=n("0e0b"),r=n("84df"),i={},o=[{prop:"contactName",label:"联系人"},{prop:"positionName",label:"岗位名称"},{prop:"recruitNo",label:"招聘人数"},{prop:"salary",label:"月薪"},{prop:"updateTime",label:"更新时间"}],c=function(){return{positionId:"",contactName:"",positionName:"",contactPhone:"",raiseNo:"",recruitNo:"",salary:"",settlement:"",workCls:"",startTime:Object(r["a"])(),endTime:Object(r["a"])(),workPlace:"",workTime:"",workSpecification:""}},s=function(){return{positionId:"",contactName:"",positionName:"",contactPhone:"",raiseNo:"",recruitNo:"",salary:"",settlement:"",workCls:"",startTime:Object(r["a"])(),endTime:Object(r["a"])(),workPlace:"",workTime:"",workSpecification:""}},u=function(e,t,n){if(""!==t){var a=/(^1[0-9]{10}$)|(^0\d{2,3}-?\d{7,8}$)/;a.test(t)||n(new Error("请输入11位的手机号码"))}n()},l={contactName:[{required:!0,message:"请填联系人",trigger:"blur"},{min:2,max:4,message:"长度在 2 到 4 个字符",trigger:"blur"}],positionName:[{required:!0,message:"请填岗位名称",trigger:"blur"},{max:10,message:"长度在 0 到 10 个字符",trigger:"blur"}],contactPhone:[{required:!0,message:"请填联系电话",trigger:"blur"},{validator:u,trigger:"blur"}],raiseNo:[{required:!0,message:"请填递增人数",trigger:"blur"},{max:4,message:"不得超过5位数",trigger:"blur"}],recruitNo:[{required:!0,message:"请填招聘人数",trigger:"blur"},{max:4,message:"不得超过5位数",trigger:"blur"}],salary:[{required:!0,message:"请填月薪",trigger:"blur"},{max:10,message:"不得超过10位数",trigger:"blur"}],settlement:[{required:!0,message:"请填结算方式",trigger:"blur"}],workCls:[{required:!0,message:"请填工作类型",trigger:"blur"}],workPlace:[{required:!0,message:"请填工作地点",trigger:"blur"},{max:25,message:"长度在 0 到 25 个字符",trigger:"blur"}],workTime:[{required:!0,message:"请填工作时间",trigger:"blur"},{max:25,message:"长度在 0 到 25 个字符",trigger:"blur"}],startTime:[{required:!0,message:"请填开始时间",trigger:"blur"}],endTime:[{required:!0,message:"请填结束时间",trigger:"blur"}],workSpecification:[{required:!0,message:"请填岗位描述",trigger:"blur"},{max:100,message:"长度在 0 到 100 个字符",trigger:"blur"}]},m=function(){return{contactName:"",positionName:""}},p=function(){return{contactName:"",positionName:""}},d=function(e){var t=Object(a["g"])(s(),e);return t},g=function(e){var t=Object(a["g"])(p(),e);return t.contactName=e.contactName?e.contactName:null,t.positionName=e.positionName?e.positionName:null,t}}}]);