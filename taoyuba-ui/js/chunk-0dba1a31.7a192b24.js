(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0dba1a31"],{"2f9e":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("ac6a"),n("28a5"),n("a481");var r=n("b5c6");function a(t){var e=t.url,n=t.method,a=void 0===n?"post":n,i=t.data,c=void 0===i?{}:i,u=t.title,s=void 0===u?"":u;return new Promise((function(t){return Object(r["a"])({url:e,method:a,headers:{responseType:"arraybuffer"},data:c,responseType:"blob"}).then((function(e){o({title:s,response:e}).then((function(){t()}))}))}))}function o(t){var e=t.title,n=void 0===e?"":e,r=t.response,a=i(r.headers["content-disposition"].replace(/"/g,""));return new Promise((function(t){var e=r.headers,o=new Blob([r.data],{type:e["content-type"]});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(o,n);else{var i=document.createElement("a");i.href=window.URL.createObjectURL(o),i.download=n?"".concat(n,".").concat(a.suffix):a.filename,document.body.appendChild(i),i.style.display="none",i.click()}t()}))}function i(t){var e={},n=t.split(";");return n.forEach((function(t){var n=t.replace(/^\s+|\s+$/g,""),r=n.split("=");r[1]?e[r[0]]=r[1]:e[r[0]]=r[0]})),e.suffix=e.filename.split(".")[1],e}},4917:function(t,e,n){"use strict";var r=n("cb7c"),a=n("9def"),o=n("0390"),i=n("5f1b");n("214f")("match",1,(function(t,e,n,c){return[function(n){var r=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=c(n,t,this);if(e.done)return e.value;var u=r(t),s=String(this);if(!u.global)return i(u,s);var d=u.unicode;u.lastIndex=0;var l,p=[],h=0;while(null!==(l=i(u,s))){var m=String(l[0]);p[h]=m,""===m&&(u.lastIndex=o(s,a(u.lastIndex),d)),h++}return 0===h?null:p}]}))},"502e":function(t,e,n){"use strict";n("8e6e"),n("ac6a"),n("456d");var r=n("ade3"),a=(n("96cf"),n("1da1")),o=n("51f4");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u={delete:"删除",shelf:"上架",submit:"提交",cancel:"撤销"};e["a"]={data:function(){return{pagedTable:[],multipleSelection:[],isLoadTable:!0,pagination:this._pageOption(),pageOption:this._pageOption(),searchForm:{}}},methods:{_pageOption:function(){return Object(o["a"])()},searchPage:function(t){this.pageOption=this._pageOption(),this.searchForm=t,this.loadPage(t)},loadTable:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var r,a,o,i,u,s,d,l,p,h=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=h.length>2&&void 0!==h[2]?h[2]:function(t){return t},this.isLoadTable=!0,t.next=4,n(c(c({},this.pageOption),e));case 4:return a=t.sent,o=a.data,i=o.data,u=i.records,s=i.size,d=i.total,l=i.current,p=d/s+1===l,p&&0!==d?this.searchPage({current:l-1,size:s,total:d}):this.pagination={current:l,size:s,total:d},this.pagedTable=u.map(r),this.isLoadTable=!1,t.abrupt("return",o.data);case 12:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}(),handleSizeChange:function(t){this.pageOption.size=t,this.loadPage()},handleCurrentChange:function(t){this.pageOption.current=t,this.loadPage()},_handleGlobalDeleteById:function(t,e){this._handleGlobalById(t,e,"delete")},_handleGlobalDeleteAll:function(t){this._handleGlobalAll(t,"delete")},_handleGlobalById:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"delete",a=u[r];this.$confirm("此操作将".concat(a,"该数据, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e(t).then((function(t){t.data.data?n.$message({type:"success",message:"".concat(a,"成功!")}):n.$message({type:"info",message:"".concat(a,"失败，").concat(t.data.msg)}),n.loadPage()}))}))},_handleGlobalAll:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r,o,i=this,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:"delete",r=this.multipleSelection,o=u[n],void 0!==r&&0!==r.length){t.next=6;break}return this.$message("请先选择需要".concat(o,"的选项")),t.abrupt("return");case 6:this.$confirm("此操作将".concat(o,"这些数据, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(a["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e(r);case 2:n=t.sent,a=n.data,a.data?(i.$message({type:"success",message:"".concat(o,"成功!")}),i.pageOption=i._pageOption()):i.$message({type:"info",message:"".concat(o,"失败，").concat(a.msg)}),i.loadPage();case 6:case"end":return t.stop()}}),t)}))));case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),_handleComfirm:function(t,e,n,r,o){var i=this;this.$confirm(r||"是否".concat(n),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(a["a"])(regeneratorRuntime.mark((function r(){var a,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e(t);case 2:a=r.sent,c=a.data,c.data?i.$message({type:"success",message:o||"".concat(n,"成功!")}):i.$message({type:"info",message:"".concat(c.msg)}),i.loadPage();case 6:case"end":return r.stop()}}),r)})))).catch((function(t){i.$message({type:"info",message:"".concat(t,", 已取消").concat(n)})}))},mixinsCellPointerStyle:function(t){var e=t.column;return"index"!==e.type&&"selection"!==e.type&&"操作"!==e.label&&"cursor:pointer"}}}},5612:function(t,e,n){"use strict";n.d(e,"i",(function(){return i})),n.d(e,"j",(function(){return c})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return s})),n.d(e,"r",(function(){return d})),n.d(e,"c",(function(){return l})),n.d(e,"t",(function(){return p})),n.d(e,"u",(function(){return h})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return f})),n.d(e,"g",(function(){return g})),n.d(e,"v",(function(){return b})),n.d(e,"f",(function(){return w})),n.d(e,"z",(function(){return O})),n.d(e,"k",(function(){return y})),n.d(e,"n",(function(){return j})),n.d(e,"h",(function(){return v})),n.d(e,"p",(function(){return I})),n.d(e,"x",(function(){return x})),n.d(e,"y",(function(){return N})),n.d(e,"w",(function(){return T})),n.d(e,"b",(function(){return E})),n.d(e,"q",(function(){return S})),n.d(e,"a",(function(){return P})),n.d(e,"s",(function(){return _})),n.d(e,"o",(function(){return k}));var r=n("b5c6"),a=n("2f9e"),o="/tmlms/crew";function i(t){return Object(r["a"])({url:"".concat(o,"/Page"),method:"get",params:t})}function c(t){return Object(r["a"])({url:"".concat(o,"/findByShipId?shipId=").concat(t),method:"get",params:t})}function u(t){return Object(r["a"])({url:"".concat(o,"/getHistoryByShipId?shipId=").concat(t.shipId),method:"get",params:t})}function s(t){return Object(r["a"])({url:"".concat(o,"/pageWithShip"),method:"get",params:t})}function d(t){return Object(r["a"])({url:"".concat(o,"/shipLogPage"),method:"get",params:t})}function l(t){return Object(r["a"])({url:"".concat(o,"/checkMoreRelations"),method:"post",data:t})}function p(t,e){return Object(r["a"])({url:"".concat(o,"/create?type=").concat(e),method:"post",data:t})}function h(t,e){return Object(r["a"])({url:"".concat(o,"/batchCreate?type=").concat(e),method:"post",data:t,timeout:3e5})}function m(t){return Object(r["a"])({url:"".concat(o,"/delete?idcard=").concat(t),method:"post"})}function f(t,e){return Object(r["a"])({url:"".concat(o,"/deleteRelation?idcard=").concat(t,"&&shipId=").concat(e),method:"post"})}function g(t,e){return Object(r["a"])({url:"".concat(o,"/edit?type=").concat(e),method:"post",data:t})}function b(t,e){return Object(r["a"])({url:"".concat(o,"/review?status=").concat(t,"&userId=").concat(e),method:"post"})}function w(t){return Object(r["a"])({url:"".concat(o,"/getCrewByidcard?idcard=").concat(t),method:"get"})}function O(t){return Object(r["a"])({url:"admin/file/upload/avatar",method:"post",data:t})}function y(t){return Object(r["a"])({url:"".concat(o,"/idcardcheck?idcard=").concat(t),method:"get"})}function j(t){return Object(r["a"])({url:"".concat(o,"/idcardcheck?idcard=").concat(t),method:"get"})}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"船员信息";return Object(a["a"])({url:"tmlms/tybmlmsExcelExport/downloadCrew",data:t,title:e})}function I(t){return Object(r["a"])({url:"".concat(o,"/badPage"),method:"get",params:t})}function x(t){return Object(r["a"])({url:"".concat(o,"/badUpdateBatch"),method:"post",data:t})}function N(t){return Object(r["a"])({url:"".concat(o,"/uploadBaseImage"),method:"post",data:t})}function T(t){return Object(r["a"])({url:"".concat(o,"/updateCertByIdcard"),method:"post",params:t})}function E(t){return Object(r["a"])({url:"".concat(o,"/changeShip"),method:"post",data:t})}function S(t){return Object(r["a"])({url:"".concat(o,"/getShipRelationByIdcard"),method:"get",params:t})}function P(t){return Object(r["a"])({url:"/tmlms/tybship/pageForChange",method:"get",params:t})}function _(t){return Object(r["a"])({url:"/tmlms/importTask/lookTask",method:"get",params:{taksId:t}})}function k(t){return Object(r["a"])({url:"/tmlms/crew_cert/newPage",method:"get",params:t})}},"8b00":function(t,e,n){"use strict";n.d(e,"e",(function(){return y})),n.d(e,"d",(function(){return j})),n.d(e,"h",(function(){return c})),n.d(e,"f",(function(){return a})),n.d(e,"l",(function(){return g})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return b})),n.d(e,"o",(function(){return O})),n.d(e,"g",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"k",(function(){return s})),n.d(e,"n",(function(){return u})),n.d(e,"m",(function(){return d})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return p}));n("4917"),n("3b2b");var r=n("0e0b"),a=[{prop:"shipName",label:"渔船名"},{prop:"shipNo",label:"渔船编号"},{prop:"shipowner",label:"持证人"},{prop:"shipownerIdcard",label:"持证人身份证"},{prop:"hullLength",label:"船长(m)"}],o=[{prop:"realName",label:"姓名"},{prop:"idcard",label:"身份证号码"},{prop:"phone",label:"联系电话"},{prop:"positionId",label:"现任职位",dictName:"tyb_resume_position",type:"dictGroup"},{prop:"workStatus",label:"用工状态"}],i=[{prop:"idcard",label:"身份证号码"},{prop:"workStatus",label:"用工状态"},{prop:"phone",label:"手机号码"},{prop:"certName",label:"职务证书"},{prop:"flag",label:"来源"},{prop:"provinceIdName",label:"籍贯"},{prop:"signStatus",label:"是否培训",type:"dict"}],c={signStatus:{0:"否",1:"是"}},u=[{prop:"employeeName",label:"姓名"},{prop:"employeeIdcard",label:"身份证号码"},{prop:"employeePhone",label:"联系电话"},{prop:"employeePosition",label:"职位",dictName:"tyb_resume_position",type:"dictGroup"},{prop:"provinceIdName",label:"籍贯"}],s=[{prop:"shipName",label:"船名号"},{prop:"realname",label:"姓名"}],d=[{prop:"realName",label:"姓名"},{prop:"idcard",label:"身份证"},{prop:"positionId",label:"职位",dictName:"tyb_resume_position",type:"dictGroup"},{prop:"phone",label:"电话"},{prop:"address",label:"地址"}],l=[{prop:"realName",label:"姓名",width:"180"},{prop:"idcard",label:"身份证",width:"230"},{prop:"certNames",label:"职务证书"},{prop:"shipNames",label:"已登记的渔船"},{prop:"leftTime",label:"最近上船时间",width:"210"}],p=[{prop:"realName",label:"姓名"},{prop:"idcard",label:"身份证"},{prop:"shipId",label:"船名"},{prop:"flag",label:"上下船类型"},{prop:"sourceType",label:"来源"},{prop:"leftTime",label:"最近上船时间"}],h=function(){return{activityType:"",address:"",buildDate:"",createTime:"",dualPower:"",engineTotalPower:"",fishType:"",fishingGear:"",grossTonnage:"",hullLength:"",hullMaterial:"",licensesFishingExpireDate:"",licensesInspectionExpireDate:"",licensesNationalExpireDate:"",licensesOwnerExpireDate:"",licensesDateExpire:"",licensesDateIssue:"",licensesFishingNo:"",licensesInspectionNo:"",licensesNationalNo:"",licensesOwnerShip:"",mainEngineModel:"",mainEnginePower:"",mobile:"",mouldedBreadth:"",mouldedDepth:"",netTonnage:"",portRegister:"",shipId:"",shipName:"",shipNo:"",shipShare:"",shipowner:"",shipownerIdcard:"",updateTime:"",userId:"",workMode:"",workMode2:"",zipcode:"",regionId:""}};function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new RegExp("^\\d{0,"+e+"}$");if(0===n)return r.test(t);var a=new RegExp("^\\d{0,"+e+"}\\.\\d{0,"+n+"}$");return r.test(t)||a.test(t)}function f(t,e,n){""===e?n(new Error):m(e,t.length,t.decimal)?n():n(new Error)}var g={regionId:[{required:!0,message:"该选项必填！",trigger:"blur"}],address:[{required:!0,message:"该选项必填！",trigger:"blur"}],createTime:[{required:!0,message:"该选项必填！",trigger:"blur"}],licensesFishingNo:[{required:!0,message:"该选项必填！",trigger:"blur"}],licensesOwnerShip:[{required:!0,message:"该选项必填！",trigger:"blur"}],mobile:[{required:!0,validator:f,trigger:"blur",length:11,decimal:0,message:"请输入正确的手机号码！"}],shipId:[{required:!0,message:"该选项必填！",trigger:"blur"}],shipName:[{required:!0,message:"该选项必填！",trigger:"blur"}],shipNo:[{required:!0,message:"该选项必填！",trigger:"blur"}],shipShare:[{required:!0,message:"该选项必填！",trigger:"change"}],shipowner:[{required:!0,message:"该选项必填！",trigger:"blur"}],shipownerIdcard:[{required:!0,trigger:"blur",max:18,min:18,decimal:0,message:"请输入正确的身份证/企业代码！"}],updateTime:[{required:!0,message:"该选项必填！",trigger:"blur"}]},b=function(){return{shipName:"",shipNo:"",shipowner:"",shipownerIdcard:""}},w=function(){return{shipName:"",shipNo:"",shipowner:"",shipownerIdcard:""}},O=function(t){var e=Object(r["g"])(w(),t);return e.shipName=t.shipName?t.shipName:null,e.shipNo=t.shipNo?t.shipNo:null,e.shipowner=t.shipowner?t.shipowner:null,e.shipownerIdcard=t.shipownerIdcard?t.shipownerIdcard:null,e};function y(t){return!t.match(/^(0|86|17951)?(13[0-9]|15[012356789]|17[0-9]|18[0-9]|14[0-9]|19[0-9]|16[0-9])[0-9]{8}$/)}function j(t){return!t.match(/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/)}},ade36:function(t,e,n){"use strict";n.d(e,"w",(function(){return i})),n.d(e,"e",(function(){return c})),n.d(e,"r",(function(){return u})),n.d(e,"d",(function(){return s})),n.d(e,"t",(function(){return d})),n.d(e,"v",(function(){return l})),n.d(e,"h",(function(){return p})),n.d(e,"J",(function(){return h})),n.d(e,"i",(function(){return m})),n.d(e,"s",(function(){return f})),n.d(e,"x",(function(){return g})),n.d(e,"y",(function(){return b})),n.d(e,"o",(function(){return w})),n.d(e,"u",(function(){return O})),n.d(e,"z",(function(){return y})),n.d(e,"k",(function(){return j})),n.d(e,"m",(function(){return v})),n.d(e,"l",(function(){return I})),n.d(e,"n",(function(){return x})),n.d(e,"j",(function(){return N})),n.d(e,"G",(function(){return T})),n.d(e,"H",(function(){return E})),n.d(e,"b",(function(){return S})),n.d(e,"D",(function(){return P})),n.d(e,"I",(function(){return _})),n.d(e,"C",(function(){return k})),n.d(e,"q",(function(){return R})),n.d(e,"A",(function(){return B})),n.d(e,"c",(function(){return C})),n.d(e,"B",(function(){return $})),n.d(e,"f",(function(){return D})),n.d(e,"g",(function(){return q})),n.d(e,"E",(function(){return z})),n.d(e,"a",(function(){return M})),n.d(e,"K",(function(){return G})),n.d(e,"p",(function(){return L})),n.d(e,"F",(function(){return F}));var r=n("b5c6"),a=n("2f9e"),o="/tybship/tybship";function i(t){return Object(r["a"])({url:"".concat(o,"/otherpage"),method:"get",params:t})}function c(t,e){return Object(r["a"])({url:"".concat(o,"/updateVillage?shipId=").concat(t,"&&villageId=").concat(e),method:"post"})}function u(){return Object(r["a"])({url:"/admin/org/page",method:"get"})}function s(t,e){return Object(r["a"])({url:"".concat(o,"/updateOrgId?shipId=").concat(t,"&&orgId=").concat(e),method:"post"})}function d(t){return Object(r["a"])({url:"".concat(o,"/").concat(t),method:"get",params:t})}function l(t){return Object(r["a"])({url:"".concat(o,"/").concat(t),method:"get"})}function p(t){return Object(r["a"])({url:"".concat(o,"/save"),method:"post",data:t})}function h(t){return Object(r["a"])({url:"".concat(o,"/update"),method:"post",data:t})}function m(t){return Object(r["a"])({url:"".concat(o,"/del/").concat(t),method:"post"})}function f(t){return Object(r["a"])({url:"".concat(o,"/mypage"),method:"get",params:t})}function g(t){return Object(r["a"])({url:"".concat(o,"/findship/").concat(t),method:"get"})}function b(t){return Object(r["a"])({url:"".concat(o,"/findshipWithOutOrg/").concat(t),method:"get"})}function w(t){return Object(r["a"])({url:"".concat(o,"/findmyship/").concat(t),method:"get"})}function O(t){return Object(r["a"])({url:"".concat(o,"/searchByshipNo"),method:"get",params:{shipNo:t}})}function y(t){return Object(r["a"])({url:"".concat(o,"/newpageV2"),method:"get",params:t})}function j(t){return Object(a["a"])({url:"tybship/tybshipExcelExport/downShipInfo",data:t,title:"渔船信息"})}function v(t){return Object(a["a"])({url:"tmlms/tybmlmsExcelExport/downShipCrew",data:t,title:"开航登记表-"+t.shipName})}function I(t){return Object(a["a"])({url:"tmlms/tybmlmsExcelExport/downShipCrewRecord",data:t,title:"实名登记备案表-"+t.shipName})}function x(t){return Object(a["a"])({url:"tmlms/tybmlmsExcelExport/downShipCrewTwoOld ",data:t,title:"船员登记表-"+t.shipName})}function N(t){return Object(a["a"])({url:"tmlms/tybmlmsExcelExport/downContractModel",data:t,title:t.shipName})}function T(t){return Object(r["a"])({url:"tmlms/tyb_order/page",method:"get",params:t})}function E(t){return Object(r["a"])({url:"tmlms/tyb_order/getById",method:"get",params:t})}function S(t){return Object(r["a"])({url:"tmlms/tyb_order/agree",method:"post",data:t})}function P(t){return Object(r["a"])({url:"tmlms/tyb_order/reject",method:"post",data:t})}function _(t){return Object(r["a"])({url:"/tmlms/tybPortRecord/page",method:"get",params:t})}function k(t){return Object(r["a"])({url:"/tmlms/tybPortRecord/lastRecord",method:"get",params:t})}function R(t){return Object(r["a"])({url:"/tmlms/tybPortRecord/getCrewByRecordId",method:"get",params:t})}function B(t){return Object(r["a"])({url:"/tybship/tybship/info/".concat(t),method:"get"})}function C(t){return Object(r["a"])({url:"/tmlms/crew_cert/certStandard/".concat(t),method:"get"})}function $(t){return Object(r["a"])({url:"/tmlms/investigationReport/pageByShipName?shipName=".concat(t),method:"get"})}function D(t){return Object(r["a"])({url:"/tmlms/crew/countContractByShipId?shipId=".concat(t),method:"get"})}function q(t){return Object(r["a"])({url:"/tmlms/tybPortRecord/page",method:"get",params:t})}function z(t){return Object(r["a"])({url:"/tmlms/tybTroubleshootReport/pageByShipNo",method:"get",params:t})}function M(t){return Object(r["a"])({url:"/tmlms/tyb_order/pageByShipName",method:"get",params:t})}function G(t){return Object(r["a"])({url:"/tmlms/verification/page",method:"get",params:t})}function L(t){return console.log(t),Object(r["a"])({url:"/tmlms/tyb_order/getById?id=".concat(t.id),method:"get"})}function F(t){return Object(r["a"])({url:"/tmlms/tybmlmsExcelExport/downVerification",method:"post",headers:{"Content-Type":"application/json"},responseType:"arraybuffer",data:t}).then((function(t){var e=new Blob([t.data],{type:"application/vnd.ms-excel"}),n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.download="实船鉴证.xls",n.click()}))}},b1f6:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return c}));var r=n("b5c6"),a="/tmlms/tybshipshareholder";function o(t){return Object(r["a"])({url:"".concat(a,"/savebatch"),method:"post",data:t})}function i(t){return Object(r["a"])({url:"".concat(a,"/updatebatch"),method:"post",data:t})}function c(t){return Object(r["a"])({url:"".concat(a,"/getHolders/").concat(t),method:"get",params:t})}},f6c8:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("basic-container",[n("page-header",{attrs:{title:t.title}}),n("operation-container",[n("template",{slot:"left"}),n("template",{slot:"right"},[n("el-button",{on:{click:t.backPage}},[t._v("返回")])],1)],2),n("iep-table",{attrs:{isLoadTable:!1,pagination:t.pagination,columnsMap:t.shareHolderColumnsMap,pagedTable:t.pagedTable,"is-mutiple-selection":""},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{prop:"operation",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("operation-wrapper",[e.row.isEdit?n("iep-button",{attrs:{size:"mini",plain:""},on:{click:function(n){return t.handleEdit(e.row.idcard)}}},[t._v("编辑")]):t._e(),n("iep-button",{attrs:{size:"mini",plain:""},on:{click:function(n){return t.handleView(e.row.idcard)}}},[t._v("查看")])],1)]}}])})],1)],1)],1)},a=[],o=(n("ac6a"),n("2909")),i=(n("96cf"),n("1da1")),c=n("b1f6"),u=n("ade36"),s=n("502e"),d=n("8b00"),l=n("7ded"),p=n("5612"),h={mixins:[s["a"]],data:function(){return{shareHolderColumnsMap:d["m"],searchData:"contactName",manager:!1,userData:{},phone:"",title:"",owner:{}}},created:function(){this.loadPage(),this.getTitle()},methods:{getTitle:function(){this.title=this.$route.query.shipName+"股东"},getCrewInfo:function(t,e){var n=this;Object(p["i"])({idcard:t}).then((function(t){var r=t.data;0===r.code&&(console.log(r),r.data.records.length>0&&n.$set(e,"isEdit",!0))}))},handleSelectionChange:function(t){this.multipleSelection=t.map((function(t){return t.id}))},handleEdit:function(t){this.$router.push({name:"detailBoatMan",query:{edit:t,idcard:"idcard"}})},handleView:function(t){this.$router.push({path:"/boatMan/detail",query:{see:t}})},loadPage:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.shipId,t.next=3,Object(u["t"])(this.$route.params.shipId);case 3:n=t.sent,console.log(n),this.owner.address=n.data.data.address,this.owner.phone=n.data.data.mobile,this.owner.idcard=n.data.data.shipownerIdcard,this.owner.positionId="",this.owner.realName=n.data.data.shipowner,this.owner.shipId=e,this.owner.showbtn=1,Object(c["b"])(e).then((function(t){var e=[];if(e[0]=r.owner,t.data.data.length>0){for(var n in t.data.data)0==t.data.data[n].positionId&&(t.data.data[n].positionId="");e=[].concat(Object(o["a"])(e),Object(o["a"])(t.data.data))}e[0].realName=e[0].realName+"(持证人)",r.pagedTable=e,r.pagedTable.forEach(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.getCrewInfo(e.idcard,e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),backPage:function(){this.$router.push({path:"/hrms_spa/shipCrew_list"})},isManager:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["c"])().then((function(t){return t.data.data}));case 2:this.userData=t.sent,-1===this.userData.roles.indexOf(111)&&-1===this.userData.roles.indexOf(1)||(this.manager=!0);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},m=h,f=n("2877"),g=Object(f["a"])(m,r,a,!1,null,null,null);e["default"]=g.exports}}]);