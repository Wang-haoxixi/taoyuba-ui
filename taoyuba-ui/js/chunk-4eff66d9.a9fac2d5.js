(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4eff66d9"],{"1cf0":function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"e",(function(){return c})),a.d(t,"b",(function(){return l}));var r=a("b5c6"),o="/tybship/tybshipmanager";function n(e){return Object(r["a"])({url:"/tmlms/tybshiphaver/otherpage",method:"get",params:e})}function i(e,t){return Object(r["a"])({url:"/tmlms/tybshiphaver/getShiphaver?shipName=".concat(e,"&bindType=").concat(t),method:"get"})}function s(e){return Object(r["a"])({url:"".concat(o,"/save"),method:"post",data:e})}function c(e){return Object(r["a"])({url:"".concat(o,"/update"),method:"post",data:e})}function l(e){return Object(r["a"])({url:"".concat(o,"/del/").concat(e),method:"post"})}},2128:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("8e6e"),core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("5df3"),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("456d"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__),E_taoyuba_ui_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("53ca"),E_taoyuba_ui_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("ade3"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("7f7f"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_7__),vuex__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("2f62"),lodash_debounce__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("b047"),lodash_debounce__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_9__),_store__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("4360"),_api_ships_index__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("ade36"),_api_ships_shipoperat_index__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("1cf0"),_api_tmlms_boatMan_index__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("5612"),vue_socket_io__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("5132"),vue_socket_io__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(vue_socket_io__WEBPACK_IMPORTED_MODULE_14__),vue__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("2b0e"),_api_tmlms_newContract__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("266e"),_api_mlms_index__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("9060");function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){Object(E_taoyuba_ui_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_5__["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}vue__WEBPACK_IMPORTED_MODULE_15__["default"].use(new vue_socket_io__WEBPACK_IMPORTED_MODULE_14___default.a({debug:!0,connection:"http://localhost:5000"}));var checkTime=function(e,t,a){if(Array.isArray(t))t.map((function(e){if(""===e)return a("日期不能为空")}));else if(""===t)return a("日期不能为空");return a()};__webpack_exports__["a"]={props:{record:{},type:{}},data:function(){var e=this;return this.getShipNameList=lodash_debounce__WEBPACK_IMPORTED_MODULE_9___default()(this.getShipNameList,50),{akk:!0,formData:{shipownerName:"",shipownerIdcard:"",shipName:"",shipLicenses:"",shipownerPhone:"",shipownerAddr:"",employerName:"",employerIdcard:"",employerProp:1,employerPhone:"",shipJoint:0,shipJointYes:"",shipJointNo:"",employerAddr:"",employeeName:"",employeeIdcard:"",employeePhone:"",employeePosition:"",employeeAddr:"",employeeIsSick:0,employeeIsExp:0,employeePayType:1,employeePayBankAccount:"",employeePayAccount:"",employeePayBank:"",employeeLinkMan:"",employeeLinkPhone:"",activityType:"",workPosition:"",workSkill:"",workProbationTypeValue:"",workProbationType:1,workDateStart:"",workDateEnd:"",time:[],paySalaryType:2,paySalaryTypeValue:"",payType:3,payTypeValue:"",otherContent:"",employerBreakValue:"",employeeBreakValue:"",licensesOwnerShipImage:"",contractImage:"",contractImages:[],contactPhone:"",status:""},checked:!1,period:[],orgId:"",licensesImage:"",contractImageList:[],rules:{shipownerName:[{required:!0,message:"请输入持证人姓名",trigger:"blur"}],shipownerIdcard:[{required:!0,message:"请输入持证人身份证号",trigger:"blur"}],shipName:[{required:!0,message:"请输入持证人船名",trigger:"blur"}],shipLicenses:[{required:!0,message:"请输入持证人船舶登记号",trigger:"blur"}],shipownerPhone:[{required:!0,message:"请输入持证人联系电话",trigger:"blur"}],shipownerAddr:[{required:!0,message:"请输入持证人家庭地址",trigger:"blur"}],employerName:[{required:!0,message:"请输入甲方（雇主)姓名",trigger:"blur"}],employerIdcard:[{required:!0,message:"请输入甲方（雇主)身份证号",trigger:"blur"}],employerProp:[{required:!0,message:"请输入签约人身份性质",trigger:"blur"}],employerPhone:[{required:!0,message:"请输入甲方（雇主)联系电话",trigger:"blur"}],employerAddr:[{required:!0,message:"请输入甲方（雇主)地址",trigger:"blur"}],employeeName:[{required:!0,message:"请输入乙方（雇员)姓名",trigger:"blur"}],employeeIdcard:[{required:!0,message:"请输入乙方（雇员)身份证号",trigger:"blur"}],employeePhone:[{required:!0,message:"请输入乙方（雇员)联系电话",trigger:"blur"}],employeePosition:[{required:!0,message:"请输入现有资格证书",trigger:"blur"}],employeeAddr:[{required:!0,message:"请输入乙方（雇员)地址",trigger:"blur"}],contactName:[{required:!0,message:"请输入紧急联系人姓名",trigger:"blur"}],contactPhone:[{required:!0,message:"请输入紧急联系人电话",trigger:"blur"}],workDateStart:[{required:!0,message:"请选择生产周期开始日期",trigger:"blur"}],workDateEnd:[{required:!0,message:"请选择生产周期结束日期",trigger:"blur"}],time:[{required:!0,message:"时间不能为空"},{validator:checkTime,trigger:"blur"}]},shipNames:[],loading:!1,idcards:[],headers:{Authorization:"Bearer "+_store__WEBPACK_IMPORTED_MODULE_10__["a"].getters.access_token},isLicenses:!1,isContract:!1,shipowner:!1,employee:!1,checkEmployeeIdcard:!1,employer:!1,payValueLong:"",payValueOnce:"",expireTimeOption:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},pickerOptionsS:{disabledDate:function(t){if(""!=e.formData.workDateEnd)return t.getTime()>new Date(e.formData.workDateEnd).getTime()}},pickerOptionsE:{disabledDate:function(t){return t.getTime()<new Date(e.formData.workDateStart).getTime()-864e5}},timer:"",updateId:""}},beforeDestroy:function(){this.sockets.unsubscribe("card message")},destroyed:function(){},created:function(){this.record?this.getList():this.$route.query.idcard&&(this.$route.query.see&&(this.type="see"),this.getListByidcard()),this.$route.query.add&&(this.formData.employeeIdcard=this.$route.query.hdkId,this.getEmployee(),this.refreshShipName(JSON.parse(sessionStorage.getItem("hdkRow"))),this.type="add",this.akk=!1)},mounted:function mounted(){var _this2=this;function Base64(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";this.decode=function(a){var r,o,n,i,s,c,l,m="",p=0;a=a.replace(/[^A-Za-z0-9+/=]/g,"");while(p<a.length)i=e.indexOf(a.charAt(p++)),s=e.indexOf(a.charAt(p++)),c=e.indexOf(a.charAt(p++)),l=e.indexOf(a.charAt(p++)),r=i<<2|s>>4,o=(15&s)<<4|c>>2,n=(3&c)<<6|l,m+=String.fromCharCode(r),64!=c&&(m+=String.fromCharCode(o)),64!=l&&(m+=String.fromCharCode(n));return m=t(m),m};var t=function(e){var t="",a=0,r=0,o=0,n=0;while(a<e.length)r=e.charCodeAt(a),r<128?(t+=String.fromCharCode(r),a++):r>191&&r<224?(o=e.charCodeAt(a+1),t+=String.fromCharCode((31&r)<<6|63&o),a+=2):(o=e.charCodeAt(a+1),n=e.charCodeAt(a+2),t+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&n),a+=3);return t}}this.$socket.emit("connect"),this.$socket.emit("startRead"),console.log(this.sockets),this.sockets.subscribe("card message",(function(msg){var base=new Base64,result1=base.decode(msg),data=eval("("+result1+")");Object(_api_tmlms_newContract__WEBPACK_IMPORTED_MODULE_16__["j"])(data.cardno).then((function(e){!1===e.data.data&&(_this2.$message.error(e.data.msg),_this2.checkEmployeeIdcard=!0)})).then((function(){_this2.checkEmployeeIdcard||Object(_api_tmlms_boatMan_index__WEBPACK_IMPORTED_MODULE_13__["f"])(data.cardno).then((function(e){e.data.data&&(_this2.formData.employeeName=e.data.data.realName,_this2.formData.employeeIdcard=e.data.data.idcard,_this2.formData.employeeAddr=e.data.data.address,_this2.formData.provinceId=e.data.data.provinceId,_this2.formData.cityId=e.data.data.cityId,_this2.formData.districtId=e.data.data.districtId,_this2.formData.employeePhone=e.data.data.phone,_this2.formData.employeePosition=e.data.data.positionId,_this2.formData.contactName=e.data.data.contactName,_this2.formData.contactPhone=e.data.data.contactPhone,_this2.$set(_this2.formData,"time",[e.data.data.workDateStart,e.data.data.workDateEnd]),_this2.formData.employeeIdcard&&_this2.getEmployee())})).catch((function(){_this2.formData.employeeName=data.name,_this2.formData.employeeIdcard=data.cardno,_this2.formData.employeeAddr=data.address,_this2.formData.provinceId=parseInt(data.cardno.substring(0,2)+"0000000000"),_this2.formData.cityId=parseInt(data.cardno.substring(0,4)+"00000000"),_this2.formData.districtId=parseInt(data.cardno.substring(0,6)+"000000"),_this2.formData.employeeIdcard&&_this2.getEmployee()}))}))}))},computed:_objectSpread({getTitle:function(){return"add"===this.type?"合同新增":"edit"===this.type?"合同编辑":"renew"===this.type?"合同续签":"合同查看"}},Object(vuex__WEBPACK_IMPORTED_MODULE_8__["c"])(["dictGroup"])),methods:{changeType:function(){this.$set(this.formData,"workPosition",this.formData.employeePosition)},getEmployee:function(){var e=this;console.log("hddddk1"),this.formData.employeeIdcard=this.formData.employeeIdcard.replace(/\s*/g,""),18==this.formData.employeeIdcard.length?(console.log("hddddk2"),Object(_api_tmlms_newContract__WEBPACK_IMPORTED_MODULE_16__["j"])(this.formData.employeeIdcard).then((function(t){!1===t.data.data?(console.log("hddddk3"),e.$message.error(t.data.msg),e.checkEmployeeIdcard=!0,e.formData.employeeIdcard="",e.idcards=[]):(console.log("hddddk4"),""!==e.formData.employeeIdcard&&(console.log("hddddk5"),Object(_api_tmlms_boatMan_index__WEBPACK_IMPORTED_MODULE_13__["f"])(e.formData.employeeIdcard).then((function(t){var a=t.data,r=a.data;"0"!==r.positionId?(e.formData.employeePosition=r.positionId,e.formData.workPosition=e.formData.employeePosition):e.formData.employeePosition="",e.formData.employeeName=r.realName,e.formData.employeePhone=r.phone,e.formData.employeeAddr=r.address,e.formData.employeeLinkMan=r.contactName,e.formData.employeeLinkPhone=r.contactPhone,e.employee=!0}))),e.checkEmployeeIdcard=!1)}))):this.$message.error("请输入乙方18位身份证!")},selectMax:function(){var e=this.$refs.searchSelect.$children[0].$refs.input;e.setAttribute("maxlength",18),console.log(e)},payTypeChange:function(e){1==e?(this.formData.payTypeValue=this.payValueLong,this.payValueOnce=""):2==e?(this.formData.payTypeValue=this.payValueOnce,this.payValueLong=""):(this.payValueLong="",this.payValueOnce="")},getList:function(){var e=this;Object(_api_tmlms_newContract__WEBPACK_IMPORTED_MODULE_16__["f"])(this.record).then((function(t){e.formData=t.data.data,"0"===t.data.data.employeePosition&&(e.formData.employeePosition=""),e.formData.licensesOwnerShipImage&&(e.licensesImage=e.formData.licensesOwnerShipImage,e.isLicenses=!0),e.formData.contractImages?(e.contractImageList=e.formData.contractImages,e.isContract=!0):e.isContract=!1}))},getListByidcard:function(){var e=this;Object(_api_tmlms_newContract__WEBPACK_IMPORTED_MODULE_16__["e"])(this.$route.query.idcard).then((function(t){e.formData=t.data.data,e.$set(e.formData,"time",[t.data.data.workDateStart,t.data.data.workDateEnd]),"0"===t.data.data.employeePosition&&(e.formData.employeePosition=""),e.formData.licensesOwnerShipImage&&(e.licensesImage=e.formData.licensesOwnerShipImage,e.isLicenses=!0),e.formData.contractImages?(e.contractImageList=e.formData.contractImages,e.isContract=!0):e.isContract=!1,e.formData.employeeLinkMan&&(e.formData.contactName=e.formData.employeeLinkMan),e.formData.employeeLinkPhone&&(e.formData.contactPhone=e.formData.employeeLinkPhone)}))},handleBack:function(){this.$emit("onGoBack")},handleGo:function(){this.$router.go(-1)},shipNameChange:function(e){"object"===Object(E_taoyuba_ui_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_4__["a"])(e)?this.refreshShipName(e):this.refreshShipName({shipName:e}),""!=e.activityType&&(this.formData.activityType=this.dictGroup["tyb_resume_worktype"][e.activityType].value),this.shipNames=[]},refreshShipName:function(e){if(null!==e){console.log(e);var t=e.shipowner,a=void 0===t?"":t,r=e.shipownerIdcard,o=void 0===r?"":r,n=e.licensesOwnerShip,i=void 0===n?"":n,s=e.mobile,c=void 0===s?"":s,l=e.address,m=void 0===l?"":l,p=e.shipJointYes,d=void 0===p?"":p,u=e.shipShare,_=void 0===u?"":u;this.formData.shipownerName=a,this.formData.shipownerIdcard=o,this.formData.shipLicenses=i,this.formData.shipownerPhone=c,this.formData.shipownerAddr=m,this.formData.employerName=a,this.formData.employerIdcard=o,this.formData.employerPhone=c,this.formData.employerAddr=m,this.formData.employerProp=1,this.formData.shipName=e.shipName,this.employer=!0,""!=e.activityType&&(this.formData.activityType=this.dictGroup["tyb_resume_worktype"][e.activityType].value),1==_&&(this.formData.shipJoint=1,this.formData.shipJointYes=d+1),this.shipowner=!0}else this.formData.shipName="",this.formData.shipownerName="",this.formData.shipownerIdcard="",this.formData.shipLicenses="",this.formData.shipownerPhone="",this.formData.shipownerAddr="",this.shipowner=!1},getShipNameList:function(e){var t=this;this.loading=!0,""!==e&&5==e.length?Object(_api_ships_index__WEBPACK_IMPORTED_MODULE_11__["x"])(e).then((function(e){var a=e.data;a.data.length?a.data.forEach((function(e){t.shipNames.push(e)})):t.$message.error(a.msg)})):e.length>5&&(this.$message.error("请输入5位数字船名号"),this.shipNames=[]),this.loading=!1},employerPropChange:function(e){var t=this;1===e?(this.formData.employerName=this.formData.shipownerName,this.formData.employerIdcard=this.formData.shipownerIdcard,this.formData.employerPhone=this.formData.shipownerPhone,this.formData.employerAddr=this.formData.shipownerAddr,this.formData.shipJointYes&&(this.formData.shipJoint=1),this.employer=!0):2===e?(this.formData.employerName="",this.formData.employerIdcard="",this.formData.employerPhone="",this.formData.employerAddr="",Object(_api_ships_shipoperat_index__WEBPACK_IMPORTED_MODULE_12__["c"])(this.formData.shipName,2).then((function(e){e.data.data&&(t.formData.employerName=e.data.data.realname,t.formData.employerIdcard=e.data.data.idcard,t.formData.employerPhone=e.data.data.phone,t.formData.employerAddr=e.data.data.address)})),this.employer=!1):3===e&&(this.formData.employerName="",this.formData.employerIdcard="",this.formData.employerPhone="",this.formData.employerAddr="",Object(_api_ships_shipoperat_index__WEBPACK_IMPORTED_MODULE_12__["c"])(this.formData.shipName,3).then((function(e){e.data.data&&(t.formData.employerName=e.data.data.realname,t.formData.employerIdcard=e.data.data.idcard,t.formData.employerPhone=e.data.data.phone,t.formData.employerAddr=e.data.data.address)})),this.employer=!1)},idcardChange:function(e){"object"===Object(E_taoyuba_ui_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_4__["a"])(e)&&this.refreshCard(e),this.idcards=[]},refreshCard:function(e){if(null!==e){var t=e.realName,a=void 0===t?"":t,r=e.phone,o=void 0===r?"":r,n=e.address,i=void 0===n?"":n,s=e.contactName,c=void 0===s?"":s,l=e.contactPhone,m=void 0===l?"":l;"0"!==e.positionId?this.formData.employeePosition=e.positionId:this.formData.employeePosition="",this.formData.employeeName=a,this.formData.employeePhone=o,this.formData.employeeAddr=i,this.formData.contactName=c,this.formData.contactPhone=m,this.employee=!0}else this.formData.employeeName="",this.formData.employeePhone="",this.formData.employeeAddr="",this.formData.employeePosition="",this.formData.contactName="",this.formData.contactPhone="",this.employee=!1},getidcardList:function(e){var t=this;Object(_api_tmlms_newContract__WEBPACK_IMPORTED_MODULE_16__["j"])(e).then((function(a){!1===a.data.data?(t.$message.error("该船员已签订合同!"),t.checkEmployeeIdcard=!0,t.formData.employeeIdcard="",t.idcards=[]):(""!==e?Object(_api_tmlms_boatMan_index__WEBPACK_IMPORTED_MODULE_13__["f"])(e).then((function(e){var a=e.data;0!==Object.keys(a.data).length&&(t.idcards=[],t.idcards.push(a.data))})):t.idcards=[],t.checkEmployeeIdcard=!1),t.loading=!1}))},handleLicensesSuccessFront:function(e){this.licensesImage="",this.licensesImage=e.data.url,this.isLicenses=!1},handleContractSuccessFront:function(e){this.contractImageList.push(e.data.url)},handleContractimageSuccessFront:function(e){this.formData.contractImage=e.data.url},handleLicensesCardPreview:function(e){this.formData.licensesOwnerShipImage=e.url},handleContractCardPreview:function(e){this.formData.contractImages=e.url},handleLicensesRemove:function(){this.licensesImage="",this.formData.licensesOwnerShipImage=""},handleContractRemove:function(e,t){console.log(222),console.log(e,t)},handleContractimageRemove:function(){this.formData.contractImage=""},handleSubmitCaoGao:function(){var e=this;this.checked&&(this.formData.status=6),""!=this.updateId&&(this.formData.id=this.updateId),this.formData.shipJointNo=this.formData.shipownerName,this.formData.shipName.shipName&&(this.formData.shipName=this.formData.shipName.shipName),this.formData.employeeIdcard.idcard&&(this.formData.employeeIdcard=this.formData.employeeIdcard.idcard),this.contractImageList&&(this.formData.contractImages=this.contractImageList),this.licensesImage&&(this.formData.licensesOwnerShipImage=this.licensesImage),1==this.formData.payType?this.formData.payTypeValue=this.payValueLong:2==this.formData.payType&&(this.formData.payTypeValue=this.payValueOnce),1==this.formData.payType?this.formData.payTypeValue=this.payValueLong:2==this.formData.payType&&(this.formData.payTypeValue=this.payValueOnce);var t=new Promise((function(t){e.$refs["form"].validateField("shipownerName",(function(e){t(e)})),t()})),a=new Promise((function(t){e.$refs["form"].validateField("shipownerIdcard",(function(e){t(e)})),t()})),r=new Promise((function(t){e.$refs["form"].validateField("shipName",(function(e){t(e)})),t()})),o=new Promise((function(t){e.$refs["form"].validateField("shipLicenses",(function(e){t(e)})),t()})),n=new Promise((function(t){e.$refs["form"].validateField("shipownerPhone",(function(e){t(e)})),t()})),i=new Promise((function(t){e.$refs["form"].validateField("shipownerAddr",(function(e){t(e)})),t()})),s=new Promise((function(t){e.$refs["form"].validateField("employerName",(function(e){t(e)})),t()})),c=new Promise((function(t){e.$refs["form"].validateField("employerIdcard",(function(e){t(e)})),t()})),l=new Promise((function(t){e.$refs["form"].validateField("employerProp",(function(e){t(e)})),t()})),m=new Promise((function(t){e.$refs["form"].validateField("employerPhone",(function(e){t(e)})),t()})),p=new Promise((function(t){e.$refs["form"].validateField("employerAddr",(function(e){t(e)})),t()})),d=this;Promise.all([t,a,r,o,n,i,s,c,l,m,p]).then((function(t){console.log(t),t.join("")?e.$message.error("请确认已经填写了持证人和甲方信息！"):Object(_api_mlms_index__WEBPACK_IMPORTED_MODULE_17__["a"])(e.formData,!0).then((function(){e.$message.success("保存成功！"),"add"==d.type&&0==d.akk?d.$router.go(-1):d.$router.push("tybcontract_draft")})).catch((function(t){console.log(t),e.$message.error("保存失败,请联系管理员!")}))})).catch((function(){e.disableGetCode=!1}))},handleSubmit:function(){var e=this;this.formData.workMode=this.formData.activityType,this.checked&&(this.formData.status=6),this.formData.shipJointNo=this.formData.shipownerName,this.formData.shipName.shipName&&(this.formData.shipName=this.formData.shipName.shipName),this.formData.employeeIdcard.idcard&&(this.formData.employeeIdcard=this.formData.employeeIdcard.idcard),this.contractImageList&&(this.formData.contractImages=this.contractImageList),this.licensesImage&&(this.formData.licensesOwnerShipImage=this.licensesImage),1==this.formData.payType?this.formData.payTypeValue=this.payValueLong:2==this.formData.payType&&(this.formData.payTypeValue=this.payValueOnce);var t=this;this.$refs["form"].validate((function(a){console.log(a),a?"add"===e.type||"renew"===e.type?e.checkEmployeeIdcard?(e.$message.error("乙方船员已签订合同!请重新输入身份证号"),e.formData.employeeIdcard=""):e.$confirm("请确认当前合同信息是否正确，提交后将无法修改, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(_api_tmlms_newContract__WEBPACK_IMPORTED_MODULE_16__["a"])(e.formData).then((function(){e.$message.success("保存成功！"),"add"==t.type&&0==t.akk?t.$router.go(-1):t.$emit("onGoBack")})).catch((function(t){console.log(t),e.$message.error("新增失败,请联系管理员!")}))})).catch((function(){e.$message({type:"info",message:"已取消保存"})})):"edit"===e.type&&Object(_api_tmlms_newContract__WEBPACK_IMPORTED_MODULE_16__["n"])(e.formData).then((function(){e.$message.success("修改成功！"),"add"==t.type&&0==t.akk?t.$router.go(-1):t.$emit("onGoBack")})).catch((function(){e.$message.error("修改失败！")})):e.$message.error("请确认已经填写了所有必填信息！")}))},handleSaveCaoGao:function(){var e=this;this.checked&&(this.formData.status=6),""!=this.updateId&&(this.formData.id=this.updateId),this.formData.shipJointNo=this.formData.shipownerName,this.formData.shipName.shipName&&(this.formData.shipName=this.formData.shipName.shipName),this.formData.employeeIdcard.idcard&&(this.formData.employeeIdcard=this.formData.employeeIdcard.idcard),this.contractImageList&&(this.formData.contractImages=this.contractImageList),this.licensesImage&&(this.formData.licensesOwnerShipImage=this.licensesImage),1==this.formData.payType?this.formData.payTypeValue=this.payValueLong:2==this.formData.payType&&(this.formData.payTypeValue=this.payValueOnce),Object(_api_mlms_index__WEBPACK_IMPORTED_MODULE_17__["a"])(this.formData,!1).then((function(t){e.updateId=t.data.data}))}}}},"266e":function(e,t,a){"use strict";a.d(t,"g",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"e",(function(){return s})),a.d(t,"h",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"n",(function(){return m})),a.d(t,"f",(function(){return p})),a.d(t,"m",(function(){return d})),a.d(t,"b",(function(){return u})),a.d(t,"j",(function(){return _})),a.d(t,"c",(function(){return h})),a.d(t,"i",(function(){return f})),a.d(t,"l",(function(){return y})),a.d(t,"k",(function(){return D})),a.d(t,"o",(function(){return b})),a.d(t,"p",(function(){return g}));var r=a("b5c6"),o="/tmlms/tybcontract";function n(e){return Object(r["a"])({url:"".concat(o,"/page"),method:"get",params:e})}function i(e){return Object(r["a"])({url:"".concat(o,"/del/").concat(e),method:"post"})}function s(e){return Object(r["a"])({url:"".concat(o,"/shipcrew/").concat(e),method:"get"})}function c(e){return Object(r["a"])({url:"/admin/dict/type/".concat(e),method:"get"})}function l(e){return Object(r["a"])({url:"".concat(o,"/save"),method:"post",data:e})}function m(e){return Object(r["a"])({url:"".concat(o,"/update"),method:"post",data:e})}function p(e){return Object(r["a"])({url:"".concat(o,"/").concat(e),method:"get"})}function d(e){return Object(r["a"])({url:"".concat(o,"/review"),method:"post",params:e})}function u(e){return Object(r["a"])({url:"".concat(o,"/cancel"),method:"post",data:e})}function _(e){return Object(r["a"])({url:"".concat(o,"/checkIdcard"),method:"get",params:{employeeIdcard:e}})}function h(e){return Object(r["a"])({url:"".concat(o,"/complant"),method:"post",params:e})}function f(e){return Object(r["a"])({url:"".concat(o,"/villagePage"),method:"get",params:e})}function y(e){return Object(r["a"])({url:"".concat(o,"/refuse"),method:"post",params:{contractId:e}})}function D(e,t){return Object(r["a"])({url:"".concat(o,"/recall"),method:"post",params:{contractId:e,status:t}})}function b(e,t){return Object(r["a"])({url:"".concat(o,"/updateImage"),method:"post",params:{contractId:e,contractImage:t}})}function g(e,t){return Object(r["a"])({url:"".concat(o,"/createImages"),method:"post",params:{contractId:e,addPhoto:t}})}},"2f9e":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("ac6a"),a("28a5"),a("a481");var r=a("b5c6");function o(e){var t=e.url,a=e.method,o=void 0===a?"post":a,i=e.data,s=void 0===i?{}:i,c=e.title,l=void 0===c?"":c;return new Promise((function(e){return Object(r["a"])({url:t,method:o,headers:{responseType:"arraybuffer"},data:s,responseType:"blob"}).then((function(t){n({title:l,response:t}).then((function(){e()}))}))}))}function n(e){var t=e.title,a=void 0===t?"":t,r=e.response,o=i(r.headers["content-disposition"].replace(/"/g,""));return new Promise((function(e){var t=r.headers,n=new Blob([r.data],{type:t["content-type"]});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,a);else{var i=document.createElement("a");i.href=window.URL.createObjectURL(n),i.download=a?"".concat(a,".").concat(o.suffix):o.filename,document.body.appendChild(i),i.style.display="none",i.click()}e()}))}function i(e){var t={},a=e.split(";");return a.forEach((function(e){var a=e.replace(/^\s+|\s+$/g,""),r=a.split("=");r[1]?t[r[0]]=r[1]:t[r[0]]=r[0]})),t.suffix=t.filename.split(".")[1],t}},3354:function(e,t,a){"use strict";a("5edd")},4475:function(e,t,a){},5595:function(e,t,a){"use strict";a("4475")},5612:function(e,t,a){"use strict";a.d(t,"i",(function(){return i})),a.d(t,"j",(function(){return s})),a.d(t,"l",(function(){return c})),a.d(t,"m",(function(){return l})),a.d(t,"r",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"t",(function(){return d})),a.d(t,"u",(function(){return u})),a.d(t,"d",(function(){return _})),a.d(t,"e",(function(){return h})),a.d(t,"g",(function(){return f})),a.d(t,"v",(function(){return y})),a.d(t,"f",(function(){return D})),a.d(t,"z",(function(){return b})),a.d(t,"k",(function(){return g})),a.d(t,"n",(function(){return w})),a.d(t,"h",(function(){return O})),a.d(t,"p",(function(){return P})),a.d(t,"x",(function(){return v})),a.d(t,"y",(function(){return k})),a.d(t,"w",(function(){return I})),a.d(t,"b",(function(){return E})),a.d(t,"q",(function(){return x})),a.d(t,"a",(function(){return j})),a.d(t,"s",(function(){return T})),a.d(t,"o",(function(){return C}));var r=a("b5c6"),o=a("2f9e"),n="/tmlms/crew";function i(e){return Object(r["a"])({url:"".concat(n,"/Page"),method:"get",params:e})}function s(e){return Object(r["a"])({url:"".concat(n,"/findByShipId?shipId=").concat(e),method:"get",params:e})}function c(e){return Object(r["a"])({url:"".concat(n,"/getHistoryByShipId?shipId=").concat(e.shipId),method:"get",params:e})}function l(e){return Object(r["a"])({url:"".concat(n,"/pageWithShip"),method:"get",params:e})}function m(e){return Object(r["a"])({url:"".concat(n,"/shipLogPage"),method:"get",params:e})}function p(e){return Object(r["a"])({url:"".concat(n,"/checkMoreRelations"),method:"post",data:e})}function d(e,t){return Object(r["a"])({url:"".concat(n,"/create?type=").concat(t),method:"post",data:e})}function u(e,t){return Object(r["a"])({url:"".concat(n,"/batchCreate?type=").concat(t),method:"post",data:e,timeout:3e5})}function _(e){return Object(r["a"])({url:"".concat(n,"/delete?idcard=").concat(e),method:"post"})}function h(e,t){return Object(r["a"])({url:"".concat(n,"/deleteRelation?idcard=").concat(e,"&&shipId=").concat(t),method:"post"})}function f(e,t){return Object(r["a"])({url:"".concat(n,"/edit?type=").concat(t),method:"post",data:e})}function y(e,t){return Object(r["a"])({url:"".concat(n,"/review?status=").concat(e,"&userId=").concat(t),method:"post"})}function D(e){return Object(r["a"])({url:"".concat(n,"/getCrewByidcard?idcard=").concat(e),method:"get"})}function b(e){return Object(r["a"])({url:"admin/file/upload/avatar",method:"post",data:e})}function g(e){return Object(r["a"])({url:"".concat(n,"/idcardcheck?idcard=").concat(e),method:"get"})}function w(e){return Object(r["a"])({url:"".concat(n,"/idcardcheck?idcard=").concat(e),method:"get"})}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"船员信息";return Object(o["a"])({url:"tmlms/tybmlmsExcelExport/downloadCrew",data:e,title:t})}function P(e){return Object(r["a"])({url:"".concat(n,"/badPage"),method:"get",params:e})}function v(e){return Object(r["a"])({url:"".concat(n,"/badUpdateBatch"),method:"post",data:e})}function k(e){return Object(r["a"])({url:"".concat(n,"/uploadBaseImage"),method:"post",data:e})}function I(e){return Object(r["a"])({url:"".concat(n,"/updateCertByIdcard"),method:"post",params:e})}function E(e){return Object(r["a"])({url:"".concat(n,"/changeShip"),method:"post",data:e})}function x(e){return Object(r["a"])({url:"".concat(n,"/getShipRelationByIdcard"),method:"get",params:e})}function j(e){return Object(r["a"])({url:"/tmlms/tybship/pageForChange",method:"get",params:e})}function T(e){return Object(r["a"])({url:"/tmlms/importTask/lookTask",method:"get",params:{taksId:e}})}function C(e){return Object(r["a"])({url:"/tmlms/crew_cert/newPage",method:"get",params:e})}},"5edd":function(e,t,a){},6609:function(e,t,a){},8553:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contract"},[a("basic-container",{attrs:{id:"pdfDom"}},[a("page-header",{attrs:{title:e.getTitle}}),a("el-form",{ref:"form",staticClass:"form",attrs:{disabled:"add"!==e.type&&"edit"!==e.type&&"renew"!==e.type,model:e.formData,size:"small","label-width":"120px",rules:e.rules}},[a("el-container",[a("el-aside",{staticClass:"side"},[a("div",{staticClass:"tex"},[e._v("持证人信息")])]),a("el-container",[a("el-header",{staticClass:"head"}),a("el-main",{staticClass:"mai"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"持证人姓名：",prop:"shipownerName"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"6",disabled:e.shipowner},model:{value:e.formData.shipownerName,callback:function(t){e.$set(e.formData,"shipownerName",t)},expression:"formData.shipownerName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"身份证号：",prop:"shipownerIdcard"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"18",disabled:e.shipowner},model:{value:e.formData.shipownerIdcard,callback:function(t){e.$set(e.formData,"shipownerIdcard",t)},expression:"formData.shipownerIdcard"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"船名：",prop:"shipName"}},[a("el-select",{staticStyle:{width:"380px!important"},attrs:{placeholder:"请选择",filterable:"",remote:"",maxlength:"20",loading:e.loading,clearable:"","remote-method":e.getShipNameList},on:{change:e.shipNameChange},model:{value:e.formData.shipName,callback:function(t){e.$set(e.formData,"shipName",t)},expression:"formData.shipName"}},e._l(e.shipNames,(function(e){return a("el-option",{key:e.shipId,attrs:{label:e.shipName,value:e}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"船舶登记号：",prop:"shipLicenses"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"20",disabled:e.shipowner},model:{value:e.formData.shipLicenses,callback:function(t){e.$set(e.formData,"shipLicenses",t)},expression:"formData.shipLicenses"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话：",prop:"shipownerPhone"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"11"},model:{value:e.formData.shipownerPhone,callback:function(t){e.$set(e.formData,"shipownerPhone",t)},expression:"formData.shipownerPhone"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"家庭地址：",prop:"shipownerAddr"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"100"},model:{value:e.formData.shipownerAddr,callback:function(t){e.$set(e.formData,"shipownerAddr",t)},expression:"formData.shipownerAddr"}})],1)],1)],1)],1)],1)],1),a("el-container",[a("el-aside",{staticClass:"sidea"},[a("div",{staticClass:"tex"},[e._v("甲方（雇主）")])]),a("el-container",[a("el-header",{staticClass:"head"}),a("el-main",{staticClass:"mai"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名：",prop:"employerName"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"6",disabled:e.employer},model:{value:e.formData.employerName,callback:function(t){e.$set(e.formData,"employerName",t)},expression:"formData.employerName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"身份证号：",prop:"employerIdcard"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"18",disabled:e.employer},model:{value:e.formData.employerIdcard,callback:function(t){e.$set(e.formData,"employerIdcard",t)},expression:"formData.employerIdcard"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"签约人身份性质：",prop:"employerProp"}},[a("el-radio-group",{on:{change:e.employerPropChange},model:{value:e.formData.employerProp,callback:function(t){e.$set(e.formData,"employerProp",t)},expression:"formData.employerProp"}},[a("el-radio",{attrs:{label:1}},[e._v("船舶持证人")]),a("el-radio",{attrs:{label:2}},[e._v("船舶承租人")]),a("el-radio",{attrs:{label:3}},[e._v("船长或授权代理人")])],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"船名及船舶登记号："}},[a("div",[!e.formData.shipName||e.formData.shipName instanceof Object?e._e():a("div",{staticStyle:{"font-size":"10px"}},[e._v("船名："+e._s(e.formData.shipName))]),e.formData.shipName.shipName?a("div",{staticStyle:{"font-size":"10px"}},[e._v("船名："+e._s(e.formData.shipName.shipName))]):e._e(),e.formData.shipName||e.formData.shipName.shipName?e._e():a("div",{staticStyle:{"font-size":"10px"}},[e._v("船名：")]),a("div",{staticStyle:{"font-size":"10px"}},[e._v("船舶登记号："+e._s(e.formData.shipLicenses))])])])],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话：",prop:"employerPhone"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"20",disabled:e.employer},model:{value:e.formData.employerPhone,callback:function(t){e.$set(e.formData,"employerPhone",t)},expression:"formData.employerPhone"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"船舶是否共有：",prop:"shipJoint"}},[a("el-radio-group",{model:{value:e.formData.shipJoint,callback:function(t){e.$set(e.formData,"shipJoint",t)},expression:"formData.shipJoint"}},[a("el-radio",{attrs:{label:1}},[e._v("是，"),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"人数（数字）",size:"mini",type:"number"},model:{value:e.formData.shipJointYes,callback:function(t){e.$set(e.formData,"shipJointYes",t)},expression:"formData.shipJointYes"}}),e._v("共有（权证附后）")],1),a("el-radio",{attrs:{label:0}},[e._v("否，"+e._s(e.formData.shipownerName)+" 独有")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"地址：",prop:"employerAddr"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"40",disabled:e.employer},model:{value:e.formData.employerAddr,callback:function(t){e.$set(e.formData,"employerAddr",t)},expression:"formData.employerAddr"}})],1)],1)],1)],1)],1)],1),a("el-container",[a("el-aside",{staticClass:"sideb"},[a("div",{staticClass:"tex"},[e._v("乙方（雇员）")])]),a("el-container",[a("el-header",{staticClass:"head"}),a("el-main",{staticClass:"mai"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名：",prop:"employeeName"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"6",disabled:e.employee},model:{value:e.formData.employeeName,callback:function(t){e.$set(e.formData,"employeeName",t)},expression:"formData.employeeName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"身份证号：",prop:"employeeIdcard"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"18"},on:{blur:e.getEmployee},model:{value:e.formData.employeeIdcard,callback:function(t){e.$set(e.formData,"employeeIdcard",t)},expression:"formData.employeeIdcard"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话：",prop:"employeePhone"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"11"},model:{value:e.formData.employeePhone,callback:function(t){e.$set(e.formData,"employeePhone",t)},expression:"formData.employeePhone"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"现有资格证书：",prop:"employeePosition"}},[a("iep-dict-select",{staticStyle:{width:"380px!important"},attrs:{"dict-name":"tyb_resume_position"},on:{change:e.changeType},model:{value:e.formData.employeePosition,callback:function(t){e.$set(e.formData,"employeePosition",t)},expression:"formData.employeePosition"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"地址：",prop:"employeeAddr"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{maxlength:"40"},model:{value:e.formData.employeeAddr,callback:function(t){e.$set(e.formData,"employeeAddr",t)},expression:"formData.employeeAddr"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"紧急联系人及电话："}},[a("div",[a("el-col",[a("el-form-item",{attrs:{label:"紧急联系人：",prop:"employeeLinkMan"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{maxlength:"20",size:"mini"},model:{value:e.formData.employeeLinkMan,callback:function(t){e.$set(e.formData,"employeeLinkMan",t)},expression:"formData.employeeLinkMan"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"联系电话：",prop:"employeeLinkPhone"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{maxlength:"11",size:"mini"},model:{value:e.formData.employeeLinkPhone,callback:function(t){e.$set(e.formData,"employeeLinkPhone",t)},expression:"formData.employeeLinkPhone"}})],1)],1)],1)])],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"有无晕船或身体缺陷：",prop:"employeeIsSick"}},[a("el-col",[a("el-radio-group",{model:{value:e.formData.employeeIsSick,callback:function(t){e.$set(e.formData,"employeeIsSick",t)},expression:"formData.employeeIsSick"}},[a("el-radio",{attrs:{label:1}},[e._v("有，"),a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.formData.employeeIsSickYes,callback:function(t){e.$set(e.formData,"employeeIsSickYes",t)},expression:"formData.employeeIsSickYes"}})],1),a("el-radio",{attrs:{label:0}},[e._v("无。")])],1)],1),a("el-col",[a("div",[e._v("（不适宜从事航海或海上作业的疾病）")])])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"有无海上经验：",prop:"employeeIsExp"}},[a("el-radio-group",{model:{value:e.formData.employeeIsExp,callback:function(t){e.$set(e.formData,"employeeIsExp",t)},expression:"formData.employeeIsExp"}},[a("el-radio",{attrs:{label:1}},[e._v("有，"),a("iep-dict-select",{staticStyle:{width:"150px!important"},attrs:{"dict-name":"tyb_resume_seniority"},model:{value:e.formData.employeeIsExpYes,callback:function(t){e.$set(e.formData,"employeeIsExpYes",t)},expression:"formData.employeeIsExpYes"}})],1),a("el-radio",{attrs:{label:0}},[e._v("无。")])],1)],1)],1)],1),a("el-row",[a("el-row",[a("el-form-item",{attrs:{label:"劳务报酬账户：",prop:"employeePayType"}},[a("el-radio-group",{model:{value:e.formData.employeePayType,callback:function(t){e.$set(e.formData,"employeePayType",t)},expression:"formData.employeePayType"}},[a("el-radio",{attrs:{label:1}},[e._v("现金")]),a("el-radio",{attrs:{label:2}},[e._v("银行转账")]),a("el-radio",{attrs:{label:3}},[e._v("微信")]),a("el-radio",{attrs:{label:4}},[e._v("支付宝")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.formData.employeePayType,expression:"formData.employeePayType == 2"}]},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"户名：",prop:"employeePayBankAccount"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"20"},model:{value:e.formData.employeePayBankAccount,callback:function(t){e.$set(e.formData,"employeePayBankAccount",t)},expression:"formData.employeePayBankAccount"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"账号：",prop:"employeePayAccount"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"20"},model:{value:e.formData.employeePayAccount,callback:function(t){e.$set(e.formData,"employeePayAccount",t)},expression:"formData.employeePayAccount"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"开户行：",prop:"employeePayBank"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"20"},model:{value:e.formData.employeePayBank,callback:function(t){e.$set(e.formData,"employeePayBank",t)},expression:"formData.employeePayBank"}})],1)],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:3==e.formData.employeePayType,expression:"formData.employeePayType == 3"}]},[a("el-form-item",{attrs:{label:"微信账号：",prop:"employeePayAccount"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"20"},model:{value:e.formData.employeePayAccount,callback:function(t){e.$set(e.formData,"employeePayAccount",t)},expression:"formData.employeePayAccount"}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:4==e.formData.employeePayType,expression:"formData.employeePayType == 4"}]},[a("el-form-item",{attrs:{label:"支付宝实名账号：",prop:"employeePayAccount"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"20"},model:{value:e.formData.employeePayAccount,callback:function(t){e.$set(e.formData,"employeePayAccount",t)},expression:"formData.employeePayAccount"}})],1)],1)],1)],1)],1)],1)],1),a("el-container",[a("el-aside",{staticClass:"sidec"},[a("div",{staticClass:"tex"},[e._v("劳务内容及试用")])]),a("el-container",[a("el-header",{staticClass:"head"}),a("el-main",{staticClass:"mai"},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{staticStyle:{width:"150px!important"},attrs:{label:"在",prop:"activityType"}},[a("iep-dict-select",{staticStyle:{width:"100px!important"},attrs:{"dict-name":"tyb_resume_worktype"},model:{value:e.formData.activityType,callback:function(t){e.$set(e.formData,"activityType",t)},expression:"formData.activityType"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{staticStyle:{width:"150px!important"},attrs:{label:"船担任",prop:"workPosition"}},[a("iep-dict-select",{staticStyle:{width:"100px!important"},attrs:{"dict-name":"tyb_resume_position"},model:{value:e.formData.workPosition,callback:function(t){e.$set(e.formData,"workPosition",t)},expression:"formData.workPosition"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"一职, 特长",prop:"workSkill"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{maxlength:"4"},model:{value:e.formData.workSkill,callback:function(t){e.$set(e.formData,"workSkill",t)},expression:"formData.workSkill"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"试用期",prop:"workProbationTypeValue"}},[a("el-col",{attrs:{span:6}},[a("el-input",{staticStyle:{width:"80px"},attrs:{type:"number",min:"0",oninput:"if(value.length>3)value=value.slice(0,3)"},model:{value:e.formData.workProbationTypeValue,callback:function(t){e.$set(e.formData,"workProbationTypeValue",t)},expression:"formData.workProbationTypeValue"}})],1),a("el-col",{attrs:{span:12}},[a("el-radio-group",{staticStyle:{"margin-left":"15px","margin-right":"auto",width:"300px"},model:{value:e.formData.workProbationType,callback:function(t){e.$set(e.formData,"workProbationType",t)},expression:"formData.workProbationType"}},[a("el-radio",{attrs:{label:1}},[e._v("天")]),a("el-radio",{attrs:{label:2}},[e._v("月")]),a("el-radio",{attrs:{label:3}},[e._v("航次")])],1)],1)],1)],1)],1)],1)],1)],1),a("el-container",[a("el-aside",{staticClass:"sided"},[a("div",{staticClass:"tex"},[e._v("合同期限、劳务报酬标准及支付方式")])]),a("el-container",[a("el-header",{staticClass:"head"}),a("el-main",{staticClass:"mai"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"按渔业生产周期：",prop:"workDateStart","label-width":"150px"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择开始日期","picker-options":e.pickerOptionsS},model:{value:e.formData.workDateStart,callback:function(t){e.$set(e.formData,"workDateStart",t)},expression:"formData.workDateStart"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"至",prop:"workDateEnd","label-width":"60px"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择结束日期","picker-options":e.pickerOptionsE},model:{value:e.formData.workDateEnd,callback:function(t){e.$set(e.formData,"workDateEnd",t)},expression:"formData.workDateEnd"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"薪水类型：",prop:"paySalaryType"}},[a("el-radio-group",{model:{value:e.formData.paySalaryType,callback:function(t){e.$set(e.formData,"paySalaryType",t)},expression:"formData.paySalaryType"}},[a("el-radio",{attrs:{label:1}},[e._v("日薪")]),a("el-radio",{attrs:{label:2}},[e._v("月薪")]),a("el-radio",{attrs:{label:3}},[e._v("年薪")])],1),a("el-input",{staticStyle:{width:"100px"},attrs:{maxlength:"6",oninput:"if(value.length>6)value=value.slice(0,6)",size:"mini",type:"number"},model:{value:e.formData.paySalaryTypeValue,callback:function(t){e.$set(e.formData,"paySalaryTypeValue",t)},expression:"formData.paySalaryTypeValue"}}),a("span",[e._v("元")])],1)],1)],1),a("el-row",[a("el-form-item",{attrs:{label:"支付方式：",prop:"payType"}},[a("el-radio-group",{staticStyle:{width:"800px","margin-top":"20px!important"},on:{change:e.payTypeChange},model:{value:e.formData.payType,callback:function(t){e.$set(e.formData,"payType",t)},expression:"formData.payType"}},[a("el-row",[a("el-col",{staticStyle:{"margin-top":"10px!important"},attrs:{span:4}},[a("el-radio",{attrs:{label:1}},[e._v("定期支付")])],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"劳务产生后次月",prop:"payTypeValue"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{disabled:2===e.formData.payType||3===e.formData.payType,maxlength:"4",oninput:"if(value.length>4)value=value.slice(0,4)",type:"number",size:"mini"},model:{value:e.payValueLong,callback:function(t){e.payValueLong=t},expression:"payValueLong"}}),e._v("日前支付报酬\n                        ")],1)],1)],1),a("el-row",[a("el-col",{staticStyle:{"margin-top":"10px!important"},attrs:{span:4}},[a("el-radio",{attrs:{label:2}},[e._v("一次性支付")])],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{staticClass:"spe",attrs:{label:"期限结束、航次结束后的",prop:"payTypeValue"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{disabled:1===e.formData.payType||3===e.formData.payType,maxlength:"4",oninput:"if(value.length>4)value=value.slice(0,4)",type:"number",size:"mini"},model:{value:e.payValueOnce,callback:function(t){e.payValueOnce=t},expression:"payValueOnce"}}),e._v("日内支付报酬\n                        ")],1)],1)],1),a("el-row",[a("el-radio",{attrs:{label:3}},[e._v("不定期支付")])],1)],1)],1)],1)],1)],1)],1),a("el-container",[a("el-aside",{staticClass:"sidee"},[a("div",{staticClass:"tex"},[e._v("其他约定")])]),a("el-container",[a("el-header",{staticClass:"head headno"}),a("el-main",{staticClass:"mai"},[a("el-row",[a("el-col",[a("span",{staticStyle:{margin:"40px"}},[e._v("本部分选填，可约定：1.其他未尽事宜；2.排除、变更适用背部条款。本处约定与"),a("span",{staticStyle:{color:"red"}},[e._v("其他部分冲突者，以本处约定为准")])])]),a("el-col",[a("el-input",{staticStyle:{width:"720px",margin:"10px 0 0 40px"},attrs:{type:"textarea",placeholder:"请输入内容","show-word-limit":""},model:{value:e.formData.otherContent,callback:function(t){e.$set(e.formData,"otherContent",t)},expression:"formData.otherContent"}})],1)],1),a("el-row",[a("el-col",[a("el-checkbox",{staticClass:"con-checkbox",model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("确认在岗，无纸质合同")])],1)],1)],1)],1)],1)],1),a("div",{staticStyle:{"text-align":"center",padding:"20px 0"}},[a("iep-button",{directives:[{name:"show",rawName:"v-show",value:"add"===e.type||"edit"===e.type||"renew"===e.type,expression:"type === 'add' || type === 'edit' || type === 'renew'"}],staticStyle:{"margin-right":"20px"},attrs:{disabeld:!1,type:"primary"},on:{click:e.handleSubmit}},[e._v("提交")]),a("iep-button",{directives:[{name:"show",rawName:"v-show",value:"add"===e.type,expression:"type === 'add'"}],staticStyle:{"margin-right":"20px"},attrs:{disabeld:!1,type:"primary"},on:{click:e.handleSubmitCaoGao}},[e._v("保存为草稿")]),!e.$route.query.see&&e.akk?a("iep-button",{attrs:{disabeld:!1},on:{click:e.handleBack}},[e._v("返回")]):a("iep-button",{attrs:{disabeld:!1},on:{click:e.handleGo}},[e._v("返回")])],1)],1)],1)},o=[],n=a("2128"),i=n["a"],s=(a("ccb2"),a("5595"),a("3354"),a("2877")),c=Object(s["a"])(i,r,o,!1,null,"0c292c72",null);t["default"]=c.exports},ade36:function(e,t,a){"use strict";a.d(t,"w",(function(){return i})),a.d(t,"e",(function(){return s})),a.d(t,"r",(function(){return c})),a.d(t,"d",(function(){return l})),a.d(t,"t",(function(){return m})),a.d(t,"v",(function(){return p})),a.d(t,"h",(function(){return d})),a.d(t,"J",(function(){return u})),a.d(t,"i",(function(){return _})),a.d(t,"s",(function(){return h})),a.d(t,"x",(function(){return f})),a.d(t,"y",(function(){return y})),a.d(t,"o",(function(){return D})),a.d(t,"u",(function(){return b})),a.d(t,"z",(function(){return g})),a.d(t,"k",(function(){return w})),a.d(t,"m",(function(){return O})),a.d(t,"l",(function(){return P})),a.d(t,"n",(function(){return v})),a.d(t,"j",(function(){return k})),a.d(t,"G",(function(){return I})),a.d(t,"H",(function(){return E})),a.d(t,"b",(function(){return x})),a.d(t,"D",(function(){return j})),a.d(t,"I",(function(){return T})),a.d(t,"C",(function(){return C})),a.d(t,"q",(function(){return S})),a.d(t,"A",(function(){return M})),a.d(t,"c",(function(){return L})),a.d(t,"B",(function(){return N})),a.d(t,"f",(function(){return A})),a.d(t,"g",(function(){return B})),a.d(t,"E",(function(){return $})),a.d(t,"a",(function(){return R})),a.d(t,"K",(function(){return U})),a.d(t,"p",(function(){return K})),a.d(t,"F",(function(){return W}));var r=a("b5c6"),o=a("2f9e"),n="/tybship/tybship";function i(e){return Object(r["a"])({url:"".concat(n,"/otherpage"),method:"get",params:e})}function s(e,t){return Object(r["a"])({url:"".concat(n,"/updateVillage?shipId=").concat(e,"&&villageId=").concat(t),method:"post"})}function c(){return Object(r["a"])({url:"/admin/org/page",method:"get"})}function l(e,t){return Object(r["a"])({url:"".concat(n,"/updateOrgId?shipId=").concat(e,"&&orgId=").concat(t),method:"post"})}function m(e){return Object(r["a"])({url:"".concat(n,"/").concat(e),method:"get",params:e})}function p(e){return Object(r["a"])({url:"".concat(n,"/").concat(e),method:"get"})}function d(e){return Object(r["a"])({url:"".concat(n,"/save"),method:"post",data:e})}function u(e){return Object(r["a"])({url:"".concat(n,"/update"),method:"post",data:e})}function _(e){return Object(r["a"])({url:"".concat(n,"/del/").concat(e),method:"post"})}function h(e){return Object(r["a"])({url:"".concat(n,"/mypage"),method:"get",params:e})}function f(e){return Object(r["a"])({url:"".concat(n,"/findship/").concat(e),method:"get"})}function y(e){return Object(r["a"])({url:"".concat(n,"/findshipWithOutOrg/").concat(e),method:"get"})}function D(e){return Object(r["a"])({url:"".concat(n,"/findmyship/").concat(e),method:"get"})}function b(e){return Object(r["a"])({url:"".concat(n,"/searchByshipNo"),method:"get",params:{shipNo:e}})}function g(e){return Object(r["a"])({url:"".concat(n,"/newpageV2"),method:"get",params:e})}function w(e){return Object(o["a"])({url:"tybship/tybshipExcelExport/downShipInfo",data:e,title:"渔船信息"})}function O(e){return Object(o["a"])({url:"tmlms/tybmlmsExcelExport/downShipCrew",data:e,title:"开航登记表-"+e.shipName})}function P(e){return Object(o["a"])({url:"tmlms/tybmlmsExcelExport/downShipCrewRecord",data:e,title:"实名登记备案表-"+e.shipName})}function v(e){return Object(o["a"])({url:"tmlms/tybmlmsExcelExport/downShipCrewTwoOld ",data:e,title:"船员登记表-"+e.shipName})}function k(e){return Object(o["a"])({url:"tmlms/tybmlmsExcelExport/downContractModel",data:e,title:e.shipName})}function I(e){return Object(r["a"])({url:"tmlms/tyb_order/page",method:"get",params:e})}function E(e){return Object(r["a"])({url:"tmlms/tyb_order/getById",method:"get",params:e})}function x(e){return Object(r["a"])({url:"tmlms/tyb_order/agree",method:"post",data:e})}function j(e){return Object(r["a"])({url:"tmlms/tyb_order/reject",method:"post",data:e})}function T(e){return Object(r["a"])({url:"/tmlms/tybPortRecord/page",method:"get",params:e})}function C(e){return Object(r["a"])({url:"/tmlms/tybPortRecord/lastRecord",method:"get",params:e})}function S(e){return Object(r["a"])({url:"/tmlms/tybPortRecord/getCrewByRecordId",method:"get",params:e})}function M(e){return Object(r["a"])({url:"/tybship/tybship/info/".concat(e),method:"get"})}function L(e){return Object(r["a"])({url:"/tmlms/crew_cert/certStandard/".concat(e),method:"get"})}function N(e){return Object(r["a"])({url:"/tmlms/investigationReport/pageByShipName?shipName=".concat(e),method:"get"})}function A(e){return Object(r["a"])({url:"/tmlms/crew/countContractByShipId?shipId=".concat(e),method:"get"})}function B(e){return Object(r["a"])({url:"/tmlms/tybPortRecord/page",method:"get",params:e})}function $(e){return Object(r["a"])({url:"/tmlms/tybTroubleshootReport/pageByShipNo",method:"get",params:e})}function R(e){return Object(r["a"])({url:"/tmlms/tyb_order/pageByShipName",method:"get",params:e})}function U(e){return Object(r["a"])({url:"/tmlms/verification/page",method:"get",params:e})}function K(e){return console.log(e),Object(r["a"])({url:"/tmlms/tyb_order/getById?id=".concat(e.id),method:"get"})}function W(e){return Object(r["a"])({url:"/tmlms/tybmlmsExcelExport/downVerification",method:"post",headers:{"Content-Type":"application/json"},responseType:"arraybuffer",data:e}).then((function(e){var t=new Blob([e.data],{type:"application/vnd.ms-excel"}),a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.download="实船鉴证.xls",a.click()}))}},ccb2:function(e,t,a){"use strict";a("6609")}}]);