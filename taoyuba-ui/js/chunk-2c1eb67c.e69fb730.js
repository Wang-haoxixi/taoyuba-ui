(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c1eb67c","chunk-2d0d7ac3","chunk-2d0d7ac3"],{"5aa1":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("page-header",{attrs:{title:e.formData.contractName,backOption:e.backOption}},[a("div",{staticClass:"tags",attrs:{slot:"sub"},slot:"sub"},[a("iep-tag-detail",{model:{value:e.formData.tagKeyWords,callback:function(t){e.$set(e.formData,"tagKeyWords",t)},expression:"formData.tagKeyWords"}})],1)]),a("el-row",{staticClass:"info"},[e._l(e.infoList,function(t,r){return a("el-col",{key:r,staticClass:"item",attrs:{span:12}},[a("label",[e._v(e._s(t.name)+"：")]),"dict"==t.type?a("span",[e._v(e._s(e.dictsMap[t.value][e.formData[t.value]]))]):"date"==t.type?a("span",[e._v(e._s(e.formatYear(e.formData[t.value])))]):a("span",[e._v(e._s(e.formData[t.value]))])])}),a("el-col",{staticClass:"item remark"},[a("div",{staticClass:"remark-title"},[e._v("合同说明/收款方式：")]),a("div",{staticClass:"remark-content"},[e._v(e._s(e.formData.contractExpl))])]),a("el-col",{staticClass:"item file"},[a("el-col",{staticClass:"item",attrs:{span:12}},[a("label",[e._v("合同附件：")]),e._l(e.formData.contractFileList,function(t,r){return a("span",{key:r},[a("i",{staticClass:"icon-fujian"}),e._v(e._s(t.name)+" "),a("iep-button",{attrs:{type:"text"},on:{click:function(a){return e.downloadFile(t)}}},[e._v("下载")])],1)})],2)],1)],2),a("el-row",{staticClass:"clause"},[a("el-col",{staticClass:"name"},[e._v("合同/项目款项")]),a("el-row",{staticClass:"list"},[a("el-col",{staticClass:"title"},[e._v("关联项目：")]),a("el-col",{staticClass:"content"},[a("label",[e._v("金额")]),a("span",[e._v("50,000")])])],1),a("el-row",{staticClass:"list"},[a("el-col",{staticClass:"title"},[e._v("回款率：")]),a("el-col",{staticClass:"content"},[a("label",[e._v("40%")])])],1),a("el-row",{staticClass:"list"},[a("el-col",{staticClass:"title"},[e._v("集团项目管理费：")]),a("el-col",{staticClass:"content"},[a("label",[e._v("金额")]),a("span",[e._v("10,000")]),a("label",[e._v("费率")]),a("span",[e._v("5%")])])],1),a("el-row",{staticClass:"list"},[a("el-col",{staticClass:"title"},[e._v("开票费：")]),a("el-col",{staticClass:"content"},[a("label",[e._v("金额")]),a("span",[e._v("1000")]),a("label",[e._v("费率")]),a("span",[e._v("1%")])])],1),a("el-row",{staticClass:"list"},[a("el-col",{staticClass:"title"},[e._v("税费：")]),a("el-col",{staticClass:"content"},[a("label",[e._v("金额")]),a("span",[e._v("2,300")]),a("label",[e._v("费率")]),a("span",[e._v("6.34%")])])],1),a("el-row",{staticClass:"list"},[a("el-col",{staticClass:"title"},[e._v("合同收款：")]),a("el-col",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.contractMoney,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"date",label:"到账时间"}}),a("el-table-column",{attrs:{prop:"money",label:"到账金额"}}),a("el-table-column",{attrs:{prop:"const",label:"累计到账"}}),a("el-table-column",{attrs:{prop:"icon",label:"到账比例"}})],1)],1)],1),a("el-row",{staticClass:"list"},[a("el-col",{staticClass:"title"},[e._v("项目主要支付：")]),a("el-col",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.payList,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"waibao",label:"项目外包费用"}}),a("el-table-column",{attrs:{prop:"pingshen",label:"项目评审费用（专家费等）"}}),a("el-table-column",{attrs:{prop:"fuwu",label:"项目服务费用（中标费用、佣金等）"}})],1)],1)],1)],1)],1)},n=[],s=(a("ac4d"),a("8a81"),a("ac6a"),a("28a5"),a("7f7f"),a("be94")),i=(a("788d"),a("a44a")),l=a("c23e"),c=a("2f62"),o=a("2934");function u(e){return e>9?""+e:"0"+e}function g(e){var t=new Date(e),a=[t.getFullYear(),u(t.getMonth()+1),u(t.getDate())],r=["-","-","-"];return String.raw.apply(String,[{raw:a}].concat(r))}var d={data:function(){var e=this;return{formData:{},dictsMap:l["a"],backOption:{isBack:!0,backPath:null,backFunction:function(){var t=e.$route.params;t.id?e.$router.go(-1):e.$emit("load-page",!0)}},infoList:[{name:"关联项目",value:"projectName"},{name:"市场经理",value:"directorRealName"},{name:"合同类型",value:"contractType",type:"dict"},{name:"业务类型",value:"businessTypeList"},{name:"签订日期",value:"signTime",type:"date"},{name:"完结日期",value:"finishTime",type:"date"},{name:"委托单位",value:"companyName"},{name:"签署单位",value:"signCompanyRealName"},{name:"签署组织",value:"signDeptOrgNames"},{name:"承接部门",value:"underTakeDeptNames"},{name:"合同金额",value:"contractAmount"},{name:"合同级别",value:"contractLevel",type:"dict"},{name:"保证金",value:"deposit"}],contractMoney:[{date:"2019-03-22",money:"22,000",const:"22,000",icon:"9.0%"}],payList:[{waibao:"8000",pingshen:"20000",fuwu:"3000"}],formatYear:g}},computed:Object(s["a"])({},Object(c["c"])(["dictGroup"])),methods:{open:function(e){var t=this;Object(i["d"])(e).then(function(e){var a=e.data.data;a.signDeptOrgNames=a.signDeptOrgName.name;var r="",n=!0,s=!1,i=void 0;try{for(var l,c=a.underTakeDeptName[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var o=l.value;r+=o.name+"、"}}catch(S){s=!0,i=S}finally{try{n||null==c.return||c.return()}finally{if(s)throw i}}a.underTakeDeptNames=r.slice(0,r.length-1),a.projectName=a.projectRelation?a.projectRelation.name:"无",console.log("data: ",a);var u=a.businessType.split(","),g=[],d=!0,p=!1,m=void 0;try{for(var v,b=u[Symbol.iterator]();!(d=(v=b.next()).done);d=!0){var f=v.value,y=!0,h=!1,_=void 0;try{for(var w,C=t.dictGroup.prms_business_type[Symbol.iterator]();!(y=(w=C.next()).done);y=!0){var D=w.value,T=!0,O=!1,k=void 0;try{for(var N,j=D.children[Symbol.iterator]();!(T=(N=j.next()).done);T=!0){var q=N.value;q.value==f&&g.push(q.label)}}catch(S){O=!0,k=S}finally{try{T||null==j.return||j.return()}finally{if(O)throw k}}}}catch(S){h=!0,_=S}finally{try{y||null==C.return||C.return()}finally{if(h)throw _}}}}catch(S){p=!0,m=S}finally{try{d||null==b.return||b.return()}finally{if(p)throw m}}a.businessTypeList=g.toString(),t.formData=a})},downloadFile:function(e){Object(o["a"])({url:e.url,name:e.name})}},created:function(){var e=this.$route.params;e.id&&this.open(e.id)}},p=d,m=(a("6d9e"),a("2877")),v=Object(m["a"])(p,r,n,!1,null,"0678b5c3",null);t["default"]=v.exports},"5ee0":function(e,t,a){},"6d9e":function(e,t,a){"use strict";a("5ee0")},"788d":function(e,t,a){var r=a("5ca1"),n=a("6821"),s=a("9def");r(r.S,"String",{raw:function(e){var t=n(e.raw),a=s(t.length),r=arguments.length,i=[],l=0;while(a>l)i.push(String(t[l++])),l<r&&i.push(String(arguments[l]));return i.join("")}})},c23e:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"f",function(){return l}),a.d(t,"b",function(){return c}),a.d(t,"e",function(){return d}),a.d(t,"d",function(){return p}),a.d(t,"c",function(){return m});a("ac4d"),a("8a81"),a("7f7f"),a("ac6a");var r=a("e3c4"),n=Object(r["a"])({name:"dictGroup"}),s=function(e){var t={},a=!0,r=!1,s=void 0;try{for(var i,l=n[e][Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var c=i.value;t[c.value]=c.label}}catch(o){r=!0,s=o}finally{try{a||null==l.return||l.return()}finally{if(r)throw s}}return t},i={contractType:{0:"内部合同",1:"外部合同"},businessType:s("mlms_business_type"),contractStatus:s("mlms_contract_status"),contractLevel:s("mlms_contract_level")},l=[{label:"合同类型",prop:"contractType",type:"dict",width:"180px"},{label:"合同金额",prop:"contractAmount",width:"180px"},{label:"合同状态",prop:"contractStatus",type:"dict",width:"180px"},{label:"回款率",prop:"",minWidth:"100px"}],c=function(){return{contractName:"",contractExpl:"",contractType:"",businessType:"",tagKeyWords:[],signTime:"",finishTime:"",companyOrgId:"",companyOrgObj:{},signCompanyOrgId:"",signCompanyOrgObj:{},signDeptOrgId:"",signDeptName:"",underTakeDeptId:[],underTakeDeptList:[],directorId:"",directorName:"",directorList:{id:"",name:""},contractAmount:"",contractLevel:"",contractStatus:"",deposit:"",projectName:"",projectId:"",contractFile:[],contractFileList:[]}},o=function(e,t,a){/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/.test(t)||""===t?a():a(new Error)},u=function(e,t,a){/^\d+(\.\d{1,2})?$/.test(t)||""===t?a():a(new Error)},g=function(e,t,a){void 0==t.id?a(new Error):a()},d={contractName:[{required:!0,message:"必填",trigger:"blur"}],contractExpl:[{required:!0,message:"必填",trigger:"blur"}],contractType:[{required:!0,message:"必填",trigger:"change"}],businessType:[{required:!0,message:"必填",trigger:"change"}],tagKeyWords:[{required:!0,message:"必填",trigger:"change"}],signTime:[{required:!0,message:"必填",trigger:"blur"}],finishTime:[{required:!0,message:"必填",trigger:"blur"}],companyOrgId:[{required:!0,message:"必填",trigger:"change"}],companyOrgObj:[{validator:g,message:"必填",trigger:"change"}],signCompanyOrgId:[{required:!0,message:"必填",trigger:"change"}],signCompanyOrgObj:[{validator:g,message:"必填",trigger:"change"}],signDeptOrgId:[{required:!0,message:"必填",trigger:"change"}],signDeptName:[{required:!0,message:"必填",trigger:"change"}],underTakeDeptId:[{required:!0,message:"必填",trigger:"change"}],underTakeDeptList:[{required:!0,message:"必填",trigger:"change"}],directorId:[{required:!0,message:"必填",trigger:"change"}],directorName:[{required:!0,message:"必填",trigger:"change"}],directorList:[{required:!0,message:"必填",trigger:"change"}],contractAmount:[{required:!0,message:"必填",trigger:"change"},{validator:o,message:"请输入正数",trigger:"change"},{validator:u,message:"小数位最多为2位",trigger:"change"}],contractLevel:[{required:!0,message:"必填",trigger:"change"}],contractStatus:[{required:!0,message:"必填",trigger:"change"}],deposit:[{validator:o,message:"请输入正数",trigger:"change"},{validator:u,message:"小数位最多为2位",trigger:"change"}],projectId:[{required:!0,message:"必填",trigger:"change"}]},p=[{label:"项目名称",prop:"projectName"},{label:"项目预算",prop:"projectBudget"},{label:"发布人",prop:"publisherName"}];function m(){return{contractName:"",director:"",businessTypeFirst:"",businessType:"",contractLevel:"",contractStatus:"",signDeptName:"",signTime:"",contractType:""}}}}]);