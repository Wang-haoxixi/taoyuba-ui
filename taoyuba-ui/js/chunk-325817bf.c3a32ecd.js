(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-325817bf"],{"0f1e":function(e,t,n){"use strict";n.d(t,"k",function(){return s}),n.d(t,"j",function(){return c}),n.d(t,"m",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"l",function(){return m}),n.d(t,"f",function(){return h}),n.d(t,"h",function(){return f}),n.d(t,"d",function(){return g}),n.d(t,"g",function(){return b}),n.d(t,"n",function(){return w}),n.d(t,"c",function(){return v}),n.d(t,"b",function(){return y});var r=n("b5c6"),a=n("2f9e"),i="tybhrms/resume",o="tmlms/shipownerRecruit";function s(e){return Object(r["a"])({url:"".concat(i,"/getPage"),method:"get",params:e})}function c(e){return Object(r["a"])({url:"".concat(i,"/getMyCerts"),method:"get",params:e})}function u(e,t){return Object(r["a"])({url:"".concat(i,"/review?status=").concat(e,"&resumeId=").concat(t),method:"post"})}function l(e){return Object(r["a"])({url:"".concat(i,"/delete/")+e,method:"post",data:e})}function d(e){return Object(r["a"])({url:"".concat(i,"/add"),method:"post",data:e})}function p(e){return Object(r["a"])({url:"".concat(i,"/")+e,method:"get",params:e})}function m(e,t){return Object(r["a"])({url:"".concat(i,"/update"),method:"put",params:{publish:t},data:e})}function h(e){return Object(a["a"])({url:"tybhrms/tybExcelExport/resume",data:e,title:"简历信息"})}function f(e){return Object(r["a"])({url:"".concat(o,"/page"),method:"get",params:e})}function g(e){return Object(r["a"])({url:"".concat(o,"/delete/")+e,method:"post",data:e})}function b(e){return Object(r["a"])({url:"".concat(o,"/")+e,method:"get",dparamsata:e})}function w(e){return Object(r["a"])({url:"".concat(o,"/update"),method:"post",data:e})}function v(e){return Object(r["a"])({url:"".concat(o,"/create"),method:"post",data:e})}function y(e){return Object(r["a"])({url:"tybship/tybship/findmyship/"+e,method:"get"})}},"2f9e":function(e,t,n){"use strict";n.d(t,"a",function(){return a});n("ac6a"),n("28a5"),n("a481");var r=n("b5c6");function a(e){var t=e.url,n=e.method,a=void 0===n?"post":n,o=e.data,s=void 0===o?{}:o,c=e.title,u=void 0===c?"":c;return new Promise(function(e){return Object(r["a"])({url:t,method:a,headers:{responseType:"arraybuffer"},data:s,responseType:"blob"}).then(function(t){i({title:u,response:t}).then(function(){e()})})})}function i(e){var t=e.title,n=void 0===t?"":t,r=e.response,a=o(r.headers["content-disposition"].replace(/"/g,""));return new Promise(function(e){var t=r.headers,i=new Blob([r.data],{type:t["content-type"]});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(i,n);else{var o=document.createElement("a");o.href=window.URL.createObjectURL(i),o.download=n?"".concat(n,".").concat(a.suffix):a.filename,document.body.appendChild(o),o.style.display="none",o.click()}e()})}function o(e){var t={},n=e.split(";");return n.forEach(function(e){var n=e.replace(/^\s+|\s+$/g,""),r=n.split("=");r[1]?t[r[0]]=r[1]:t[r[0]]=r[0]}),t.suffix=t.filename.split(".")[1],t}},"502e":function(e,t,n){"use strict";var r=n("be94"),a=(n("96cf"),n("1da1")),i=n("51f4"),o={delete:"删除",shelf:"上架",submit:"提交",cancel:"撤销"};t["a"]={data:function(){return{pagedTable:[],multipleSelection:[],isLoadTable:!0,pagination:this._pageOption(),pageOption:this._pageOption(),searchForm:{}}},methods:{_pageOption:function(){return Object(i["a"])()},searchPage:function(e){this.pageOption=this._pageOption(),this.searchForm=e,this.loadPage(e)},loadTable:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,n){var a,i,o,s,c,u,l,d,p,m=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=m.length>2&&void 0!==m[2]?m[2]:function(e){return e},this.isLoadTable=!0,e.next=4,n(Object(r["a"])({},this.pageOption,t));case 4:return i=e.sent,o=i.data,s=o.data,c=s.records,u=s.size,l=s.total,d=s.current,p=l/u+1===d,p&&0!==l?this.searchPage({current:d-1,size:u,total:l}):this.pagination={current:d,size:u,total:l},this.pagedTable=c.map(a),this.isLoadTable=!1,e.abrupt("return",o.data);case 12:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){this.pageOption.size=e,this.loadPage()},handleCurrentChange:function(e){this.pageOption.current=e,this.loadPage()},_handleGlobalDeleteById:function(e,t){this._handleGlobalById(e,t,"delete")},_handleGlobalDeleteAll:function(e){this._handleGlobalAll(e,"delete")},_handleGlobalById:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"delete",a=o[r];this.$confirm("此操作将".concat(a,"该数据, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t(e).then(function(e){e.data.data?n.$message({type:"success",message:"".concat(a,"成功!")}):n.$message({type:"info",message:"".concat(a,"失败，").concat(e.data.msg)}),n.loadPage()})})},_handleGlobalAll:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n,r,i,s=this,c=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:"delete",r=this.multipleSelection,i=o[n],void 0!==r&&0!==r.length){e.next=6;break}return this.$message("请先选择需要".concat(i,"的选项")),e.abrupt("return");case 6:this.$confirm("此操作将".concat(i,"这些数据, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(a["a"])(regeneratorRuntime.mark(function e(){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t(r);case 2:n=e.sent,a=n.data,a.data?(s.$message({type:"success",message:"".concat(i,"成功!")}),s.pageOption=s._pageOption()):s.$message({type:"info",message:"".concat(i,"失败，").concat(a.msg)}),s.loadPage();case 6:case"end":return e.stop()}},e)})));case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),_handleComfirm:function(e,t,n,r,i){var o=this;this.$confirm(r||"是否".concat(n),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(a["a"])(regeneratorRuntime.mark(function r(){var a,s;return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t(e);case 2:a=r.sent,s=a.data,s.data?o.$message({type:"success",message:i||"".concat(n,"成功!")}):o.$message({type:"info",message:"".concat(s.msg)}),o.loadPage();case 6:case"end":return r.stop()}},r)}))).catch(function(e){o.$message({type:"info",message:"".concat(e,", 已取消").concat(n)})})},mixinsCellPointerStyle:function(e){var t=e.column;return"index"!==t.type&&"selection"!==t.type&&"操作"!==t.label&&"cursor:pointer"}}}},"9b20":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"e",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"c",function(){return o}),n.d(t,"f",function(){return m}),n.d(t,"d",function(){return d});var r=n("0e0b"),a={resumeStatus:{0:"待审核",1:"正常",2:"不通过"},isPublic:{0:"不公开",1:"公开"},isRcmd:{0:"不推荐",1:"推荐"}},i=[{prop:"resumeId",label:"编号"},{prop:"realName",label:"姓名"},{prop:"job",label:"应聘职位",dictName:"tyb_resume_position",type:"dictGroup"},{prop:"updateTime",label:"更新时间"},{prop:"resumeStatus",label:"简历状态",type:"dict"}],o=function(e){var t=Object(r["g"])(s(),e);return t},s=function(){return{resumeId:"",realName:"",birthday:"",province:"",city:"",contactPhone:"",education:"",expectSalary:"",foreignLanguage:"",height:"",isPublic:"",postion:"",job:"",seniority:"",skill:"",workRequire:"",workDetail:"",workExprience:""}},c=function(){return{realName:"",resumeId:"",startdate:"",resumeCrestartdate:"",resumeCreenddate:""}},u=function(){return{realName:"",resumeId:"",startdate:"",resumeCrestartdate:"",resumeCreenddate:""}},l=function(e){var t=Object(r["g"])(u(),e);return t.realName=e.realName?e.realName:null,t},d=function(){return{resumeId:"",realName:"",birthday:"",province:"",city:"",contactPhone:"",education:"",expectSalary:"",foreignLanguage:"",height:"",isPublic:"",postion:"",job:"",seniority:"",skill:"",workRequire:"",workDetail:"",workExprience:""}},p=function(e,t,n){if(""!==t){var r=/(^1[0-9]{10}$)|(^0\d{2,3}-?\d{7,8}$)/;r.test(t)||n(new Error("请输入11位的手机号码"))}n()},m={realName:[{required:!0,message:"请填姓名",trigger:"blur"},{min:2,max:4,message:"长度在 2 到 4 个字符",trigger:"blur"}],birthday:[{required:!0,message:"请填出生日期",trigger:"blur"}],province:[{required:!0,message:"请填省",trigger:"blur"}],city:[{required:!0,message:"请填市",trigger:"blur"}],contactPhone:[{required:!0,message:"请填联系电话",trigger:"blur"},{validator:p,trigger:"blur"}],education:[{required:!0,message:"请填教育程度",trigger:"blur"}],expectSalary:[{required:!0,message:"请填期望月薪",trigger:"blur"},{max:10,message:"不得超过10位数",trigger:"blur"}],foreignLanguage:[{required:!0,message:"请填外语水平",trigger:"blur"}],height:[{required:!0,message:"请填身高",trigger:"blur"},{max:3,message:"不得超过4位数",trigger:"blur"}],isPublic:[{required:!0,message:"请填是否公开",trigger:"blur"}],postion:[{required:!0,message:"请填原任职务",trigger:"blur"}],job:[{required:!0,message:"请填应聘职位",trigger:"blur"}],skill:[{required:!0,message:"请填特殊技能",trigger:"blur"},{max:25,message:"长度在 0 到 25 个字符",trigger:"blur"}],workRequire:[{required:!0,message:"请填作业要求",trigger:"blur"}],workExprience:[{required:!0,message:"请填工作经验",trigger:"blur"}]}},b652:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{model:e.form,"label-width":"120px",size:"mini"}},[n("el-form-item",{attrs:{label:"姓名："}},[n("el-input",{model:{value:e.form.realName,callback:function(t){e.$set(e.form,"realName",t)},expression:"form.realName"}})],1),n("el-form-item",{attrs:{label:"简历编号："}},[n("el-input",{model:{value:e.form.resumeId,callback:function(t){e.$set(e.form,"resumeId",t)},expression:"form.resumeId"}})],1),n("el-form-item",{attrs:{label:"简历发布时间："}},[n("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.form.startdate,callback:function(t){e.$set(e.form,"startdate",t)},expression:"form.startdate"}})],1),n("el-form-item",[n("operation-wrapper",[n("iep-button",{attrs:{type:"primary"},on:{click:e.searchPage}},[e._v("搜索")]),n("iep-button",{on:{click:e.clearSearchParam}},[e._v("清空")])],1)],1)],1)},a=[],i=n("9b20"),o={data:function(){return{dictsMap:i["b"],form:Object(i["e"])(),pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]}}},methods:{searchPage:function(){this.form.startdate&&(this.form.resumeCrestartdate=this.form.startdate[0],this.form.resumeCreenddate=this.form.startdate[1]),this.$emit("search-page",Object(i["g"])(this.form))},clearSearchParam:function(){this.form=Object(i["e"])()}},watch:{"form.startdate":function(e){console.log(e)}}},s=o,c=n("2877"),u=Object(c["a"])(s,r,a,!1,null,null,null);t["default"]=u.exports},d808:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("basic-container",[n("page-header",{attrs:{title:"求职简历"}}),n("operation-container",[n("template",{slot:"left"},[n("iep-button",{attrs:{type:"primary",icon:"el-icon-plus",plain:""},on:{click:function(t){return e.handleAdd()}}},[e._v("新增")]),n("iep-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.handleExport()}}},[e._v("导出")])],1),n("template",{slot:"right"},[n("operation-search",{attrs:{"advance-search":"",prop:e.searchData},on:{"search-page":e.searchPage}},[n("advance-search",{on:{"search-page":e.searchPage}})],1)],1)],2),n("iep-table",{attrs:{isLoadTable:e.isLoadTable,pagination:e.pagination,dictsMap:e.dictsMap,columnsMap:e.columnsMap,pagedTable:e.pagedTable,"is-mutiple-selection":""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"selection-change":e.handleSelectionChange}},[e.manager?n("el-table-column",{attrs:{prop:"status",label:"审核操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(n){return e.getStatus(t.row.swith,t.row.resumeId)}},model:{value:t.row.swith,callback:function(n){e.$set(t.row,"swith",n)},expression:"scope.row.swith"}})],1)]}}],null,!1,605836754)}):e._e(),n("el-table-column",{attrs:{prop:"operation",label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("operation-wrapper",[n("iep-button",{attrs:{type:"warning",plain:""},on:{click:function(n){return e.handleEdit(t.row)}}},[e._v("编辑")]),n("iep-button",{on:{click:function(n){return e.handleDetail(t.row)}}},[e._v("查看")]),n("iep-button",{attrs:{type:"default"},on:{click:function(n){return e.handleDelete(t.row)}}},[n("i",{staticClass:"el-icon-delete"})])],1)]}}])})],1)],1)],1)},a=[],i=(n("ac6a"),n("6762"),n("2fdb"),n("96cf"),n("1da1")),o=n("0f1e"),s=n("b652"),c=n("7ded"),u=n("502e"),l=n("9b20"),d={components:{AdvanceSearch:s["default"]},mixins:[u["a"]],data:function(){return{dictsMap:l["b"],columnsMap:l["a"],searchData:"realName",userData:{roles:[]},pagedTable:[],manager:!0,ids:[],roleDate:[]}},created:function(){this.loadPage(),this.getIds()},methods:{handleSelectionChange:function(e){this.multipleSelection=e.map(function(e){return e.id})},handleDelete:function(e){this._handleGlobalDeleteById(e.resumeId,o["e"])},handleAdd:function(){this.$router.push({path:"/hrms_spa/resume_post/0"})},handleEdit:function(e){this.$router.push({path:"/hrms_spa/resume_post/".concat(e.resumeId)})},handleDetail:function(e){this.$emit("onDetail",e)},getStatus:function(e,t){var n=this,r="";r=e?1:2,Object(o["m"])(r,t).then(function(e){n.$message({type:"success",message:e.data.msg}),n.loadPage()})},handleExport:function(){var e=this;Object(o["f"])(this.ids).catch(function(t){e.$message({type:"warning",message:t})})},getIds:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["c"])().then(function(e){return e.data.data.roles});case 2:this.roleDate=e.sent,this.roleDate.includes(111)||this.roleDate.includes(1)?Object(o["k"])().then(function(e){t.ids=e.data.data.records.map(function(e){return e.resumeId})}):Object(o["j"])().then(function(e){t.ids=e.data.data.records.map(function(e){return e.resumeId})});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),loadPage:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:this.searchForm,e.next=3,Object(c["c"])().then(function(e){return e.data.data});case 3:if(this.userData=e.sent,-1!==this.userData.roles.indexOf(111)||-1!==this.userData.roles.indexOf(1)){e.next=13;break}return e.next=7,this.loadTable(t,o["j"]);case 7:n=e.sent,this.pagedTable=n.records,this.manager=!1,"姓名"===l["a"][0].label&&l["a"].splice(0,1),e.next=19;break;case 13:return e.next=15,this.loadTable(t,o["k"]);case 15:r=e.sent,this.pagedTable=r.records,this.manager=!0,this.pagedTable.forEach(function(e){1===e.resumeStatus?e.swith=!0:e.swith=!1});case 19:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},watch:{pagedTable:function(e){this.ids=e.map(function(e){return e.resumeId})}}},p=d,m=n("2877"),h=Object(m["a"])(p,r,a,!1,null,null,null);t["default"]=h.exports}}]);