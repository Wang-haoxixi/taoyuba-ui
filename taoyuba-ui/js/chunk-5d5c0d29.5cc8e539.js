(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d5c0d29"],{"0b36":function(e,t,a){"use strict";a("6046")},"222c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{size:"small","label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"模块编号："}},[a("div",[e._v(e._s(e.form.number))])])],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"模块分类："}},[a("iep-dict-detail",{attrs:{value:e.form.type,"dict-name":"cpms_module_type"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"测试地址："}},[a("div",[e._v(e._s(e.form.website))])])],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"模块指导价："}},[a("div",[e._v(e._s(e.form.guidePrice)+"元")])])],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"模块优惠价："}},[a("div",[e._v(e._s(e.form.preferentialPrice)+"元")])])],1)],1),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"模块介绍："}},[a("div",[e._v(e._s(e.form.description))])])],1)],1)],1)},n=[],s={props:{form:{type:Object,required:!0}},data:function(){return{}}},i=s,l=a("2877"),o=Object(l["a"])(i,r,n,!1,null,null,null);t["default"]=o.exports},"343b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{attrs:{data:e.form.materialRelations,border:""}},[a("el-table-column",{attrs:{label:"标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.name))])]}}])}),a("el-table-column",{attrs:{label:"类别"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("iep-dict-detail",{attrs:{value:e.row.materialType,"dict-name":"mlms_material_type"}})]}}])})],1)},n=[],s={name:"IepCpmsMaterial",props:{form:{type:Object,required:!0}}},i=s,l=a("2877"),o=Object(l["a"])(i,r,n,!1,null,null,null);t["default"]=o.exports},3699:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.form.technologyRelations.length?e._l(e.form.technologyRelations,function(t){return a("div",{key:t.id,staticClass:"module"},[a("div",{staticClass:"img"},[a("iep-img",{attrs:{src:t.imageUrl,alt:""}})],1),a("div",{staticClass:"module-title iep-ellipsis"},[e._v(e._s(t.name))])])}):a("iep-no-data",{attrs:{message:"暂无关联技术"}})],2)},n=[],s={props:{form:{type:Object,required:!0}}},i=s,l=(a("0b36"),a("2877")),o=Object(l["a"])(i,r,n,!1,null,"73a68b80",null);t["default"]=o.exports},"502e":function(e,t,a){"use strict";var r=a("be94"),n=(a("96cf"),a("1da1")),s=a("51f4"),i={delete:"删除",shelf:"上架",submit:"提交",cancel:"撤销"};t["a"]={data:function(){return{pagedTable:[],multipleSelection:[],isLoadTable:!0,pagination:this._pageOption(),pageOption:this._pageOption(),searchForm:{}}},methods:{_pageOption:function(){return Object(s["a"])()},searchPage:function(e){this.pageOption=this._pageOption(),this.searchForm=e,this.loadPage(e)},loadTable:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,a){var n,s,i,l,o,c,u,d,m,f=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=f.length>2&&void 0!==f[2]?f[2]:function(e){return e},this.isLoadTable=!0,e.next=4,a(Object(r["a"])({},this.pageOption,t));case 4:return s=e.sent,i=s.data,l=i.data,o=l.records,c=l.size,u=l.total,d=l.current,m=u/c+1===d,m&&0!==u?this.searchPage({current:d-1,size:c,total:u}):this.pagination={current:d,size:c,total:u},this.pagedTable=o.map(n),this.isLoadTable=!1,e.abrupt("return",i.data);case 12:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){this.pageOption.size=e,this.loadPage()},handleCurrentChange:function(e){this.pageOption.current=e,this.loadPage()},_handleGlobalDeleteById:function(e,t){this._handleGlobalById(e,t,"delete")},_handleGlobalDeleteAll:function(e){this._handleGlobalAll(e,"delete")},_handleGlobalById:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"delete",n=i[r];this.$confirm("此操作将".concat(n,"该数据, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t(e).then(function(e){e.data.data?a.$message({type:"success",message:"".concat(n,"成功!")}):a.$message({type:"info",message:"".concat(n,"失败，").concat(e.data.msg)}),a.loadPage()})})},_handleGlobalAll:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var a,r,s,l=this,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=o.length>1&&void 0!==o[1]?o[1]:"delete",r=this.multipleSelection,s=i[a],void 0!==r&&0!==r.length){e.next=6;break}return this.$message("请先选择需要".concat(s,"的选项")),e.abrupt("return");case 6:this.$confirm("此操作将".concat(s,"这些数据, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark(function e(){var a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t(r);case 2:a=e.sent,n=a.data,n.data?(l.$message({type:"success",message:"".concat(s,"成功!")}),l.pageOption=l._pageOption()):l.$message({type:"info",message:"".concat(s,"失败，").concat(n.msg)}),l.loadPage();case 6:case"end":return e.stop()}},e)})));case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),_handleComfirm:function(e,t,a,r,s){var i=this;this.$confirm(r||"是否".concat(a),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark(function r(){var n,l;return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t(e);case 2:n=r.sent,l=n.data,l.data?i.$message({type:"success",message:s||"".concat(a,"成功!")}):i.$message({type:"info",message:"".concat(l.msg)}),i.loadPage();case 6:case"end":return r.stop()}},r)}))).catch(function(e){i.$message({type:"info",message:"".concat(e,", 已取消").concat(a)})})},mixinsCellPointerStyle:function(e){var t=e.column;return"index"!==t.type&&"selection"!==t.type&&"操作"!==t.label&&"cursor:pointer"}}}},5304:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{attrs:{data:e.form.versions,border:""}},[a("el-table-column",{attrs:{label:"版本号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.versionNumber))])]}}])}),a("el-table-column",{attrs:{label:"上线日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e._f("parseTime")(t.row.onlineTime,"{y}-{m}-{d}")))])]}}])}),a("el-table-column",{attrs:{label:"更新说明"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.updateContent)+"\n      ")]}}])})],1)],1)},n=[],s={props:{form:{type:Object,required:!0}}},i=s,l=a("2877"),o=Object(l["a"])(i,r,n,!1,null,null,null);t["default"]=o.exports},"59e1":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{size:"small","label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"负责人："}},[a("iep-contact-multiple-user",{attrs:{disabled:""},model:{value:e.form.userRelationCharges,callback:function(t){e.$set(e.form,"userRelationCharges",t)},expression:"form.userRelationCharges"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"需求方："}},[a("iep-contact-multiple-user",{attrs:{disabled:""},model:{value:e.form.userRelationDemands,callback:function(t){e.$set(e.form,"userRelationDemands",t)},expression:"form.userRelationDemands"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"技术经理："}},[a("iep-contact-multiple-user",{attrs:{disabled:""},model:{value:e.form.userRelationTechnologys,callback:function(t){e.$set(e.form,"userRelationTechnologys",t)},expression:"form.userRelationTechnologys"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"产品经理："}},[a("iep-contact-multiple-user",{attrs:{disabled:""},model:{value:e.form.userRelationProducts,callback:function(t){e.$set(e.form,"userRelationProducts",t)},expression:"form.userRelationProducts"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"团队成员："}},[a("iep-contact-multiple-user",{attrs:{disabled:""},model:{value:e.form.userRelationTeams,callback:function(t){e.$set(e.form,"userRelationTeams",t)},expression:"form.userRelationTeams"}})],1)],1)],1)],1)},n=[],s={props:{form:{type:Object,required:!0}}},i=s,l=a("2877"),o=Object(l["a"])(i,r,n,!1,null,null,null);t["default"]=o.exports},6046:function(e,t,a){},9590:function(e,t,a){},"98ee":function(e,t,a){"use strict";a("9590")},bfdc:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.form.productRelations.length?e._l(e.form.productRelations,function(t){return a("div",{key:t.id,staticClass:" module"},[a("div",{staticClass:"img"},[a("iep-img",{attrs:{src:t.imageUrl,alt:""}})],1),a("div",{staticClass:"module-title iep-ellipsis"},[e._v(e._s(t.name))])])}):a("iep-no-data",{attrs:{message:"暂无关联产品"}})],2)},n=[],s={props:{form:{type:Object,required:!0}}},i=s,l=(a("f17fc"),a("2877")),o=Object(l["a"])(i,r,n,!1,null,"2afed688",null);t["default"]=o.exports},c05e:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("basic-container",[a("iep-page-header",{attrs:{"is-advance":"",backOption:e.backOption}},[a("template",{slot:"custom"},[a("el-row",[a("el-col",{staticClass:"img",attrs:{span:4}},[a("iep-img",{attrs:{src:e.form.imageUrl,alt:""}})],1),a("el-col",{staticClass:"title",attrs:{span:14}},[a("div",[a("div",{staticClass:"tags"},[a("span",{staticClass:"weight"},[e._v(e._s(e.form.name))]),a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.dictsMap.schedule[e.form.schedule]))])],1),a("div",{staticClass:"tags"},[a("iep-tag-detail",{attrs:{value:e.form.tagKeywords}})],1)])])],1)],1)],2),a("iep-tab-scroll",{attrs:{"tab-list":e.tabList,height:270}},[a("div",e._l(e.tabList,function(t){return a("div",{key:t.value,staticClass:"base",attrs:{id:t.value}},[a("div",{staticClass:"title"},[e._v(e._s(t.label))]),a("div",{staticClass:"context"},[a(t.value,{tag:"component",attrs:{form:e.form}})],1)])}),0)])],1)],1)},n=[],s=a("502e"),i=a("222c"),l=a("59e1"),o=a("5304"),c=a("bfdc"),u=a("3699"),d=a("343b"),m=a("f8e1"),f=a("cbf9"),p={name:"detail",components:{BaseInfo:i["default"],TeamInfo:l["default"],Versions:o["default"],Products:c["default"],Technologys:u["default"],Materials:d["default"]},mixins:[s["a"]],props:["record"],data:function(){return{dictsMap:m["a"],backOption:{isBack:!0,backPath:null,backFunction:this.handleGoBack},form:Object(m["b"])(),tabList:[{label:"基本信息",value:"BaseInfo"},{label:"团队信息",value:"TeamInfo"},{label:"全新版本",value:"Versions"},{label:"应用产品",value:"Products"},{label:"应用技术",value:"Technologys"},{label:"相关材料",value:"Materials"}]}},computed:{id:function(){return this.$route.params.id||this.record.id}},created:function(){var e=this;Object(f["b"])(this.id).then(function(t){var a=t.data;e.form=e.$mergeByFirst(Object(m["b"])(),a.data)})},methods:{handleGoBack:function(){this.$emit("onGoBack")}}},g=p,b=(a("98ee"),a("2877")),h=Object(b["a"])(g,r,n,!1,null,"6f91fcf6",null);t["default"]=h.exports},c3be:function(e,t,a){},cbf9:function(e,t,a){"use strict";a.d(t,"e",function(){return n}),a.d(t,"c",function(){return s}),a.d(t,"d",function(){return i}),a.d(t,"f",function(){return l}),a.d(t,"b",function(){return o}),a.d(t,"a",function(){return c});var r=a("b5c6"),n="/cpms/module";function s(e){return Object(r["a"])({url:"".concat(n,"/page"),method:"get",params:e})}function i(e){return Object(r["a"])({url:"".concat(n,"/create"),method:"post",data:e})}function l(e){return Object(r["a"])({url:"".concat(n,"/update"),method:"post",data:e})}function o(e){return Object(r["a"])({url:"".concat(n,"/").concat(e),method:"get"})}function c(e){return Object(r["a"])({url:"".concat(n,"/delete/").concat(e),method:"post"})}},f17fc:function(e,t,a){"use strict";a("c3be")},f8e1:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s}),a.d(t,"e",function(){return i}),a.d(t,"c",function(){return l}),a.d(t,"d",function(){return o});var r=a("be94"),n={schedule:{1:"立项",2:"研发中",3:"测试",4:"验收中",5:"已上架"}},s=function(){return{id:"",imageUrl:"",number:"",name:"",type:"",website:"",guidePrice:"",preferentialPrice:"",synopsis:"",description:"",schedule:1,versions:[],productRelations:[],technologyRelations:[],materialRelations:[],userRelationCharges:[],userRelationDemands:[],userRelationTechnologys:[],userRelationProducts:[],userRelationTeams:[],tagKeywords:[]}},i=function(e){var t=Object(r["a"])({},e);return t.userCharges=e.userRelationCharges.map(function(e){return e.id}),t.userDemands=e.userRelationDemands.map(function(e){return e.id}),t.userTechnologys=e.userRelationTechnologys.map(function(e){return e.id}),t.userProducts=e.userRelationProducts.map(function(e){return e.id}),t.userTeams=e.userRelationTeams.map(function(e){return e.id}),t.products=e.productRelations.map(function(e){return e.id}),t.technologys=e.technologyRelations.map(function(e){return e.id}),t.materials=e.materialRelations.map(function(e){return e.id}),delete t.userRelationCharges,delete t.userRelationDemands,delete t.userRelationTechnologys,delete t.userRelationProducts,delete t.userRelationTeams,delete t.productRelations,delete t.technologyRelations,delete t.materialRelations,t},l=function(){return{type:"",schedule:""}},o={imageUrl:[{required:!0,message:"请上传图片",trigger:"blur"}],number:[{required:!0,message:"请填写模块编号",trigger:"blur"}],name:[{required:!0,message:"请填写模块名称",trigger:"blur"}],type:[{required:!0,message:"请选择模块分类",trigger:"blur"}],website:[{required:!0,message:"请选择测试地址",trigger:"blur"}],guidePrice:[{required:!0,message:"请填写模块指导价",trigger:"blur"}],preferentialPrice:[{required:!0,message:"请填写模块优惠价",trigger:"blur"}],tagKeywords:[{type:"array",min:3,message:"标签至少 3 个",trigger:"change"},{type:"array",required:!0,message:"请填写标签",trigger:"change"}],synopsis:[{required:!0,message:"请填写模块简介",trigger:"blur"}],description:[{required:!0,message:"请填写模块介绍",trigger:"blur"}],userRelationCharges:[{required:!0,type:"array",message:"请填写负责人",trigger:"blur"}]}}}]);